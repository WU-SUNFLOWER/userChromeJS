<!DOCTYPE html>
<html>
<head>
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADIUlEQVQ4jYWTW0yTBwCF+6PoNlGgiCjFcpWmQIn8bUdLmSuMa4eGidJKuThJKCKXcjNkqAxqLckUW6BUYVIkKBidZNGo0cRolMywhehCdEuWxfkwXWKCJj6YPfjtwQdD0mTn+Zzv5ZwjkQTQ2OgIfu8BpkctXByvYeZMNxempwjkXaYR70keztt5+7KJ3+at/DR3mNnpWq5P5PDXFQNXB4rxegYCgx7/WMW//1iZXzjL5fkXnJuDnskl9h65g6b0EBEKE/YdqUzVxnNnvHo5xNlewav7mfS2ZtHh9NDhOEHb8ZtUtY+yY28/Yk45NfvzqLQVsF0dw9Gc9XTaLB8gN07rcX5TytbsOlgswFOmI73MRV6JnbStBiKT8nl+dTvPPTZWh8gp1cTQlKd4D5j4fpgH3mS27e7HYO7n7/tGbpQnEpy4k2OtZipEkZAtet7c0jGcmYYgVRIeJcNVEs2QewDJmKuR0216Sg78gLa4i18fmXjcE4sgaLg0WUybmEFURjY809KSq2CFzEBwuJyDRXL6D9qQ+Lqt2HdlU1DjJm1bJ6f8X8DPSj6NT2HxQT7n96RiqRLhmQazTsWqjVo+XreB+tzNOJotSIa7KqkvVJFR2Ep6dj26z9Xwp0ijKZY/7ulZHBJxupSwoCFZpmR1eCyha8OwF8npbTIjGelr5lh5Ikm6arIKG9iUlMXrRS1PRrXcdqiZmxB5+buRFzM6goW1SKVSosNC8e1PpbftayST/jFm6uJQqY2I+Y2s21jCzLgObproyY3DcSIFMHO3PZVVKz9iwydr+CwlmoUzRrxDg++bcFWrOfTVZiJSSglJqOWUywj3TNRkhWKrVPDumgnfLgXBQhBrhCBuTxXi6/vyww7cR63MNm+hwaRAiDSgV6ZTnKwiJlaNXJpATkQkqrAQggSBC/4i3j2ppLulbPkavQ1aBq1xfLcnjvhNMoQVcgRBhiCsRBAEDJlRPH3aw9JrJwP71IH/MDTo4bAlE39dAuc7lFxyaLg7kc/SLxXwqpnZyx2M+Hz//0q3+yRdLfvo6zRz/NtqnEea8Lg9AYP/AXhyyHOql6D0AAAAAElFTkSuQmCC" type="image/ico">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>css格式化壓縮 js壓縮格式化</title>
    <style>
        h3{font-family:"Arial";font-size:30px;color:#666;margin:20px 0 10px 0;text-shadow:2px 2px #fff;}#content{font-size:12px;border-radius:2px;border:1px solid #bbb;*border-color:#bbb #e9e9e9 #e9e9e9 #bbb;color:#325AA3;box-shadow:0 0 5px #ddd inset;overflow:auto;width:98%;height:500px;padding:5px;background-color:#fff;margin:5px 0;}#code{width:96%;height:auto;overflow:hidden;margin:auto;}.btn1{outline:none;background:#82ce18;font-size:14px;cursor:pointer;display:inline-block;text-decoration:none;padding:10px;border:1px solid #82ce18;color:#fff;width:120px;border-radius:2px;margin:5px 15px 0 0;text-shadow:-1px -1px #305CAA;font-weight:bold;letter-spacing:3px;}.cur1{outline:none;background:#FF9900;font-size:14px;cursor:pointer;display:inline-block;text-decoration:none;padding:10px;border:1px solid #FF9900;color:#000;width:120px;border-radius:2px;margin:5px 15px 0 0;text-shadow:-1px -1px #305CAA;font-weight:bold;letter-spacing:3px;}
    </style>
    <script type="text/javascript" src="data:application/x-javascript;base64,LyohIGpRdWVyeSB2MS43LjIganF1ZXJ5LmNvbSB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLw0KKGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gY3koYSl7cmV0dXJuIGYuaXNXaW5kb3coYSk/YTphLm5vZGVUeXBlPT09OT9hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdzohMX1mdW5jdGlvbiBjdShhKXtpZighY2pbYV0pe3ZhciBiPWMuYm9keSxkPWYoIjwiK2ErIj4iKS5hcHBlbmRUbyhiKSxlPWQuY3NzKCJkaXNwbGF5Iik7ZC5yZW1vdmUoKTtpZihlPT09Im5vbmUifHxlPT09IiIpe2NrfHwoY2s9Yy5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKSxjay5mcmFtZUJvcmRlcj1jay53aWR0aD1jay5oZWlnaHQ9MCksYi5hcHBlbmRDaGlsZChjayk7aWYoIWNsfHwhY2suY3JlYXRlRWxlbWVudCljbD0oY2suY29udGVudFdpbmRvd3x8Y2suY29udGVudERvY3VtZW50KS5kb2N1bWVudCxjbC53cml0ZSgoZi5zdXBwb3J0LmJveE1vZGVsPyI8IWRvY3R5cGUgaHRtbD4iOiIiKSsiPGh0bWw+PGJvZHk+IiksY2wuY2xvc2UoKTtkPWNsLmNyZWF0ZUVsZW1lbnQoYSksY2wuYm9keS5hcHBlbmRDaGlsZChkKSxlPWYuY3NzKGQsImRpc3BsYXkiKSxiLnJlbW92ZUNoaWxkKGNrKX1jalthXT1lfXJldHVybiBjalthXX1mdW5jdGlvbiBjdChhLGIpe3ZhciBjPXt9O2YuZWFjaChjcC5jb25jYXQuYXBwbHkoW10sY3Auc2xpY2UoMCxiKSksZnVuY3Rpb24oKXtjW3RoaXNdPWF9KTtyZXR1cm4gY31mdW5jdGlvbiBjcygpe2NxPWJ9ZnVuY3Rpb24gY3IoKXtzZXRUaW1lb3V0KGNzLDApO3JldHVybiBjcT1mLm5vdygpfWZ1bmN0aW9uIGNpKCl7dHJ5e3JldHVybiBuZXcgYS5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpfWNhdGNoKGIpe319ZnVuY3Rpb24gY2goKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319ZnVuY3Rpb24gY2IoYSxjKXthLmRhdGFGaWx0ZXImJihjPWEuZGF0YUZpbHRlcihjLGEuZGF0YVR5cGUpKTt2YXIgZD1hLmRhdGFUeXBlcyxlPXt9LGcsaCxpPWQubGVuZ3RoLGosaz1kWzBdLGwsbSxuLG8scDtmb3IoZz0xO2c8aTtnKyspe2lmKGc9PT0xKWZvcihoIGluIGEuY29udmVydGVycyl0eXBlb2YgaD09InN0cmluZyImJihlW2gudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2hdKTtsPWssaz1kW2ddO2lmKGs9PT0iKiIpaz1sO2Vsc2UgaWYobCE9PSIqIiYmbCE9PWspe209bCsiICIrayxuPWVbbV18fGVbIiogIitrXTtpZighbil7cD1iO2ZvcihvIGluIGUpe2o9by5zcGxpdCgiICIpO2lmKGpbMF09PT1sfHxqWzBdPT09IioiKXtwPWVbalsxXSsiICIra107aWYocCl7bz1lW29dLG89PT0hMD9uPXA6cD09PSEwJiYobj1vKTticmVha319fX0hbiYmIXAmJmYuZXJyb3IoIk5vIGNvbnZlcnNpb24gZnJvbSAiK20ucmVwbGFjZSgiICIsIiB0byAiKSksbiE9PSEwJiYoYz1uP24oYyk6cChvKGMpKSl9fXJldHVybiBjfWZ1bmN0aW9uIGNhKGEsYyxkKXt2YXIgZT1hLmNvbnRlbnRzLGY9YS5kYXRhVHlwZXMsZz1hLnJlc3BvbnNlRmllbGRzLGgsaSxqLGs7Zm9yKGkgaW4gZylpIGluIGQmJihjW2dbaV1dPWRbaV0pO3doaWxlKGZbMF09PT0iKiIpZi5zaGlmdCgpLGg9PT1iJiYoaD1hLm1pbWVUeXBlfHxjLmdldFJlc3BvbnNlSGVhZGVyKCJjb250ZW50LXR5cGUiKSk7aWYoaClmb3IoaSBpbiBlKWlmKGVbaV0mJmVbaV0udGVzdChoKSl7Zi51bnNoaWZ0KGkpO2JyZWFrfWlmKGZbMF1pbiBkKWo9ZlswXTtlbHNle2ZvcihpIGluIGQpe2lmKCFmWzBdfHxhLmNvbnZlcnRlcnNbaSsiICIrZlswXV0pe2o9aTticmVha31rfHwoaz1pKX1qPWp8fGt9aWYoail7aiE9PWZbMF0mJmYudW5zaGlmdChqKTtyZXR1cm4gZFtqXX19ZnVuY3Rpb24gYl8oYSxiLGMsZCl7aWYoZi5pc0FycmF5KGIpKWYuZWFjaChiLGZ1bmN0aW9uKGIsZSl7Y3x8YkQudGVzdChhKT9kKGEsZSk6Yl8oYSsiWyIrKHR5cGVvZiBlPT0ib2JqZWN0Ij9iOiIiKSsiXSIsZSxjLGQpfSk7ZWxzZSBpZighYyYmZi50eXBlKGIpPT09Im9iamVjdCIpZm9yKHZhciBlIGluIGIpYl8oYSsiWyIrZSsiXSIsYltlXSxjLGQpO2Vsc2UgZChhLGIpfWZ1bmN0aW9uIGIkKGEsYyl7dmFyIGQsZSxnPWYuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IoZCBpbiBjKWNbZF0hPT1iJiYoKGdbZF0/YTplfHwoZT17fSkpW2RdPWNbZF0pO2UmJmYuZXh0ZW5kKCEwLGEsZSl9ZnVuY3Rpb24gYlooYSxjLGQsZSxmLGcpe2Y9Znx8Yy5kYXRhVHlwZXNbMF0sZz1nfHx7fSxnW2ZdPSEwO3ZhciBoPWFbZl0saT0wLGo9aD9oLmxlbmd0aDowLGs9YT09PWJTLGw7Zm9yKDtpPGomJihrfHwhbCk7aSsrKWw9aFtpXShjLGQsZSksdHlwZW9mIGw9PSJzdHJpbmciJiYoIWt8fGdbbF0/bD1iOihjLmRhdGFUeXBlcy51bnNoaWZ0KGwpLGw9YlooYSxjLGQsZSxsLGcpKSk7KGt8fCFsKSYmIWdbIioiXSYmKGw9YlooYSxjLGQsZSwiKiIsZykpO3JldHVybiBsfWZ1bmN0aW9uIGJZKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3R5cGVvZiBiIT0ic3RyaW5nIiYmKGM9YixiPSIqIik7aWYoZi5pc0Z1bmN0aW9uKGMpKXt2YXIgZD1iLnRvTG93ZXJDYXNlKCkuc3BsaXQoYk8pLGU9MCxnPWQubGVuZ3RoLGgsaSxqO2Zvcig7ZTxnO2UrKyloPWRbZV0saj0vXlwrLy50ZXN0KGgpLGomJihoPWguc3Vic3RyKDEpfHwiKiIpLGk9YVtoXT1hW2hdfHxbXSxpW2o/InVuc2hpZnQiOiJwdXNoIl0oYyl9fX1mdW5jdGlvbiBiQihhLGIsYyl7dmFyIGQ9Yj09PSJ3aWR0aCI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxlPWI9PT0id2lkdGgiPzE6MCxnPTQ7aWYoZD4wKXtpZihjIT09ImJvcmRlciIpZm9yKDtlPGc7ZSs9MiljfHwoZC09cGFyc2VGbG9hdChmLmNzcyhhLCJwYWRkaW5nIitieFtlXSkpfHwwKSxjPT09Im1hcmdpbiI/ZCs9cGFyc2VGbG9hdChmLmNzcyhhLGMrYnhbZV0pKXx8MDpkLT1wYXJzZUZsb2F0KGYuY3NzKGEsImJvcmRlciIrYnhbZV0rIldpZHRoIikpfHwwO3JldHVybiBkKyJweCJ9ZD1ieShhLGIpO2lmKGQ8MHx8ZD09bnVsbClkPWEuc3R5bGVbYl07aWYoYnQudGVzdChkKSlyZXR1cm4gZDtkPXBhcnNlRmxvYXQoZCl8fDA7aWYoYylmb3IoO2U8ZztlKz0yKWQrPXBhcnNlRmxvYXQoZi5jc3MoYSwicGFkZGluZyIrYnhbZV0pKXx8MCxjIT09InBhZGRpbmciJiYoZCs9cGFyc2VGbG9hdChmLmNzcyhhLCJib3JkZXIiK2J4W2VdKyJXaWR0aCIpKXx8MCksYz09PSJtYXJnaW4iJiYoZCs9cGFyc2VGbG9hdChmLmNzcyhhLGMrYnhbZV0pKXx8MCk7cmV0dXJuIGQrInB4In1mdW5jdGlvbiBibyhhKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2JoLmFwcGVuZENoaWxkKGIpLGIuaW5uZXJIVE1MPWEub3V0ZXJIVE1MO3JldHVybiBiLmZpcnN0Q2hpbGR9ZnVuY3Rpb24gYm4oYSl7dmFyIGI9KGEubm9kZU5hbWV8fCIiKS50b0xvd2VyQ2FzZSgpO2I9PT0iaW5wdXQiP2JtKGEpOmIhPT0ic2NyaXB0IiYmdHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPSJ1bmRlZmluZWQiJiZmLmdyZXAoYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKSxibSl9ZnVuY3Rpb24gYm0oYSl7aWYoYS50eXBlPT09ImNoZWNrYm94Inx8YS50eXBlPT09InJhZGlvIilhLmRlZmF1bHRDaGVja2VkPWEuY2hlY2tlZH1mdW5jdGlvbiBibChhKXtyZXR1cm4gdHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPSJ1bmRlZmluZWQiP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKTp0eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsIT0idW5kZWZpbmVkIj9hLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKTpbXX1mdW5jdGlvbiBiayhhLGIpe3ZhciBjO2Iubm9kZVR5cGU9PT0xJiYoYi5jbGVhckF0dHJpYnV0ZXMmJmIuY2xlYXJBdHRyaWJ1dGVzKCksYi5tZXJnZUF0dHJpYnV0ZXMmJmIubWVyZ2VBdHRyaWJ1dGVzKGEpLGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGM9PT0ib2JqZWN0Ij9iLm91dGVySFRNTD1hLm91dGVySFRNTDpjIT09ImlucHV0Inx8YS50eXBlIT09ImNoZWNrYm94IiYmYS50eXBlIT09InJhZGlvIj9jPT09Im9wdGlvbiI/Yi5zZWxlY3RlZD1hLmRlZmF1bHRTZWxlY3RlZDpjPT09ImlucHV0Inx8Yz09PSJ0ZXh0YXJlYSI/Yi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWU6Yz09PSJzY3JpcHQiJiZiLnRleHQhPT1hLnRleHQmJihiLnRleHQ9YS50ZXh0KTooYS5jaGVja2VkJiYoYi5kZWZhdWx0Q2hlY2tlZD1iLmNoZWNrZWQ9YS5jaGVja2VkKSxiLnZhbHVlIT09YS52YWx1ZSYmKGIudmFsdWU9YS52YWx1ZSkpLGIucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyksYi5yZW1vdmVBdHRyaWJ1dGUoIl9zdWJtaXRfYXR0YWNoZWQiKSxiLnJlbW92ZUF0dHJpYnV0ZSgiX2NoYW5nZV9hdHRhY2hlZCIpKX1mdW5jdGlvbiBiaihhLGIpe2lmKGIubm9kZVR5cGU9PT0xJiYhIWYuaGFzRGF0YShhKSl7dmFyIGMsZCxlLGc9Zi5fZGF0YShhKSxoPWYuX2RhdGEoYixnKSxpPWcuZXZlbnRzO2lmKGkpe2RlbGV0ZSBoLmhhbmRsZSxoLmV2ZW50cz17fTtmb3IoYyBpbiBpKWZvcihkPTAsZT1pW2NdLmxlbmd0aDtkPGU7ZCsrKWYuZXZlbnQuYWRkKGIsYyxpW2NdW2RdKX1oLmRhdGEmJihoLmRhdGE9Zi5leHRlbmQoe30saC5kYXRhKSl9fWZ1bmN0aW9uIGJpKGEsYil7cmV0dXJuIGYubm9kZU5hbWUoYSwidGFibGUiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdfHxhLmFwcGVuZENoaWxkKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKTphfWZ1bmN0aW9uIFUoYSl7dmFyIGI9Vi5zcGxpdCgifCIpLGM9YS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYoYy5jcmVhdGVFbGVtZW50KXdoaWxlKGIubGVuZ3RoKWMuY3JlYXRlRWxlbWVudChiLnBvcCgpKTtyZXR1cm4gY31mdW5jdGlvbiBUKGEsYixjKXtiPWJ8fDA7aWYoZi5pc0Z1bmN0aW9uKGIpKXJldHVybiBmLmdyZXAoYSxmdW5jdGlvbihhLGQpe3ZhciBlPSEhYi5jYWxsKGEsZCxhKTtyZXR1cm4gZT09PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBmLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiBhPT09Yj09PWN9KTtpZih0eXBlb2YgYj09InN0cmluZyIpe3ZhciBkPWYuZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVUeXBlPT09MX0pO2lmKE8udGVzdChiKSlyZXR1cm4gZi5maWx0ZXIoYixkLCFjKTtiPWYuZmlsdGVyKGIsZCl9cmV0dXJuIGYuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuIGYuaW5BcnJheShhLGIpPj0wPT09Y30pfWZ1bmN0aW9uIFMoYSl7cmV0dXJuIWF8fCFhLnBhcmVudE5vZGV8fGEucGFyZW50Tm9kZS5ub2RlVHlwZT09PTExfWZ1bmN0aW9uIEsoKXtyZXR1cm4hMH1mdW5jdGlvbiBKKCl7cmV0dXJuITF9ZnVuY3Rpb24gbihhLGIsYyl7dmFyIGQ9YisiZGVmZXIiLGU9YisicXVldWUiLGc9YisibWFyayIsaD1mLl9kYXRhKGEsZCk7aCYmKGM9PT0icXVldWUifHwhZi5fZGF0YShhLGUpKSYmKGM9PT0ibWFyayJ8fCFmLl9kYXRhKGEsZykpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IWYuX2RhdGEoYSxlKSYmIWYuX2RhdGEoYSxnKSYmKGYucmVtb3ZlRGF0YShhLGQsITApLGguZmlyZSgpKX0sMCl9ZnVuY3Rpb24gbShhKXtmb3IodmFyIGIgaW4gYSl7aWYoYj09PSJkYXRhIiYmZi5pc0VtcHR5T2JqZWN0KGFbYl0pKWNvbnRpbnVlO2lmKGIhPT0idG9KU09OIilyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBsKGEsYyxkKXtpZihkPT09YiYmYS5ub2RlVHlwZT09PTEpe3ZhciBlPSJkYXRhLSIrYy5yZXBsYWNlKGssIi0kMSIpLnRvTG93ZXJDYXNlKCk7ZD1hLmdldEF0dHJpYnV0ZShlKTtpZih0eXBlb2YgZD09InN0cmluZyIpe3RyeXtkPWQ9PT0idHJ1ZSI/ITA6ZD09PSJmYWxzZSI/ITE6ZD09PSJudWxsIj9udWxsOmYuaXNOdW1lcmljKGQpPytkOmoudGVzdChkKT9mLnBhcnNlSlNPTihkKTpkfWNhdGNoKGcpe31mLmRhdGEoYSxjLGQpfWVsc2UgZD1ifXJldHVybiBkfWZ1bmN0aW9uIGgoYSl7dmFyIGI9Z1thXT17fSxjLGQ7YT1hLnNwbGl0KC9ccysvKTtmb3IoYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyliW2FbY11dPSEwO3JldHVybiBifXZhciBjPWEuZG9jdW1lbnQsZD1hLm5hdmlnYXRvcixlPWEubG9jYXRpb24sZj1mdW5jdGlvbigpe2Z1bmN0aW9uIEooKXtpZighZS5pc1JlYWR5KXt0cnl7Yy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChhKXtzZXRUaW1lb3V0KEosMSk7cmV0dXJufWUucmVhZHkoKX19dmFyIGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IGUuZm4uaW5pdChhLGIsaCl9LGY9YS5qUXVlcnksZz1hLiQsaCxpPS9eKD86W14jPF0qKDxbXHdcV10rPilbXj5dKiR8IyhbXHdcLV0qKSQpLyxqPS9cUy8saz0vXlxzKy8sbD0vXHMrJC8sbT0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT4pPyQvLG49L15bXF0sOnt9XHNdKiQvLG89L1xcKD86WyJcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZyxwPS8iW14iXFxcblxyXSoifHRydWV8ZmFsc2V8bnVsbHwtP1xkKyg/OlwuXGQqKT8oPzpbZUVdWytcLV0/XGQrKT8vZyxxPS8oPzpefDp8LCkoPzpccypcWykrL2cscj0vKHdlYmtpdClbIFwvXShbXHcuXSspLyxzPS8ob3BlcmEpKD86Lip2ZXJzaW9uKT9bIFwvXShbXHcuXSspLyx0PS8obXNpZSkgKFtcdy5dKykvLHU9Lyhtb3ppbGxhKSg/Oi4qPyBydjooW1x3Ll0rKSk/Lyx2PS8tKFthLXpdfFswLTldKS9pZyx3PS9eLW1zLS8seD1mdW5jdGlvbihhLGIpe3JldHVybihiKyIiKS50b1VwcGVyQ2FzZSgpfSx5PWQudXNlckFnZW50LHosQSxCLEM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxEPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksRT1BcnJheS5wcm90b3R5cGUucHVzaCxGPUFycmF5LnByb3RvdHlwZS5zbGljZSxHPVN0cmluZy5wcm90b3R5cGUudHJpbSxIPUFycmF5LnByb3RvdHlwZS5pbmRleE9mLEk9e307ZS5mbj1lLnByb3RvdHlwZT17Y29uc3RydWN0b3I6ZSxpbml0OmZ1bmN0aW9uKGEsZCxmKXt2YXIgZyxoLGosaztpZighYSlyZXR1cm4gdGhpcztpZihhLm5vZGVUeXBlKXt0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTE7cmV0dXJuIHRoaXN9aWYoYT09PSJib2R5IiYmIWQmJmMuYm9keSl7dGhpcy5jb250ZXh0PWMsdGhpc1swXT1jLmJvZHksdGhpcy5zZWxlY3Rvcj1hLHRoaXMubGVuZ3RoPTE7cmV0dXJuIHRoaXN9aWYodHlwZW9mIGE9PSJzdHJpbmciKXthLmNoYXJBdCgwKSE9PSI8Inx8YS5jaGFyQXQoYS5sZW5ndGgtMSkhPT0iPiJ8fGEubGVuZ3RoPDM/Zz1pLmV4ZWMoYSk6Zz1bbnVsbCxhLG51bGxdO2lmKGcmJihnWzFdfHwhZCkpe2lmKGdbMV0pe2Q9ZCBpbnN0YW5jZW9mIGU/ZFswXTpkLGs9ZD9kLm93bmVyRG9jdW1lbnR8fGQ6YyxqPW0uZXhlYyhhKSxqP2UuaXNQbGFpbk9iamVjdChkKT8oYT1bYy5jcmVhdGVFbGVtZW50KGpbMV0pXSxlLmZuLmF0dHIuY2FsbChhLGQsITApKTphPVtrLmNyZWF0ZUVsZW1lbnQoalsxXSldOihqPWUuYnVpbGRGcmFnbWVudChbZ1sxXV0sW2tdKSxhPShqLmNhY2hlYWJsZT9lLmNsb25lKGouZnJhZ21lbnQpOmouZnJhZ21lbnQpLmNoaWxkTm9kZXMpO3JldHVybiBlLm1lcmdlKHRoaXMsYSl9aD1jLmdldEVsZW1lbnRCeUlkKGdbMl0pO2lmKGgmJmgucGFyZW50Tm9kZSl7aWYoaC5pZCE9PWdbMl0pcmV0dXJuIGYuZmluZChhKTt0aGlzLmxlbmd0aD0xLHRoaXNbMF09aH10aGlzLmNvbnRleHQ9Yyx0aGlzLnNlbGVjdG9yPWE7cmV0dXJuIHRoaXN9cmV0dXJuIWR8fGQuanF1ZXJ5PyhkfHxmKS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoZCkuZmluZChhKX1pZihlLmlzRnVuY3Rpb24oYSkpcmV0dXJuIGYucmVhZHkoYSk7YS5zZWxlY3RvciE9PWImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCk7cmV0dXJuIGUubWFrZUFycmF5KGEsdGhpcyl9LHNlbGVjdG9yOiIiLGpxdWVyeToiMS43LjIiLGxlbmd0aDowLHNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gRi5jYWxsKHRoaXMsMCl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD90aGlzLnRvQXJyYXkoKTphPDA/dGhpc1t0aGlzLmxlbmd0aCthXTp0aGlzW2FdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY29uc3RydWN0b3IoKTtlLmlzQXJyYXkoYSk/RS5hcHBseShkLGEpOmUubWVyZ2UoZCxhKSxkLnByZXZPYmplY3Q9dGhpcyxkLmNvbnRleHQ9dGhpcy5jb250ZXh0LGI9PT0iZmluZCI/ZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyh0aGlzLnNlbGVjdG9yPyIgIjoiIikrYzpiJiYoZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyIuIitiKyIoIitjKyIpIik7cmV0dXJuIGR9LGVhY2g6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZS5lYWNoKHRoaXMsYSxiKX0scmVhZHk6ZnVuY3Rpb24oYSl7ZS5iaW5kUmVhZHkoKSxBLmFkZChhKTtyZXR1cm4gdGhpc30sZXE6ZnVuY3Rpb24oYSl7YT0rYTtyZXR1cm4gYT09PS0xP3RoaXMuc2xpY2UoYSk6dGhpcy5zbGljZShhLGErMSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKEYuYXBwbHkodGhpcyxhcmd1bWVudHMpLCJzbGljZSIsRi5jYWxsKGFyZ3VtZW50cykuam9pbigiLCIpKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhlLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6RSxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0sZS5mbi5pbml0LnByb3RvdHlwZT1lLmZuLGUuZXh0ZW5kPWUuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYyxkLGYsZyxoLGk9YXJndW1lbnRzWzBdfHx7fSxqPTEsaz1hcmd1bWVudHMubGVuZ3RoLGw9ITE7dHlwZW9mIGk9PSJib29sZWFuIiYmKGw9aSxpPWFyZ3VtZW50c1sxXXx8e30saj0yKSx0eXBlb2YgaSE9Im9iamVjdCImJiFlLmlzRnVuY3Rpb24oaSkmJihpPXt9KSxrPT09aiYmKGk9dGhpcywtLWopO2Zvcig7ajxrO2orKylpZigoYT1hcmd1bWVudHNbal0pIT1udWxsKWZvcihjIGluIGEpe2Q9aVtjXSxmPWFbY107aWYoaT09PWYpY29udGludWU7bCYmZiYmKGUuaXNQbGFpbk9iamVjdChmKXx8KGc9ZS5pc0FycmF5KGYpKSk/KGc/KGc9ITEsaD1kJiZlLmlzQXJyYXkoZCk/ZDpbXSk6aD1kJiZlLmlzUGxhaW5PYmplY3QoZCk/ZDp7fSxpW2NdPWUuZXh0ZW5kKGwsaCxmKSk6ZiE9PWImJihpW2NdPWYpfXJldHVybiBpfSxlLmV4dGVuZCh7bm9Db25mbGljdDpmdW5jdGlvbihiKXthLiQ9PT1lJiYoYS4kPWcpLGImJmEualF1ZXJ5PT09ZSYmKGEualF1ZXJ5PWYpO3JldHVybiBlfSxpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP2UucmVhZHlXYWl0Kys6ZS5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpe2lmKGE9PT0hMCYmIS0tZS5yZWFkeVdhaXR8fGEhPT0hMCYmIWUuaXNSZWFkeSl7aWYoIWMuYm9keSlyZXR1cm4gc2V0VGltZW91dChlLnJlYWR5LDEpO2UuaXNSZWFkeT0hMDtpZihhIT09ITAmJi0tZS5yZWFkeVdhaXQ+MClyZXR1cm47QS5maXJlV2l0aChjLFtlXSksZS5mbi50cmlnZ2VyJiZlKGMpLnRyaWdnZXIoInJlYWR5Iikub2ZmKCJyZWFkeSIpfX0sYmluZFJlYWR5OmZ1bmN0aW9uKCl7aWYoIUEpe0E9ZS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iik7aWYoYy5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIilyZXR1cm4gc2V0VGltZW91dChlLnJlYWR5LDEpO2lmKGMuYWRkRXZlbnRMaXN0ZW5lciljLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIsITEpLGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZS5yZWFkeSwhMSk7ZWxzZSBpZihjLmF0dGFjaEV2ZW50KXtjLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLEIpLGEuYXR0YWNoRXZlbnQoIm9ubG9hZCIsZS5yZWFkeSk7dmFyIGI9ITE7dHJ5e2I9YS5mcmFtZUVsZW1lbnQ9PW51bGx9Y2F0Y2goZCl7fWMuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsJiZiJiZKKCl9fX0saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gZS50eXBlKGEpPT09ImZ1bmN0aW9uIn0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4gZS50eXBlKGEpPT09ImFycmF5In0saXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPW51bGwmJmE9PWEud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oYSl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQoYSkpJiZpc0Zpbml0ZShhKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD9TdHJpbmcoYSk6SVtDLmNhbGwoYSldfHwib2JqZWN0In0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXtpZighYXx8ZS50eXBlKGEpIT09Im9iamVjdCJ8fGEubm9kZVR5cGV8fGUuaXNXaW5kb3coYSkpcmV0dXJuITE7dHJ5e2lmKGEuY29uc3RydWN0b3ImJiFELmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIUQuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfXZhciBkO2ZvcihkIGluIGEpO3JldHVybiBkPT09Ynx8RC5jYWxsKGEsZCl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9LGVycm9yOmZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihhKX0scGFyc2VKU09OOmZ1bmN0aW9uKGIpe2lmKHR5cGVvZiBiIT0ic3RyaW5nInx8IWIpcmV0dXJuIG51bGw7Yj1lLnRyaW0oYik7aWYoYS5KU09OJiZhLkpTT04ucGFyc2UpcmV0dXJuIGEuSlNPTi5wYXJzZShiKTtpZihuLnRlc3QoYi5yZXBsYWNlKG8sIkAiKS5yZXBsYWNlKHAsIl0iKS5yZXBsYWNlKHEsIiIpKSlyZXR1cm4obmV3IEZ1bmN0aW9uKCJyZXR1cm4gIitiKSkoKTtlLmVycm9yKCJJbnZhbGlkIEpTT046ICIrYil9LHBhcnNlWE1MOmZ1bmN0aW9uKGMpe2lmKHR5cGVvZiBjIT0ic3RyaW5nInx8IWMpcmV0dXJuIG51bGw7dmFyIGQsZjt0cnl7YS5ET01QYXJzZXI/KGY9bmV3IERPTVBhcnNlcixkPWYucGFyc2VGcm9tU3RyaW5nKGMsInRleHQveG1sIikpOihkPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIiksZC5hc3luYz0iZmFsc2UiLGQubG9hZFhNTChjKSl9Y2F0Y2goZyl7ZD1ifSghZHx8IWQuZG9jdW1lbnRFbGVtZW50fHxkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aCkmJmUuZXJyb3IoIkludmFsaWQgWE1MOiAiK2MpO3JldHVybiBkfSxub29wOmZ1bmN0aW9uKCl7fSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGIpe2ImJmoudGVzdChiKSYmKGEuZXhlY1NjcmlwdHx8ZnVuY3Rpb24oYil7YS5ldmFsLmNhbGwoYSxiKX0pKGIpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh3LCJtcy0iKS5yZXBsYWNlKHYseCl9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9VcHBlckNhc2UoKT09PWIudG9VcHBlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGMsZCl7dmFyIGYsZz0wLGg9YS5sZW5ndGgsaT1oPT09Ynx8ZS5pc0Z1bmN0aW9uKGEpO2lmKGQpe2lmKGkpe2ZvcihmIGluIGEpaWYoYy5hcHBseShhW2ZdLGQpPT09ITEpYnJlYWt9ZWxzZSBmb3IoO2c8aDspaWYoYy5hcHBseShhW2crK10sZCk9PT0hMSlicmVha31lbHNlIGlmKGkpe2ZvcihmIGluIGEpaWYoYy5jYWxsKGFbZl0sZixhW2ZdKT09PSExKWJyZWFrfWVsc2UgZm9yKDtnPGg7KWlmKGMuY2FsbChhW2ddLGcsYVtnKytdKT09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOkc/ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6Ry5jYWxsKGEpfTpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD8iIjooYSsiIikucmVwbGFjZShrLCIiKS5yZXBsYWNlKGwsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtpZihhIT1udWxsKXt2YXIgZD1lLnR5cGUoYSk7YS5sZW5ndGg9PW51bGx8fGQ9PT0ic3RyaW5nInx8ZD09PSJmdW5jdGlvbiJ8fGQ9PT0icmVnZXhwInx8ZS5pc1dpbmRvdyhhKT9FLmNhbGwoYyxhKTplLm1lcmdlKGMsYSl9cmV0dXJuIGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKEgpcmV0dXJuIEguY2FsbChiLGEsYyk7ZD1iLmxlbmd0aCxjPWM/YzwwP01hdGgubWF4KDAsZCtjKTpjOjA7Zm9yKDtjPGQ7YysrKWlmKGMgaW4gYiYmYltjXT09PWEpcmV0dXJuIGN9cmV0dXJuLTF9LG1lcmdlOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9YS5sZW5ndGgsZT0wO2lmKHR5cGVvZiBjLmxlbmd0aD09Im51bWJlciIpZm9yKHZhciBmPWMubGVuZ3RoO2U8ZjtlKyspYVtkKytdPWNbZV07ZWxzZSB3aGlsZShjW2VdIT09YilhW2QrK109Y1tlKytdO2EubGVuZ3RoPWQ7cmV0dXJuIGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU7Yz0hIWM7Zm9yKHZhciBmPTAsZz1hLmxlbmd0aDtmPGc7ZisrKWU9ISFiKGFbZl0sZiksYyE9PWUmJmQucHVzaChhW2ZdKTtyZXR1cm4gZH0sbWFwOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZixnLGg9W10saT0wLGo9YS5sZW5ndGgsaz1hIGluc3RhbmNlb2YgZXx8aiE9PWImJnR5cGVvZiBqPT0ibnVtYmVyIiYmKGo+MCYmYVswXSYmYVtqLTFdfHxqPT09MHx8ZS5pc0FycmF5KGEpKTtpZihrKWZvcig7aTxqO2krKylmPWMoYVtpXSxpLGQpLGYhPW51bGwmJihoW2gubGVuZ3RoXT1mKTtlbHNlIGZvcihnIGluIGEpZj1jKGFbZ10sZyxkKSxmIT1udWxsJiYoaFtoLmxlbmd0aF09Zik7cmV0dXJuIGguY29uY2F0LmFwcGx5KFtdLGgpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oYSxjKXtpZih0eXBlb2YgYz09InN0cmluZyIpe3ZhciBkPWFbY107Yz1hLGE9ZH1pZighZS5pc0Z1bmN0aW9uKGEpKXJldHVybiBiO3ZhciBmPUYuY2FsbChhcmd1bWVudHMsMiksZz1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGMsZi5jb25jYXQoRi5jYWxsKGFyZ3VtZW50cykpKX07Zy5ndWlkPWEuZ3VpZD1hLmd1aWR8fGcuZ3VpZHx8ZS5ndWlkKys7cmV0dXJuIGd9LGFjY2VzczpmdW5jdGlvbihhLGMsZCxmLGcsaCxpKXt2YXIgaixrPWQ9PW51bGwsbD0wLG09YS5sZW5ndGg7aWYoZCYmdHlwZW9mIGQ9PSJvYmplY3QiKXtmb3IobCBpbiBkKWUuYWNjZXNzKGEsYyxsLGRbbF0sMSxoLGYpO2c9MX1lbHNlIGlmKGYhPT1iKXtqPWk9PT1iJiZlLmlzRnVuY3Rpb24oZiksayYmKGo/KGo9YyxjPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKGUoYSksYyl9KTooYy5jYWxsKGEsZiksYz1udWxsKSk7aWYoYylmb3IoO2w8bTtsKyspYyhhW2xdLGQsaj9mLmNhbGwoYVtsXSxsLGMoYVtsXSxkKSk6ZixpKTtnPTF9cmV0dXJuIGc/YTprP2MuY2FsbChhKTptP2MoYVswXSxkKTpofSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdWFNYXRjaDpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTt2YXIgYj1yLmV4ZWMoYSl8fHMuZXhlYyhhKXx8dC5leGVjKGEpfHxhLmluZGV4T2YoImNvbXBhdGlibGUiKTwwJiZ1LmV4ZWMoYSl8fFtdO3JldHVybnticm93c2VyOmJbMV18fCIiLHZlcnNpb246YlsyXXx8IjAifX0sc3ViOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3JldHVybiBuZXcgYS5mbi5pbml0KGIsYyl9ZS5leHRlbmQoITAsYSx0aGlzKSxhLnN1cGVyY2xhc3M9dGhpcyxhLmZuPWEucHJvdG90eXBlPXRoaXMoKSxhLmZuLmNvbnN0cnVjdG9yPWEsYS5zdWI9dGhpcy5zdWIsYS5mbi5pbml0PWZ1bmN0aW9uKGQsZil7ZiYmZiBpbnN0YW5jZW9mIGUmJiEoZiBpbnN0YW5jZW9mIGEpJiYoZj1hKGYpKTtyZXR1cm4gZS5mbi5pbml0LmNhbGwodGhpcyxkLGYsYil9LGEuZm4uaW5pdC5wcm90b3R5cGU9YS5mbjt2YXIgYj1hKGMpO3JldHVybiBhfSxicm93c2VyOnt9fSksZS5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7SVsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KSx6PWUudWFNYXRjaCh5KSx6LmJyb3dzZXImJihlLmJyb3dzZXJbei5icm93c2VyXT0hMCxlLmJyb3dzZXIudmVyc2lvbj16LnZlcnNpb24pLGUuYnJvd3Nlci53ZWJraXQmJihlLmJyb3dzZXIuc2FmYXJpPSEwKSxqLnRlc3QoIsKgIikmJihrPS9eW1xzXHhBMF0rLyxsPS9bXHNceEEwXSskLyksaD1lKGMpLGMuYWRkRXZlbnRMaXN0ZW5lcj9CPWZ1bmN0aW9uKCl7Yy5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixCLCExKSxlLnJlYWR5KCl9OmMuYXR0YWNoRXZlbnQmJihCPWZ1bmN0aW9uKCl7Yy5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIiYmKGMuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsQiksZS5yZWFkeSgpKX0pO3JldHVybiBlfSgpLGc9e307Zi5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT1hP2dbYV18fGgoYSk6e307dmFyIGM9W10sZD1bXSxlLGksaixrLGwsbSxuPWZ1bmN0aW9uKGIpe3ZhciBkLGUsZyxoLGk7Zm9yKGQ9MCxlPWIubGVuZ3RoO2Q8ZTtkKyspZz1iW2RdLGg9Zi50eXBlKGcpLGg9PT0iYXJyYXkiP24oZyk6aD09PSJmdW5jdGlvbiImJighYS51bmlxdWV8fCFwLmhhcyhnKSkmJmMucHVzaChnKX0sbz1mdW5jdGlvbihiLGYpe2Y9Znx8W10sZT0hYS5tZW1vcnl8fFtiLGZdLGk9ITAsaj0hMCxtPWt8fDAsaz0wLGw9Yy5sZW5ndGg7Zm9yKDtjJiZtPGw7bSsrKWlmKGNbbV0uYXBwbHkoYixmKT09PSExJiZhLnN0b3BPbkZhbHNlKXtlPSEwO2JyZWFrfWo9ITEsYyYmKGEub25jZT9lPT09ITA/cC5kaXNhYmxlKCk6Yz1bXTpkJiZkLmxlbmd0aCYmKGU9ZC5zaGlmdCgpLHAuZmlyZVdpdGgoZVswXSxlWzFdKSkpfSxwPXthZGQ6ZnVuY3Rpb24oKXtpZihjKXt2YXIgYT1jLmxlbmd0aDtuKGFyZ3VtZW50cyksaj9sPWMubGVuZ3RoOmUmJmUhPT0hMCYmKGs9YSxvKGVbMF0sZVsxXSkpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtpZihjKXt2YXIgYj1hcmd1bWVudHMsZD0wLGU9Yi5sZW5ndGg7Zm9yKDtkPGU7ZCsrKWZvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKWlmKGJbZF09PT1jW2ZdKXtqJiZmPD1sJiYobC0tLGY8PW0mJm0tLSksYy5zcGxpY2UoZi0tLDEpO2lmKGEudW5pcXVlKWJyZWFrfX1yZXR1cm4gdGhpc30saGFzOmZ1bmN0aW9uKGEpe2lmKGMpe3ZhciBiPTAsZD1jLmxlbmd0aDtmb3IoO2I8ZDtiKyspaWYoYT09PWNbYl0pcmV0dXJuITB9cmV0dXJuITF9LGVtcHR5OmZ1bmN0aW9uKCl7Yz1bXTtyZXR1cm4gdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe2M9ZD1lPWI7cmV0dXJuIHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWN9LGxvY2s6ZnVuY3Rpb24oKXtkPWIsKCFlfHxlPT09ITApJiZwLmRpc2FibGUoKTtyZXR1cm4gdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWR9LGZpcmVXaXRoOmZ1bmN0aW9uKGIsYyl7ZCYmKGo/YS5vbmNlfHxkLnB1c2goW2IsY10pOighYS5vbmNlfHwhZSkmJm8oYixjKSk7cmV0dXJuIHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtwLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWl9fTtyZXR1cm4gcH07dmFyIGk9W10uc2xpY2U7Zi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPWYuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLGM9Zi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksZD1mLkNhbGxiYWNrcygibWVtb3J5IiksZT0icGVuZGluZyIsZz17cmVzb2x2ZTpiLHJlamVjdDpjLG5vdGlmeTpkfSxoPXtkb25lOmIuYWRkLGZhaWw6Yy5hZGQscHJvZ3Jlc3M6ZC5hZGQsc3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZX0saXNSZXNvbHZlZDpiLmZpcmVkLGlzUmVqZWN0ZWQ6Yy5maXJlZCx0aGVuOmZ1bmN0aW9uKGEsYixjKXtpLmRvbmUoYSkuZmFpbChiKS5wcm9ncmVzcyhjKTtyZXR1cm4gdGhpc30sYWx3YXlzOmZ1bmN0aW9uKCl7aS5kb25lLmFwcGx5KGksYXJndW1lbnRzKS5mYWlsLmFwcGx5KGksYXJndW1lbnRzKTtyZXR1cm4gdGhpc30scGlwZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuRGVmZXJyZWQoZnVuY3Rpb24oZCl7Zi5lYWNoKHtkb25lOlthLCJyZXNvbHZlIl0sZmFpbDpbYiwicmVqZWN0Il0scHJvZ3Jlc3M6W2MsIm5vdGlmeSJdfSxmdW5jdGlvbihhLGIpe3ZhciBjPWJbMF0sZT1iWzFdLGc7Zi5pc0Z1bmN0aW9uKGMpP2lbYV0oZnVuY3Rpb24oKXtnPWMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGcmJmYuaXNGdW5jdGlvbihnLnByb21pc2UpP2cucHJvbWlzZSgpLnRoZW4oZC5yZXNvbHZlLGQucmVqZWN0LGQubm90aWZ5KTpkW2UrIldpdGgiXSh0aGlzPT09aT9kOnRoaXMsW2ddKX0pOmlbYV0oZFtlXSl9KX0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtpZihhPT1udWxsKWE9aDtlbHNlIGZvcih2YXIgYiBpbiBoKWFbYl09aFtiXTtyZXR1cm4gYX19LGk9aC5wcm9taXNlKHt9KSxqO2ZvcihqIGluIGcpaVtqXT1nW2pdLmZpcmUsaVtqKyJXaXRoIl09Z1tqXS5maXJlV2l0aDtpLmRvbmUoZnVuY3Rpb24oKXtlPSJyZXNvbHZlZCJ9LGMuZGlzYWJsZSxkLmxvY2spLmZhaWwoZnVuY3Rpb24oKXtlPSJyZWplY3RlZCJ9LGIuZGlzYWJsZSxkLmxvY2spLGEmJmEuY2FsbChpLGkpO3JldHVybiBpfSx3aGVuOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIG0oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2VbYV09YXJndW1lbnRzLmxlbmd0aD4xP2kuY2FsbChhcmd1bWVudHMsMCk6YixqLm5vdGlmeVdpdGgoayxlKX19ZnVuY3Rpb24gbChhKXtyZXR1cm4gZnVuY3Rpb24oYyl7YlthXT1hcmd1bWVudHMubGVuZ3RoPjE/aS5jYWxsKGFyZ3VtZW50cywwKTpjLC0tZ3x8ai5yZXNvbHZlV2l0aChqLGIpfX12YXIgYj1pLmNhbGwoYXJndW1lbnRzLDApLGM9MCxkPWIubGVuZ3RoLGU9QXJyYXkoZCksZz1kLGg9ZCxqPWQ8PTEmJmEmJmYuaXNGdW5jdGlvbihhLnByb21pc2UpP2E6Zi5EZWZlcnJlZCgpLGs9ai5wcm9taXNlKCk7aWYoZD4xKXtmb3IoO2M8ZDtjKyspYltjXSYmYltjXS5wcm9taXNlJiZmLmlzRnVuY3Rpb24oYltjXS5wcm9taXNlKT9iW2NdLnByb21pc2UoKS50aGVuKGwoYyksai5yZWplY3QsbShjKSk6LS1nO2d8fGoucmVzb2x2ZVdpdGgoaixiKX1lbHNlIGohPT1hJiZqLnJlc29sdmVXaXRoKGosZD9bYV06W10pO3JldHVybiBrfX0pLGYuc3VwcG9ydD1mdW5jdGlvbigpe3ZhciBiLGQsZSxnLGgsaSxqLGssbCxtLG4sbyxwPWMuY3JlYXRlRWxlbWVudCgiZGl2IikscT1jLmRvY3VtZW50RWxlbWVudDtwLnNldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIiwidCIpLHAuaW5uZXJIVE1MPSIgICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnIHN0eWxlPSd0b3A6MXB4O2Zsb2F0OmxlZnQ7b3BhY2l0eTouNTU7Jz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiIsZD1wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksZT1wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF07aWYoIWR8fCFkLmxlbmd0aHx8IWUpcmV0dXJue307Zz1jLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGg9Zy5hcHBlbmRDaGlsZChjLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxpPXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF0sYj17bGVhZGluZ1doaXRlc3BhY2U6cC5maXJzdENoaWxkLm5vZGVUeXBlPT09Myx0Ym9keTohcC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsaHRtbFNlcmlhbGl6ZTohIXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGgsc3R5bGU6L3RvcC8udGVzdChlLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksaHJlZk5vcm1hbGl6ZWQ6ZS5nZXRBdHRyaWJ1dGUoImhyZWYiKT09PSIvYSIsb3BhY2l0eTovXjAuNTUvLnRlc3QoZS5zdHlsZS5vcGFjaXR5KSxjc3NGbG9hdDohIWUuc3R5bGUuY3NzRmxvYXQsY2hlY2tPbjppLnZhbHVlPT09Im9uIixvcHRTZWxlY3RlZDpoLnNlbGVjdGVkLGdldFNldEF0dHJpYnV0ZTpwLmNsYXNzTmFtZSE9PSJ0IixlbmN0eXBlOiEhYy5jcmVhdGVFbGVtZW50KCJmb3JtIikuZW5jdHlwZSxodG1sNUNsb25lOmMuY3JlYXRlRWxlbWVudCgibmF2IikuY2xvbmVOb2RlKCEwKS5vdXRlckhUTUwhPT0iPDpuYXY+PC86bmF2PiIsc3VibWl0QnViYmxlczohMCxjaGFuZ2VCdWJibGVzOiEwLGZvY3VzaW5CdWJibGVzOiExLGRlbGV0ZUV4cGFuZG86ITAsbm9DbG9uZUV2ZW50OiEwLGlubGluZUJsb2NrTmVlZHNMYXlvdXQ6ITEsc2hyaW5rV3JhcEJsb2NrczohMSxyZWxpYWJsZU1hcmdpblJpZ2h0OiEwLHBpeGVsTWFyZ2luOiEwfSxmLmJveE1vZGVsPWIuYm94TW9kZWw9Yy5jb21wYXRNb2RlPT09IkNTUzFDb21wYXQiLGkuY2hlY2tlZD0hMCxiLm5vQ2xvbmVDaGVja2VkPWkuY2xvbmVOb2RlKCEwKS5jaGVja2VkLGcuZGlzYWJsZWQ9ITAsYi5vcHREaXNhYmxlZD0haC5kaXNhYmxlZDt0cnl7ZGVsZXRlIHAudGVzdH1jYXRjaChyKXtiLmRlbGV0ZUV4cGFuZG89ITF9IXAuYWRkRXZlbnRMaXN0ZW5lciYmcC5hdHRhY2hFdmVudCYmcC5maXJlRXZlbnQmJihwLmF0dGFjaEV2ZW50KCJvbmNsaWNrIixmdW5jdGlvbigpe2Iubm9DbG9uZUV2ZW50PSExfSkscC5jbG9uZU5vZGUoITApLmZpcmVFdmVudCgib25jbGljayIpKSxpPWMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxpLnZhbHVlPSJ0IixpLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksYi5yYWRpb1ZhbHVlPWkudmFsdWU9PT0idCIsaS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksaS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0IikscC5hcHBlbmRDaGlsZChpKSxqPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGouYXBwZW5kQ2hpbGQocC5sYXN0Q2hpbGQpLGIuY2hlY2tDbG9uZT1qLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxiLmFwcGVuZENoZWNrZWQ9aS5jaGVja2VkLGoucmVtb3ZlQ2hpbGQoaSksai5hcHBlbmRDaGlsZChwKTtpZihwLmF0dGFjaEV2ZW50KWZvcihuIGlue3N1Ym1pdDoxLGNoYW5nZToxLGZvY3VzaW46MX0pbT0ib24iK24sbz1tIGluIHAsb3x8KHAuc2V0QXR0cmlidXRlKG0sInJldHVybjsiKSxvPXR5cGVvZiBwW21dPT0iZnVuY3Rpb24iKSxiW24rIkJ1YmJsZXMiXT1vO2oucmVtb3ZlQ2hpbGQocCksaj1nPWg9cD1pPW51bGwsZihmdW5jdGlvbigpe3ZhciBkLGUsZyxoLGksaixsLG0sbixxLHIscyx0LHU9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdOyF1fHwobT0xLHQ9InBhZGRpbmc6MDttYXJnaW46MDtib3JkZXI6IixyPSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7IixzPXQrIjA7dmlzaWJpbGl0eTpoaWRkZW47IixuPSJzdHlsZT0nIityK3QrIjVweCBzb2xpZCAjMDAwOyIscT0iPGRpdiAiK24rImRpc3BsYXk6YmxvY2s7Jz48ZGl2IHN0eWxlPSciK3QrIjA7ZGlzcGxheTpibG9jaztvdmVyZmxvdzpoaWRkZW47Jz48L2Rpdj48L2Rpdj4iKyI8dGFibGUgIituKyInIGNlbGxwYWRkaW5nPScwJyBjZWxsc3BhY2luZz0nMCc+IisiPHRyPjx0ZD48L3RkPjwvdHI+PC90YWJsZT4iLGQ9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkLnN0eWxlLmNzc1RleHQ9cysid2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjpzdGF0aWM7dG9wOjA7bWFyZ2luLXRvcDoiK20rInB4Iix1Lmluc2VydEJlZm9yZShkLHUuZmlyc3RDaGlsZCkscD1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQuYXBwZW5kQ2hpbGQocCkscC5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkIHN0eWxlPSciK3QrIjA7ZGlzcGxheTpub25lJz48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+IixrPXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIiksbz1rWzBdLm9mZnNldEhlaWdodD09PTAsa1swXS5zdHlsZS5kaXNwbGF5PSIiLGtbMV0uc3R5bGUuZGlzcGxheT0ibm9uZSIsYi5yZWxpYWJsZUhpZGRlbk9mZnNldHM9byYma1swXS5vZmZzZXRIZWlnaHQ9PT0wLGEuZ2V0Q29tcHV0ZWRTdHlsZSYmKHAuaW5uZXJIVE1MPSIiLGw9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxsLnN0eWxlLndpZHRoPSIwIixsLnN0eWxlLm1hcmdpblJpZ2h0PSIwIixwLnN0eWxlLndpZHRoPSIycHgiLHAuYXBwZW5kQ2hpbGQobCksYi5yZWxpYWJsZU1hcmdpblJpZ2h0PShwYXJzZUludCgoYS5nZXRDb21wdXRlZFN0eWxlKGwsbnVsbCl8fHttYXJnaW5SaWdodDowfSkubWFyZ2luUmlnaHQsMTApfHwwKT09PTApLHR5cGVvZiBwLnN0eWxlLnpvb20hPSJ1bmRlZmluZWQiJiYocC5pbm5lckhUTUw9IiIscC5zdHlsZS53aWR0aD1wLnN0eWxlLnBhZGRpbmc9IjFweCIscC5zdHlsZS5ib3JkZXI9MCxwLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLHAuc3R5bGUuZGlzcGxheT0iaW5saW5lIixwLnN0eWxlLnpvb209MSxiLmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9cC5vZmZzZXRXaWR0aD09PTMscC5zdHlsZS5kaXNwbGF5PSJibG9jayIscC5zdHlsZS5vdmVyZmxvdz0idmlzaWJsZSIscC5pbm5lckhUTUw9IjxkaXYgc3R5bGU9J3dpZHRoOjVweDsnPjwvZGl2PiIsYi5zaHJpbmtXcmFwQmxvY2tzPXAub2Zmc2V0V2lkdGghPT0zKSxwLnN0eWxlLmNzc1RleHQ9citzLHAuaW5uZXJIVE1MPXEsZT1wLmZpcnN0Q2hpbGQsZz1lLmZpcnN0Q2hpbGQsaT1lLm5leHRTaWJsaW5nLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCxqPXtkb2VzTm90QWRkQm9yZGVyOmcub2Zmc2V0VG9wIT09NSxkb2VzQWRkQm9yZGVyRm9yVGFibGVBbmRDZWxsczppLm9mZnNldFRvcD09PTV9LGcuc3R5bGUucG9zaXRpb249ImZpeGVkIixnLnN0eWxlLnRvcD0iMjBweCIsai5maXhlZFBvc2l0aW9uPWcub2Zmc2V0VG9wPT09MjB8fGcub2Zmc2V0VG9wPT09MTUsZy5zdHlsZS5wb3NpdGlvbj1nLnN0eWxlLnRvcD0iIixlLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIixqLnN1YnRyYWN0c0JvcmRlckZvck92ZXJmbG93Tm90VmlzaWJsZT1nLm9mZnNldFRvcD09PS01LGouZG9lc05vdEluY2x1ZGVNYXJnaW5JbkJvZHlPZmZzZXQ9dS5vZmZzZXRUb3AhPT1tLGEuZ2V0Q29tcHV0ZWRTdHlsZSYmKHAuc3R5bGUubWFyZ2luVG9wPSIxJSIsYi5waXhlbE1hcmdpbj0oYS5nZXRDb21wdXRlZFN0eWxlKHAsbnVsbCl8fHttYXJnaW5Ub3A6MH0pLm1hcmdpblRvcCE9PSIxJSIpLHR5cGVvZiBkLnN0eWxlLnpvb20hPSJ1bmRlZmluZWQiJiYoZC5zdHlsZS56b29tPTEpLHUucmVtb3ZlQ2hpbGQoZCksbD1wPWQ9bnVsbCxmLmV4dGVuZChiLGopKX0pO3JldHVybiBifSgpO3ZhciBqPS9eKD86XHsuKlx9fFxbLipcXSkkLyxrPS8oW0EtWl0pL2c7Zi5leHRlbmQoe2NhY2hlOnt9LHV1aWQ6MCxleHBhbmRvOiJqUXVlcnkiKyhmLmZuLmpxdWVyeStNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxub0RhdGE6e2VtYmVkOiEwLG9iamVjdDoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIixhcHBsZXQ6ITB9LGhhc0RhdGE6ZnVuY3Rpb24oYSl7YT1hLm5vZGVUeXBlP2YuY2FjaGVbYVtmLmV4cGFuZG9dXTphW2YuZXhwYW5kb107cmV0dXJuISFhJiYhbShhKX0sZGF0YTpmdW5jdGlvbihhLGMsZCxlKXtpZighIWYuYWNjZXB0RGF0YShhKSl7dmFyIGcsaCxpLGo9Zi5leHBhbmRvLGs9dHlwZW9mIGM9PSJzdHJpbmciLGw9YS5ub2RlVHlwZSxtPWw/Zi5jYWNoZTphLG49bD9hW2pdOmFbal0mJmosbz1jPT09ImV2ZW50cyI7aWYoKCFufHwhbVtuXXx8IW8mJiFlJiYhbVtuXS5kYXRhKSYmayYmZD09PWIpcmV0dXJuO258fChsP2Fbal09bj0rK2YudXVpZDpuPWopLG1bbl18fChtW25dPXt9LGx8fChtW25dLnRvSlNPTj1mLm5vb3ApKTtpZih0eXBlb2YgYz09Im9iamVjdCJ8fHR5cGVvZiBjPT0iZnVuY3Rpb24iKWU/bVtuXT1mLmV4dGVuZChtW25dLGMpOm1bbl0uZGF0YT1mLmV4dGVuZChtW25dLmRhdGEsYyk7Zz1oPW1bbl0sZXx8KGguZGF0YXx8KGguZGF0YT17fSksaD1oLmRhdGEpLGQhPT1iJiYoaFtmLmNhbWVsQ2FzZShjKV09ZCk7aWYobyYmIWhbY10pcmV0dXJuIGcuZXZlbnRzO2s/KGk9aFtjXSxpPT1udWxsJiYoaT1oW2YuY2FtZWxDYXNlKGMpXSkpOmk9aDtyZXR1cm4gaX19LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiLGMpe2lmKCEhZi5hY2NlcHREYXRhKGEpKXt2YXIgZCxlLGcsaD1mLmV4cGFuZG8saT1hLm5vZGVUeXBlLGo9aT9mLmNhY2hlOmEsaz1pP2FbaF06aDtpZighaltrXSlyZXR1cm47aWYoYil7ZD1jP2pba106altrXS5kYXRhO2lmKGQpe2YuaXNBcnJheShiKXx8KGIgaW4gZD9iPVtiXTooYj1mLmNhbWVsQ2FzZShiKSxiIGluIGQ/Yj1bYl06Yj1iLnNwbGl0KCIgIikpKTtmb3IoZT0wLGc9Yi5sZW5ndGg7ZTxnO2UrKylkZWxldGUgZFtiW2VdXTtpZighKGM/bTpmLmlzRW1wdHlPYmplY3QpKGQpKXJldHVybn19aWYoIWMpe2RlbGV0ZSBqW2tdLmRhdGE7aWYoIW0oaltrXSkpcmV0dXJufWYuc3VwcG9ydC5kZWxldGVFeHBhbmRvfHwhai5zZXRJbnRlcnZhbD9kZWxldGUgaltrXTpqW2tdPW51bGwsaSYmKGYuc3VwcG9ydC5kZWxldGVFeHBhbmRvP2RlbGV0ZSBhW2hdOmEucmVtb3ZlQXR0cmlidXRlP2EucmVtb3ZlQXR0cmlidXRlKGgpOmFbaF09bnVsbCl9fSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuZGF0YShhLGIsYywhMCl9LGFjY2VwdERhdGE6ZnVuY3Rpb24oYSl7aWYoYS5ub2RlTmFtZSl7dmFyIGI9Zi5ub0RhdGFbYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXTtpZihiKXJldHVybiBiIT09ITAmJmEuZ2V0QXR0cmlidXRlKCJjbGFzc2lkIik9PT1ifXJldHVybiEwfX0pLGYuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxnLGgsaSxqPXRoaXNbMF0saz0wLG09bnVsbDtpZihhPT09Yil7aWYodGhpcy5sZW5ndGgpe209Zi5kYXRhKGopO2lmKGoubm9kZVR5cGU9PT0xJiYhZi5fZGF0YShqLCJwYXJzZWRBdHRycyIpKXtnPWouYXR0cmlidXRlcztmb3IoaT1nLmxlbmd0aDtrPGk7aysrKWg9Z1trXS5uYW1lLGguaW5kZXhPZigiZGF0YS0iKT09PTAmJihoPWYuY2FtZWxDYXNlKGguc3Vic3RyaW5nKDUpKSxsKGosaCxtW2hdKSk7Zi5fZGF0YShqLCJwYXJzZWRBdHRycyIsITApfX1yZXR1cm4gbX1pZih0eXBlb2YgYT09Im9iamVjdCIpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YuZGF0YSh0aGlzLGEpfSk7ZD1hLnNwbGl0KCIuIiwyKSxkWzFdPWRbMV0/Ii4iK2RbMV06IiIsZT1kWzFdKyIhIjtyZXR1cm4gZi5hY2Nlc3ModGhpcyxmdW5jdGlvbihjKXtpZihjPT09Yil7bT10aGlzLnRyaWdnZXJIYW5kbGVyKCJnZXREYXRhIitlLFtkWzBdXSksbT09PWImJmomJihtPWYuZGF0YShqLGEpLG09bChqLGEsbSkpO3JldHVybiBtPT09YiYmZFsxXT90aGlzLmRhdGEoZFswXSk6bX1kWzFdPWMsdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9Zih0aGlzKTtiLnRyaWdnZXJIYW5kbGVyKCJzZXREYXRhIitlLGQpLGYuZGF0YSh0aGlzLGEsYyksYi50cmlnZ2VySGFuZGxlcigiY2hhbmdlRGF0YSIrZSxkKX0pfSxudWxsLGMsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITEpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLGYuZXh0ZW5kKHtfbWFyazpmdW5jdGlvbihhLGIpe2EmJihiPShifHwiZngiKSsibWFyayIsZi5fZGF0YShhLGIsKGYuX2RhdGEoYSxiKXx8MCkrMSkpfSxfdW5tYXJrOmZ1bmN0aW9uKGEsYixjKXthIT09ITAmJihjPWIsYj1hLGE9ITEpO2lmKGIpe2M9Y3x8ImZ4Ijt2YXIgZD1jKyJtYXJrIixlPWE/MDooZi5fZGF0YShiLGQpfHwxKS0xO2U/Zi5fZGF0YShiLGQsZSk6KGYucmVtb3ZlRGF0YShiLGQsITApLG4oYixjLCJtYXJrIikpfX0scXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGEpe2I9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1mLl9kYXRhKGEsYiksYyYmKCFkfHxmLmlzQXJyYXkoYyk/ZD1mLl9kYXRhKGEsYixmLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKTtyZXR1cm4gZHx8W119fSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPWYucXVldWUoYSxiKSxkPWMuc2hpZnQoKSxlPXt9O2Q9PT0iaW5wcm9ncmVzcyImJihkPWMuc2hpZnQoKSksZCYmKGI9PT0iZngiJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxmLl9kYXRhKGEsYisiLnJ1biIsZSksZC5jYWxsKGEsZnVuY3Rpb24oKXtmLmRlcXVldWUoYSxiKX0sZSkpLGMubGVuZ3RofHwoZi5yZW1vdmVEYXRhKGEsYisicXVldWUgIitiKyIucnVuIiwhMCksbihhLGIsInF1ZXVlIikpfX0pLGYuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGMpe3ZhciBkPTI7dHlwZW9mIGEhPSJzdHJpbmciJiYoYz1hLGE9ImZ4IixkLS0pO2lmKGFyZ3VtZW50cy5sZW5ndGg8ZClyZXR1cm4gZi5xdWV1ZSh0aGlzWzBdLGEpO3JldHVybiBjPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWYucXVldWUodGhpcyxhLGMpO2E9PT0iZngiJiZiWzBdIT09ImlucHJvZ3Jlc3MiJiZmLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmRlcXVldWUodGhpcyxhKX0pfSxkZWxheTpmdW5jdGlvbihhLGIpe2E9Zi5meD9mLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8ImZ4IjtyZXR1cm4gdGhpcy5xdWV1ZShiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9c2V0VGltZW91dChiLGEpO2Muc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChkKX19KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIG0oKXstLWh8fGQucmVzb2x2ZVdpdGgoZSxbZV0pfXR5cGVvZiBhIT0ic3RyaW5nIiYmKGM9YSxhPWIpLGE9YXx8ImZ4Ijt2YXIgZD1mLkRlZmVycmVkKCksZT10aGlzLGc9ZS5sZW5ndGgsaD0xLGk9YSsiZGVmZXIiLGo9YSsicXVldWUiLGs9YSsibWFyayIsbDt3aGlsZShnLS0paWYobD1mLmRhdGEoZVtnXSxpLGIsITApfHwoZi5kYXRhKGVbZ10saixiLCEwKXx8Zi5kYXRhKGVbZ10sayxiLCEwKSkmJmYuZGF0YShlW2ddLGksZi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksITApKWgrKyxsLmFkZChtKTttKCk7cmV0dXJuIGQucHJvbWlzZShjKX19KTt2YXIgbz0vW1xuXHRccl0vZyxwPS9ccysvLHE9L1xyL2cscj0vXig/OmJ1dHRvbnxpbnB1dCkkL2kscz0vXig/OmJ1dHRvbnxpbnB1dHxvYmplY3R8c2VsZWN0fHRleHRhcmVhKSQvaSx0PS9eYSg/OnJlYSk/JC9pLHU9L14oPzphdXRvZm9jdXN8YXV0b3BsYXl8YXN5bmN8Y2hlY2tlZHxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZHxzZWxlY3RlZCkkL2ksdj1mLnN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlLHcseCx5O2YuZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGYuYWNjZXNzKHRoaXMsZi5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLnJlbW92ZUF0dHIodGhpcyxhKX0pfSxwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGYuYWNjZXNzKHRoaXMsZi5wcm9wLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe2E9Zi5wcm9wRml4W2FdfHxhO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0cnl7dGhpc1thXT1iLGRlbGV0ZSB0aGlzW2FdfWNhdGNoKGMpe319KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZyxoLGk7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihhJiZ0eXBlb2YgYT09InN0cmluZyIpe2I9YS5zcGxpdChwKTtmb3IoYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyl7ZT10aGlzW2NdO2lmKGUubm9kZVR5cGU9PT0xKWlmKCFlLmNsYXNzTmFtZSYmYi5sZW5ndGg9PT0xKWUuY2xhc3NOYW1lPWE7ZWxzZXtnPSIgIitlLmNsYXNzTmFtZSsiICI7Zm9yKGg9MCxpPWIubGVuZ3RoO2g8aTtoKyspfmcuaW5kZXhPZigiICIrYltoXSsiICIpfHwoZys9YltoXSsiICIpO2UuY2xhc3NOYW1lPWYudHJpbShnKX19fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYyxkLGUsZyxoLGksajtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtmKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGEmJnR5cGVvZiBhPT0ic3RyaW5nInx8YT09PWIpe2M9KGF8fCIiKS5zcGxpdChwKTtmb3IoZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7Zz10aGlzW2RdO2lmKGcubm9kZVR5cGU9PT0xJiZnLmNsYXNzTmFtZSlpZihhKXtoPSgiICIrZy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKG8sIiAiKTtmb3IoaT0wLGo9Yy5sZW5ndGg7aTxqO2krKyloPWgucmVwbGFjZSgiICIrY1tpXSsiICIsIiAiKTtnLmNsYXNzTmFtZT1mLnRyaW0oaCl9ZWxzZSBnLmNsYXNzTmFtZT0iIn19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGEsZD10eXBlb2YgYj09ImJvb2xlYW4iO2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe2YodGhpcykudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyx0aGlzLmNsYXNzTmFtZSxiKSxiKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihjPT09InN0cmluZyIpe3ZhciBlLGc9MCxoPWYodGhpcyksaT1iLGo9YS5zcGxpdChwKTt3aGlsZShlPWpbZysrXSlpPWQ/aTohaC5oYXNDbGFzcyhlKSxoW2k/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShlKX1lbHNlIGlmKGM9PT0idW5kZWZpbmVkInx8Yz09PSJib29sZWFuIil0aGlzLmNsYXNzTmFtZSYmZi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjpmLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiJ9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9IiAiK2ErIiAiLGM9MCxkPXRoaXMubGVuZ3RoO2Zvcig7YzxkO2MrKylpZih0aGlzW2NdLm5vZGVUeXBlPT09MSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UobywiICIpLmluZGV4T2YoYik+LTEpcmV0dXJuITA7cmV0dXJuITF9LHZhbDpmdW5jdGlvbihhKXt2YXIgYyxkLGUsZz10aGlzWzBdO3tpZighIWFyZ3VtZW50cy5sZW5ndGgpe2U9Zi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZCl7dmFyIGc9Zih0aGlzKSxoO2lmKHRoaXMubm9kZVR5cGU9PT0xKXtlP2g9YS5jYWxsKHRoaXMsZCxnLnZhbCgpKTpoPWEsaD09bnVsbD9oPSIiOnR5cGVvZiBoPT0ibnVtYmVyIj9oKz0iIjpmLmlzQXJyYXkoaCkmJihoPWYubWFwKGgsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6YSsiIn0pKSxjPWYudmFsSG9va3NbdGhpcy50eXBlXXx8Zi52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldO2lmKCFjfHwhKCJzZXQiaW4gYyl8fGMuc2V0KHRoaXMsaCwidmFsdWUiKT09PWIpdGhpcy52YWx1ZT1ofX0pfWlmKGcpe2M9Zi52YWxIb29rc1tnLnR5cGVdfHxmLnZhbEhvb2tzW2cubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07aWYoYyYmImdldCJpbiBjJiYoZD1jLmdldChnLCJ2YWx1ZSIpKSE9PWIpcmV0dXJuIGQ7ZD1nLnZhbHVlO3JldHVybiB0eXBlb2YgZD09InN0cmluZyI/ZC5yZXBsYWNlKHEsIiIpOmQ9PW51bGw/IiI6ZH19fX0pLGYuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzLnZhbHVlO3JldHVybiFifHxiLnNwZWNpZmllZD9hLnZhbHVlOmEudGV4dH19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGc9YS5zZWxlY3RlZEluZGV4LGg9W10saT1hLm9wdGlvbnMsaj1hLnR5cGU9PT0ic2VsZWN0LW9uZSI7aWYoZzwwKXJldHVybiBudWxsO2M9aj9nOjAsZD1qP2crMTppLmxlbmd0aDtmb3IoO2M8ZDtjKyspe2U9aVtjXTtpZihlLnNlbGVjdGVkJiYoZi5zdXBwb3J0Lm9wdERpc2FibGVkPyFlLmRpc2FibGVkOmUuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpPT09bnVsbCkmJighZS5wYXJlbnROb2RlLmRpc2FibGVkfHwhZi5ub2RlTmFtZShlLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtiPWYoZSkudmFsKCk7aWYoailyZXR1cm4gYjtoLnB1c2goYil9fWlmKGomJiFoLmxlbmd0aCYmaS5sZW5ndGgpcmV0dXJuIGYoaVtnXSkudmFsKCk7cmV0dXJuIGh9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWYubWFrZUFycmF5KGIpO2YoYSkuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9Zi5pbkFycmF5KGYodGhpcykudmFsKCksYyk+PTB9KSxjLmxlbmd0aHx8KGEuc2VsZWN0ZWRJbmRleD0tMSk7cmV0dXJuIGN9fX0sYXR0ckZuOnt2YWw6ITAsY3NzOiEwLGh0bWw6ITAsdGV4dDohMCxkYXRhOiEwLHdpZHRoOiEwLGhlaWdodDohMCxvZmZzZXQ6ITB9LGF0dHI6ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGcsaCxpLGo9YS5ub2RlVHlwZTtpZighIWEmJmohPT0zJiZqIT09OCYmaiE9PTIpe2lmKGUmJmMgaW4gZi5hdHRyRm4pcmV0dXJuIGYoYSlbY10oZCk7aWYodHlwZW9mIGEuZ2V0QXR0cmlidXRlPT0idW5kZWZpbmVkIilyZXR1cm4gZi5wcm9wKGEsYyxkKTtpPWohPT0xfHwhZi5pc1hNTERvYyhhKSxpJiYoYz1jLnRvTG93ZXJDYXNlKCksaD1mLmF0dHJIb29rc1tjXXx8KHUudGVzdChjKT94OncpKTtpZihkIT09Yil7aWYoZD09PW51bGwpe2YucmVtb3ZlQXR0cihhLGMpO3JldHVybn1pZihoJiYic2V0ImluIGgmJmkmJihnPWguc2V0KGEsZCxjKSkhPT1iKXJldHVybiBnO2Euc2V0QXR0cmlidXRlKGMsIiIrZCk7cmV0dXJuIGR9aWYoaCYmImdldCJpbiBoJiZpJiYoZz1oLmdldChhLGMpKSE9PW51bGwpcmV0dXJuIGc7Zz1hLmdldEF0dHJpYnV0ZShjKTtyZXR1cm4gZz09PW51bGw/YjpnfX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxnLGgsaT0wO2lmKGImJmEubm9kZVR5cGU9PT0xKXtkPWIudG9Mb3dlckNhc2UoKS5zcGxpdChwKSxnPWQubGVuZ3RoO2Zvcig7aTxnO2krKyllPWRbaV0sZSYmKGM9Zi5wcm9wRml4W2VdfHxlLGg9dS50ZXN0KGUpLGh8fGYuYXR0cihhLGUsIiIpLGEucmVtb3ZlQXR0cmlidXRlKHY/ZTpjKSxoJiZjIGluIGEmJihhW2NdPSExKSl9fSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKHIudGVzdChhLm5vZGVOYW1lKSYmYS5wYXJlbnROb2RlKWYuZXJyb3IoInR5cGUgcHJvcGVydHkgY2FuJ3QgYmUgY2hhbmdlZCIpO2Vsc2UgaWYoIWYuc3VwcG9ydC5yYWRpb1ZhbHVlJiZiPT09InJhZGlvIiYmZi5ub2RlTmFtZShhLCJpbnB1dCIpKXt2YXIgYz1hLnZhbHVlO2Euc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKTtyZXR1cm4gYn19fSx2YWx1ZTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYodyYmZi5ub2RlTmFtZShhLCJidXR0b24iKSlyZXR1cm4gdy5nZXQoYSxiKTtyZXR1cm4gYiBpbiBhP2EudmFsdWU6bnVsbH0sc2V0OmZ1bmN0aW9uKGEsYixjKXtpZih3JiZmLm5vZGVOYW1lKGEsImJ1dHRvbiIpKXJldHVybiB3LnNldChhLGIsYyk7YS52YWx1ZT1ifX19LHByb3BGaXg6e3RhYmluZGV4OiJ0YWJJbmRleCIscmVhZG9ubHk6InJlYWRPbmx5IiwiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIixtYXhsZW5ndGg6Im1heExlbmd0aCIsY2VsbHNwYWNpbmc6ImNlbGxTcGFjaW5nIixjZWxscGFkZGluZzoiY2VsbFBhZGRpbmciLHJvd3NwYW46InJvd1NwYW4iLGNvbHNwYW46ImNvbFNwYW4iLHVzZW1hcDoidXNlTWFwIixmcmFtZWJvcmRlcjoiZnJhbWVCb3JkZXIiLGNvbnRlbnRlZGl0YWJsZToiY29udGVudEVkaXRhYmxlIn0scHJvcDpmdW5jdGlvbihhLGMsZCl7dmFyIGUsZyxoLGk9YS5ub2RlVHlwZTtpZighIWEmJmkhPT0zJiZpIT09OCYmaSE9PTIpe2g9aSE9PTF8fCFmLmlzWE1MRG9jKGEpLGgmJihjPWYucHJvcEZpeFtjXXx8YyxnPWYucHJvcEhvb2tzW2NdKTtyZXR1cm4gZCE9PWI/ZyYmInNldCJpbiBnJiYoZT1nLnNldChhLGQsYykpIT09Yj9lOmFbY109ZDpnJiYiZ2V0ImluIGcmJihlPWcuZ2V0KGEsYykpIT09bnVsbD9lOmFbY119fSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGM9YS5nZXRBdHRyaWJ1dGVOb2RlKCJ0YWJpbmRleCIpO3JldHVybiBjJiZjLnNwZWNpZmllZD9wYXJzZUludChjLnZhbHVlLDEwKTpzLnRlc3QoYS5ub2RlTmFtZSl8fHQudGVzdChhLm5vZGVOYW1lKSYmYS5ocmVmPzA6Yn19fX0pLGYuYXR0ckhvb2tzLnRhYmluZGV4PWYucHJvcEhvb2tzLnRhYkluZGV4LHg9e2dldDpmdW5jdGlvbihhLGMpe3ZhciBkLGU9Zi5wcm9wKGEsYyk7cmV0dXJuIGU9PT0hMHx8dHlwZW9mIGUhPSJib29sZWFuIiYmKGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpKSYmZC5ub2RlVmFsdWUhPT0hMT9jLnRvTG93ZXJDYXNlKCk6Yn0sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtiPT09ITE/Zi5yZW1vdmVBdHRyKGEsYyk6KGQ9Zi5wcm9wRml4W2NdfHxjLGQgaW4gYSYmKGFbZF09ITApLGEuc2V0QXR0cmlidXRlKGMsYy50b0xvd2VyQ2FzZSgpKSk7cmV0dXJuIGN9fSx2fHwoeT17bmFtZTohMCxpZDohMCxjb29yZHM6ITB9LHc9Zi52YWxIb29rcy5idXR0b249e2dldDpmdW5jdGlvbihhLGMpe3ZhciBkO2Q9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpO3JldHVybiBkJiYoeVtjXT9kLm5vZGVWYWx1ZSE9PSIiOmQuc3BlY2lmaWVkKT9kLm5vZGVWYWx1ZTpifSxzZXQ6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWEuZ2V0QXR0cmlidXRlTm9kZShkKTtlfHwoZT1jLmNyZWF0ZUF0dHJpYnV0ZShkKSxhLnNldEF0dHJpYnV0ZU5vZGUoZSkpO3JldHVybiBlLm5vZGVWYWx1ZT1iKyIifX0sZi5hdHRySG9va3MudGFiaW5kZXguc2V0PXcuc2V0LGYuZWFjaChbIndpZHRoIiwiaGVpZ2h0Il0sZnVuY3Rpb24oYSxiKXtmLmF0dHJIb29rc1tiXT1mLmV4dGVuZChmLmF0dHJIb29rc1tiXSx7c2V0OmZ1bmN0aW9uKGEsYyl7aWYoYz09PSIiKXthLnNldEF0dHJpYnV0ZShiLCJhdXRvIik7cmV0dXJuIGN9fX0pfSksZi5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPXtnZXQ6dy5nZXQsc2V0OmZ1bmN0aW9uKGEsYixjKXtiPT09IiImJihiPSJmYWxzZSIpLHcuc2V0KGEsYixjKX19KSxmLnN1cHBvcnQuaHJlZk5vcm1hbGl6ZWR8fGYuZWFjaChbImhyZWYiLCJzcmMiLCJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGEsYyl7Zi5hdHRySG9va3NbY109Zi5leHRlbmQoZi5hdHRySG9va3NbY10se2dldDpmdW5jdGlvbihhKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShjLDIpO3JldHVybiBkPT09bnVsbD9iOmR9fSl9KSxmLnN1cHBvcnQuc3R5bGV8fChmLmF0dHJIb29rcy5zdHlsZT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmNzc1RleHQudG9Mb3dlckNhc2UoKXx8Yn0sc2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dD0iIitifX0pLGYuc3VwcG9ydC5vcHRTZWxlY3RlZHx8KGYucHJvcEhvb2tzLnNlbGVjdGVkPWYuZXh0ZW5kKGYucHJvcEhvb2tzLnNlbGVjdGVkLHtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO2ImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCk7cmV0dXJuIG51bGx9fSkpLGYuc3VwcG9ydC5lbmN0eXBlfHwoZi5wcm9wRml4LmVuY3R5cGU9ImVuY29kaW5nIiksZi5zdXBwb3J0LmNoZWNrT258fGYuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe2YudmFsSG9va3NbdGhpc109e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoInZhbHVlIik9PT1udWxsPyJvbiI6YS52YWx1ZX19fSksZi5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7Zi52YWxIb29rc1t0aGlzXT1mLmV4dGVuZChmLnZhbEhvb2tzW3RoaXNdLHtzZXQ6ZnVuY3Rpb24oYSxiKXtpZihmLmlzQXJyYXkoYikpcmV0dXJuIGEuY2hlY2tlZD1mLmluQXJyYXkoZihhKS52YWwoKSxiKT49MH19KX0pO3ZhciB6PS9eKD86dGV4dGFyZWF8aW5wdXR8c2VsZWN0KSQvaSxBPS9eKFteXC5dKik/KD86XC4oLispKT8kLyxCPS8oPzpefFxzKWhvdmVyKFwuXFMrKT9cYi8sQz0vXmtleS8sRD0vXig/Om1vdXNlfGNvbnRleHRtZW51KXxjbGljay8sRT0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sRj0vXihcdyopKD86IyhbXHdcLV0rKSk/KD86XC4oW1x3XC1dKykpPyQvLEc9ZnVuY3Rpb24oDQphKXt2YXIgYj1GLmV4ZWMoYSk7YiYmKGJbMV09KGJbMV18fCIiKS50b0xvd2VyQ2FzZSgpLGJbM109YlszXSYmbmV3IFJlZ0V4cCgiKD86XnxcXHMpIitiWzNdKyIoPzpcXHN8JCkiKSk7cmV0dXJuIGJ9LEg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmF0dHJpYnV0ZXN8fHt9O3JldHVybighYlsxXXx8YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09YlsxXSkmJighYlsyXXx8KGMuaWR8fHt9KS52YWx1ZT09PWJbMl0pJiYoIWJbM118fGJbM10udGVzdCgoY1siY2xhc3MiXXx8e30pLnZhbHVlKSl9LEk9ZnVuY3Rpb24oYSl7cmV0dXJuIGYuZXZlbnQuc3BlY2lhbC5ob3Zlcj9hOmEucmVwbGFjZShCLCJtb3VzZWVudGVyJDEgbW91c2VsZWF2ZSQxIil9O2YuZXZlbnQ9e2FkZDpmdW5jdGlvbihhLGMsZCxlLGcpe3ZhciBoLGksaixrLGwsbSxuLG8scCxxLHIscztpZighKGEubm9kZVR5cGU9PT0zfHxhLm5vZGVUeXBlPT09OHx8IWN8fCFkfHwhKGg9Zi5fZGF0YShhKSkpKXtkLmhhbmRsZXImJihwPWQsZD1wLmhhbmRsZXIsZz1wLnNlbGVjdG9yKSxkLmd1aWR8fChkLmd1aWQ9Zi5ndWlkKyspLGo9aC5ldmVudHMsanx8KGguZXZlbnRzPWo9e30pLGk9aC5oYW5kbGUsaXx8KGguaGFuZGxlPWk9ZnVuY3Rpb24oYSl7cmV0dXJuIHR5cGVvZiBmIT0idW5kZWZpbmVkIiYmKCFhfHxmLmV2ZW50LnRyaWdnZXJlZCE9PWEudHlwZSk/Zi5ldmVudC5kaXNwYXRjaC5hcHBseShpLmVsZW0sYXJndW1lbnRzKTpifSxpLmVsZW09YSksYz1mLnRyaW0oSShjKSkuc3BsaXQoIiAiKTtmb3Ioaz0wO2s8Yy5sZW5ndGg7aysrKXtsPUEuZXhlYyhjW2tdKXx8W10sbT1sWzFdLG49KGxbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxzPWYuZXZlbnQuc3BlY2lhbFttXXx8e30sbT0oZz9zLmRlbGVnYXRlVHlwZTpzLmJpbmRUeXBlKXx8bSxzPWYuZXZlbnQuc3BlY2lhbFttXXx8e30sbz1mLmV4dGVuZCh7dHlwZTptLG9yaWdUeXBlOmxbMV0sZGF0YTplLGhhbmRsZXI6ZCxndWlkOmQuZ3VpZCxzZWxlY3RvcjpnLHF1aWNrOmcmJkcoZyksbmFtZXNwYWNlOm4uam9pbigiLiIpfSxwKSxyPWpbbV07aWYoIXIpe3I9alttXT1bXSxyLmRlbGVnYXRlQ291bnQ9MDtpZighcy5zZXR1cHx8cy5zZXR1cC5jYWxsKGEsZSxuLGkpPT09ITEpYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihtLGksITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIittLGkpfXMuYWRkJiYocy5hZGQuY2FsbChhLG8pLG8uaGFuZGxlci5ndWlkfHwoby5oYW5kbGVyLmd1aWQ9ZC5ndWlkKSksZz9yLnNwbGljZShyLmRlbGVnYXRlQ291bnQrKywwLG8pOnIucHVzaChvKSxmLmV2ZW50Lmdsb2JhbFttXT0hMH1hPW51bGx9fSxnbG9iYWw6e30scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGc9Zi5oYXNEYXRhKGEpJiZmLl9kYXRhKGEpLGgsaSxqLGssbCxtLG4sbyxwLHEscixzO2lmKCEhZyYmISEobz1nLmV2ZW50cykpe2I9Zi50cmltKEkoYnx8IiIpKS5zcGxpdCgiICIpO2ZvcihoPTA7aDxiLmxlbmd0aDtoKyspe2k9QS5leGVjKGJbaF0pfHxbXSxqPWs9aVsxXSxsPWlbMl07aWYoIWope2ZvcihqIGluIG8pZi5ldmVudC5yZW1vdmUoYSxqK2JbaF0sYyxkLCEwKTtjb250aW51ZX1wPWYuZXZlbnQuc3BlY2lhbFtqXXx8e30saj0oZD9wLmRlbGVnYXRlVHlwZTpwLmJpbmRUeXBlKXx8aixyPW9bal18fFtdLG09ci5sZW5ndGgsbD1sP25ldyBSZWdFeHAoIihefFxcLikiK2wuc3BsaXQoIi4iKS5zb3J0KCkuam9pbigiXFwuKD86LipcXC4pPyIpKyIoXFwufCQpIik6bnVsbDtmb3Iobj0wO248ci5sZW5ndGg7bisrKXM9cltuXSwoZXx8az09PXMub3JpZ1R5cGUpJiYoIWN8fGMuZ3VpZD09PXMuZ3VpZCkmJighbHx8bC50ZXN0KHMubmFtZXNwYWNlKSkmJighZHx8ZD09PXMuc2VsZWN0b3J8fGQ9PT0iKioiJiZzLnNlbGVjdG9yKSYmKHIuc3BsaWNlKG4tLSwxKSxzLnNlbGVjdG9yJiZyLmRlbGVnYXRlQ291bnQtLSxwLnJlbW92ZSYmcC5yZW1vdmUuY2FsbChhLHMpKTtyLmxlbmd0aD09PTAmJm0hPT1yLmxlbmd0aCYmKCghcC50ZWFyZG93bnx8cC50ZWFyZG93bi5jYWxsKGEsbCk9PT0hMSkmJmYucmVtb3ZlRXZlbnQoYSxqLGcuaGFuZGxlKSxkZWxldGUgb1tqXSl9Zi5pc0VtcHR5T2JqZWN0KG8pJiYocT1nLmhhbmRsZSxxJiYocS5lbGVtPW51bGwpLGYucmVtb3ZlRGF0YShhLFsiZXZlbnRzIiwiaGFuZGxlIl0sITApKX19LGN1c3RvbUV2ZW50OntnZXREYXRhOiEwLHNldERhdGE6ITAsY2hhbmdlRGF0YTohMH0sdHJpZ2dlcjpmdW5jdGlvbihjLGQsZSxnKXtpZighZXx8ZS5ub2RlVHlwZSE9PTMmJmUubm9kZVR5cGUhPT04KXt2YXIgaD1jLnR5cGV8fGMsaT1bXSxqLGssbCxtLG4sbyxwLHEscixzO2lmKEUudGVzdChoK2YuZXZlbnQudHJpZ2dlcmVkKSlyZXR1cm47aC5pbmRleE9mKCIhIik+PTAmJihoPWguc2xpY2UoMCwtMSksaz0hMCksaC5pbmRleE9mKCIuIik+PTAmJihpPWguc3BsaXQoIi4iKSxoPWkuc2hpZnQoKSxpLnNvcnQoKSk7aWYoKCFlfHxmLmV2ZW50LmN1c3RvbUV2ZW50W2hdKSYmIWYuZXZlbnQuZ2xvYmFsW2hdKXJldHVybjtjPXR5cGVvZiBjPT0ib2JqZWN0Ij9jW2YuZXhwYW5kb10/YzpuZXcgZi5FdmVudChoLGMpOm5ldyBmLkV2ZW50KGgpLGMudHlwZT1oLGMuaXNUcmlnZ2VyPSEwLGMuZXhjbHVzaXZlPWssYy5uYW1lc3BhY2U9aS5qb2luKCIuIiksYy5uYW1lc3BhY2VfcmU9Yy5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIraS5qb2luKCJcXC4oPzouKlxcLik/IikrIihcXC58JCkiKTpudWxsLG89aC5pbmRleE9mKCI6Iik8MD8ib24iK2g6IiI7aWYoIWUpe2o9Zi5jYWNoZTtmb3IobCBpbiBqKWpbbF0uZXZlbnRzJiZqW2xdLmV2ZW50c1toXSYmZi5ldmVudC50cmlnZ2VyKGMsZCxqW2xdLmhhbmRsZS5lbGVtLCEwKTtyZXR1cm59Yy5yZXN1bHQ9YixjLnRhcmdldHx8KGMudGFyZ2V0PWUpLGQ9ZCE9bnVsbD9mLm1ha2VBcnJheShkKTpbXSxkLnVuc2hpZnQoYykscD1mLmV2ZW50LnNwZWNpYWxbaF18fHt9O2lmKHAudHJpZ2dlciYmcC50cmlnZ2VyLmFwcGx5KGUsZCk9PT0hMSlyZXR1cm47cj1bW2UscC5iaW5kVHlwZXx8aF1dO2lmKCFnJiYhcC5ub0J1YmJsZSYmIWYuaXNXaW5kb3coZSkpe3M9cC5kZWxlZ2F0ZVR5cGV8fGgsbT1FLnRlc3QocytoKT9lOmUucGFyZW50Tm9kZSxuPW51bGw7Zm9yKDttO209bS5wYXJlbnROb2RlKXIucHVzaChbbSxzXSksbj1tO24mJm49PT1lLm93bmVyRG9jdW1lbnQmJnIucHVzaChbbi5kZWZhdWx0Vmlld3x8bi5wYXJlbnRXaW5kb3d8fGEsc10pfWZvcihsPTA7bDxyLmxlbmd0aCYmIWMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTtsKyspbT1yW2xdWzBdLGMudHlwZT1yW2xdWzFdLHE9KGYuX2RhdGEobSwiZXZlbnRzIil8fHt9KVtjLnR5cGVdJiZmLl9kYXRhKG0sImhhbmRsZSIpLHEmJnEuYXBwbHkobSxkKSxxPW8mJm1bb10scSYmZi5hY2NlcHREYXRhKG0pJiZxLmFwcGx5KG0sZCk9PT0hMSYmYy5wcmV2ZW50RGVmYXVsdCgpO2MudHlwZT1oLCFnJiYhYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKCFwLl9kZWZhdWx0fHxwLl9kZWZhdWx0LmFwcGx5KGUub3duZXJEb2N1bWVudCxkKT09PSExKSYmKGghPT0iY2xpY2sifHwhZi5ub2RlTmFtZShlLCJhIikpJiZmLmFjY2VwdERhdGEoZSkmJm8mJmVbaF0mJihoIT09ImZvY3VzIiYmaCE9PSJibHVyInx8Yy50YXJnZXQub2Zmc2V0V2lkdGghPT0wKSYmIWYuaXNXaW5kb3coZSkmJihuPWVbb10sbiYmKGVbb109bnVsbCksZi5ldmVudC50cmlnZ2VyZWQ9aCxlW2hdKCksZi5ldmVudC50cmlnZ2VyZWQ9YixuJiYoZVtvXT1uKSk7cmV0dXJuIGMucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYyl7Yz1mLmV2ZW50LmZpeChjfHxhLmV2ZW50KTt2YXIgZD0oZi5fZGF0YSh0aGlzLCJldmVudHMiKXx8e30pW2MudHlwZV18fFtdLGU9ZC5kZWxlZ2F0ZUNvdW50LGc9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCksaD0hYy5leGNsdXNpdmUmJiFjLm5hbWVzcGFjZSxpPWYuZXZlbnQuc3BlY2lhbFtjLnR5cGVdfHx7fSxqPVtdLGssbCxtLG4sbyxwLHEscixzLHQsdTtnWzBdPWMsYy5kZWxlZ2F0ZVRhcmdldD10aGlzO2lmKCFpLnByZURpc3BhdGNofHxpLnByZURpc3BhdGNoLmNhbGwodGhpcyxjKSE9PSExKXtpZihlJiYoIWMuYnV0dG9ufHxjLnR5cGUhPT0iY2xpY2siKSl7bj1mKHRoaXMpLG4uY29udGV4dD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXM7Zm9yKG09Yy50YXJnZXQ7bSE9dGhpczttPW0ucGFyZW50Tm9kZXx8dGhpcylpZihtLmRpc2FibGVkIT09ITApe3A9e30scj1bXSxuWzBdPW07Zm9yKGs9MDtrPGU7aysrKXM9ZFtrXSx0PXMuc2VsZWN0b3IscFt0XT09PWImJihwW3RdPXMucXVpY2s/SChtLHMucXVpY2spOm4uaXModCkpLHBbdF0mJnIucHVzaChzKTtyLmxlbmd0aCYmai5wdXNoKHtlbGVtOm0sbWF0Y2hlczpyfSl9fWQubGVuZ3RoPmUmJmoucHVzaCh7ZWxlbTp0aGlzLG1hdGNoZXM6ZC5zbGljZShlKX0pO2ZvcihrPTA7azxqLmxlbmd0aCYmIWMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTtrKyspe3E9altrXSxjLmN1cnJlbnRUYXJnZXQ9cS5lbGVtO2ZvcihsPTA7bDxxLm1hdGNoZXMubGVuZ3RoJiYhYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpO2wrKyl7cz1xLm1hdGNoZXNbbF07aWYoaHx8IWMubmFtZXNwYWNlJiYhcy5uYW1lc3BhY2V8fGMubmFtZXNwYWNlX3JlJiZjLm5hbWVzcGFjZV9yZS50ZXN0KHMubmFtZXNwYWNlKSljLmRhdGE9cy5kYXRhLGMuaGFuZGxlT2JqPXMsbz0oKGYuZXZlbnQuc3BlY2lhbFtzLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8cy5oYW5kbGVyKS5hcHBseShxLmVsZW0sZyksbyE9PWImJihjLnJlc3VsdD1vLG89PT0hMSYmKGMucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpKSl9fWkucG9zdERpc3BhdGNoJiZpLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYyk7cmV0dXJuIGMucmVzdWx0fX0scHJvcHM6ImF0dHJDaGFuZ2UgYXR0ck5hbWUgcmVsYXRlZE5vZGUgc3JjRWxlbWVudCBhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe2Eud2hpY2g9PW51bGwmJihhLndoaWNoPWIuY2hhckNvZGUhPW51bGw/Yi5jaGFyQ29kZTpiLmtleUNvZGUpO3JldHVybiBhfX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBmcm9tRWxlbWVudCBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxkKXt2YXIgZSxmLGcsaD1kLmJ1dHRvbixpPWQuZnJvbUVsZW1lbnQ7YS5wYWdlWD09bnVsbCYmZC5jbGllbnRYIT1udWxsJiYoZT1hLnRhcmdldC5vd25lckRvY3VtZW50fHxjLGY9ZS5kb2N1bWVudEVsZW1lbnQsZz1lLmJvZHksYS5wYWdlWD1kLmNsaWVudFgrKGYmJmYuc2Nyb2xsTGVmdHx8ZyYmZy5zY3JvbGxMZWZ0fHwwKS0oZiYmZi5jbGllbnRMZWZ0fHxnJiZnLmNsaWVudExlZnR8fDApLGEucGFnZVk9ZC5jbGllbnRZKyhmJiZmLnNjcm9sbFRvcHx8ZyYmZy5zY3JvbGxUb3B8fDApLShmJiZmLmNsaWVudFRvcHx8ZyYmZy5jbGllbnRUb3B8fDApKSwhYS5yZWxhdGVkVGFyZ2V0JiZpJiYoYS5yZWxhdGVkVGFyZ2V0PWk9PT1hLnRhcmdldD9kLnRvRWxlbWVudDppKSwhYS53aGljaCYmaCE9PWImJihhLndoaWNoPWgmMT8xOmgmMj8zOmgmND8yOjApO3JldHVybiBhfX0sZml4OmZ1bmN0aW9uKGEpe2lmKGFbZi5leHBhbmRvXSlyZXR1cm4gYTt2YXIgZCxlLGc9YSxoPWYuZXZlbnQuZml4SG9va3NbYS50eXBlXXx8e30saT1oLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGgucHJvcHMpOnRoaXMucHJvcHM7YT1mLkV2ZW50KGcpO2ZvcihkPWkubGVuZ3RoO2Q7KWU9aVstLWRdLGFbZV09Z1tlXTthLnRhcmdldHx8KGEudGFyZ2V0PWcuc3JjRWxlbWVudHx8YyksYS50YXJnZXQubm9kZVR5cGU9PT0zJiYoYS50YXJnZXQ9YS50YXJnZXQucGFyZW50Tm9kZSksYS5tZXRhS2V5PT09YiYmKGEubWV0YUtleT1hLmN0cmxLZXkpO3JldHVybiBoLmZpbHRlcj9oLmZpbHRlcihhLGcpOmF9LHNwZWNpYWw6e3JlYWR5OntzZXR1cDpmLmJpbmRSZWFkeX0sbG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOntkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOntkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sYmVmb3JldW5sb2FkOntzZXR1cDpmdW5jdGlvbihhLGIsYyl7Zi5pc1dpbmRvdyh0aGlzKSYmKHRoaXMub25iZWZvcmV1bmxvYWQ9Yyl9LHRlYXJkb3duOmZ1bmN0aW9uKGEsYil7dGhpcy5vbmJlZm9yZXVubG9hZD09PWImJih0aGlzLm9uYmVmb3JldW5sb2FkPW51bGwpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWYuZXh0ZW5kKG5ldyBmLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7ZD9mLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOmYuZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19LGYuZXZlbnQuaGFuZGxlPWYuZXZlbnQuZGlzcGF0Y2gsZi5yZW1vdmVFdmVudD1jLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9OmZ1bmN0aW9uKGEsYixjKXthLmRldGFjaEV2ZW50JiZhLmRldGFjaEV2ZW50KCJvbiIrYixjKX0sZi5FdmVudD1mdW5jdGlvbihhLGIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGYuRXZlbnQpKXJldHVybiBuZXcgZi5FdmVudChhLGIpO2EmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fGEucmV0dXJuVmFsdWU9PT0hMXx8YS5nZXRQcmV2ZW50RGVmYXVsdCYmYS5nZXRQcmV2ZW50RGVmYXVsdCgpP0s6Sik6dGhpcy50eXBlPWEsYiYmZi5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8Zi5ub3coKSx0aGlzW2YuZXhwYW5kb109ITB9LGYuRXZlbnQucHJvdG90eXBlPXtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPUs7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50OyFhfHwoYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9Szt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7IWF8fChhLnN0b3BQcm9wYWdhdGlvbiYmYS5zdG9wUHJvcGFnYXRpb24oKSxhLmNhbmNlbEJ1YmJsZT0hMCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Syx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6Sixpc1Byb3BhZ2F0aW9uU3RvcHBlZDpKLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOkp9LGYuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9LGZ1bmN0aW9uKGEsYil7Zi5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGQ9YS5yZWxhdGVkVGFyZ2V0LGU9YS5oYW5kbGVPYmosZz1lLnNlbGVjdG9yLGg7aWYoIWR8fGQhPT1jJiYhZi5jb250YWlucyhjLGQpKWEudHlwZT1lLm9yaWdUeXBlLGg9ZS5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLnR5cGU9YjtyZXR1cm4gaH19fSksZi5zdXBwb3J0LnN1Ym1pdEJ1YmJsZXN8fChmLmV2ZW50LnNwZWNpYWwuc3VibWl0PXtzZXR1cDpmdW5jdGlvbigpe2lmKGYubm9kZU5hbWUodGhpcywiZm9ybSIpKXJldHVybiExO2YuZXZlbnQuYWRkKHRoaXMsImNsaWNrLl9zdWJtaXQga2V5cHJlc3MuX3N1Ym1pdCIsZnVuY3Rpb24oYSl7dmFyIGM9YS50YXJnZXQsZD1mLm5vZGVOYW1lKGMsImlucHV0Iil8fGYubm9kZU5hbWUoYywiYnV0dG9uIik/Yy5mb3JtOmI7ZCYmIWQuX3N1Ym1pdF9hdHRhY2hlZCYmKGYuZXZlbnQuYWRkKGQsInN1Ym1pdC5fc3VibWl0IixmdW5jdGlvbihhKXthLl9zdWJtaXRfYnViYmxlPSEwfSksZC5fc3VibWl0X2F0dGFjaGVkPSEwKX0pfSxwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YS5fc3VibWl0X2J1YmJsZSYmKGRlbGV0ZSBhLl9zdWJtaXRfYnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWEuaXNUcmlnZ2VyJiZmLmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxhLCEwKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoZi5ub2RlTmFtZSh0aGlzLCJmb3JtIikpcmV0dXJuITE7Zi5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KSxmLnN1cHBvcnQuY2hhbmdlQnViYmxlc3x8KGYuZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e3NldHVwOmZ1bmN0aW9uKCl7aWYoei50ZXN0KHRoaXMubm9kZU5hbWUpKXtpZih0aGlzLnR5cGU9PT0iY2hlY2tib3gifHx0aGlzLnR5cGU9PT0icmFkaW8iKWYuZXZlbnQuYWRkKHRoaXMsInByb3BlcnR5Y2hhbmdlLl9jaGFuZ2UiLGZ1bmN0aW9uKGEpe2Eub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWU9PT0iY2hlY2tlZCImJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITApfSksZi5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYSl7dGhpcy5fanVzdF9jaGFuZ2VkJiYhYS5pc1RyaWdnZXImJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITEsZi5ldmVudC5zaW11bGF0ZSgiY2hhbmdlIix0aGlzLGEsITApKX0pO3JldHVybiExfWYuZXZlbnQuYWRkKHRoaXMsImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2UiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3oudGVzdChiLm5vZGVOYW1lKSYmIWIuX2NoYW5nZV9hdHRhY2hlZCYmKGYuZXZlbnQuYWRkKGIsImNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJiFhLmlzU2ltdWxhdGVkJiYhYS5pc1RyaWdnZXImJmYuZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcy5wYXJlbnROb2RlLGEsITApfSksYi5fY2hhbmdlX2F0dGFjaGVkPSEwKX0pfSxoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7aWYodGhpcyE9PWJ8fGEuaXNTaW11bGF0ZWR8fGEuaXNUcmlnZ2VyfHxiLnR5cGUhPT0icmFkaW8iJiZiLnR5cGUhPT0iY2hlY2tib3giKXJldHVybiBhLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtmLmV2ZW50LnJlbW92ZSh0aGlzLCIuX2NoYW5nZSIpO3JldHVybiB6LnRlc3QodGhpcy5ub2RlTmFtZSl9fSksZi5zdXBwb3J0LmZvY3VzaW5CdWJibGVzfHxmLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGQ9MCxlPWZ1bmN0aW9uKGEpe2YuZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxmLmV2ZW50LmZpeChhKSwhMCl9O2YuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXtkKys9PT0wJiZjLmFkZEV2ZW50TGlzdGVuZXIoYSxlLCEwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLWQ9PT0wJiZjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxlLCEwKX19fSksZi5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGEsYyxkLGUsZyl7dmFyIGgsaTtpZih0eXBlb2YgYT09Im9iamVjdCIpe3R5cGVvZiBjIT0ic3RyaW5nIiYmKGQ9ZHx8YyxjPWIpO2ZvcihpIGluIGEpdGhpcy5vbihpLGMsZCxhW2ldLGcpO3JldHVybiB0aGlzfWQ9PW51bGwmJmU9PW51bGw/KGU9YyxkPWM9Yik6ZT09bnVsbCYmKHR5cGVvZiBjPT0ic3RyaW5nIj8oZT1kLGQ9Yik6KGU9ZCxkPWMsYz1iKSk7aWYoZT09PSExKWU9SjtlbHNlIGlmKCFlKXJldHVybiB0aGlzO2c9PT0xJiYoaD1lLGU9ZnVuY3Rpb24oYSl7ZigpLm9mZihhKTtyZXR1cm4gaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuZ3VpZD1oLmd1aWR8fChoLmd1aWQ9Zi5ndWlkKyspKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5ldmVudC5hZGQodGhpcyxhLGUsZCxjKX0pfSxvbmU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYSxiLGMsZCwxKX0sb2ZmOmZ1bmN0aW9uKGEsYyxkKXtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iail7dmFyIGU9YS5oYW5kbGVPYmo7ZihhLmRlbGVnYXRlVGFyZ2V0KS5vZmYoZS5uYW1lc3BhY2U/ZS5vcmlnVHlwZSsiLiIrZS5uYW1lc3BhY2U6ZS5vcmlnVHlwZSxlLnNlbGVjdG9yLGUuaGFuZGxlcik7cmV0dXJuIHRoaXN9aWYodHlwZW9mIGE9PSJvYmplY3QiKXtmb3IodmFyIGcgaW4gYSl0aGlzLm9mZihnLGMsYVtnXSk7cmV0dXJuIHRoaXN9aWYoYz09PSExfHx0eXBlb2YgYz09ImZ1bmN0aW9uIilkPWMsYz1iO2Q9PT0hMSYmKGQ9Sik7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YuZXZlbnQucmVtb3ZlKHRoaXMsYSxkLGMpfSl9LGJpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxsaXZlOmZ1bmN0aW9uKGEsYixjKXtmKHRoaXMuY29udGV4dCkub24oYSx0aGlzLnNlbGVjdG9yLGIsYyk7cmV0dXJuIHRoaXN9LGRpZTpmdW5jdGlvbihhLGIpe2YodGhpcy5jb250ZXh0KS5vZmYoYSx0aGlzLnNlbGVjdG9yfHwiKioiLGIpO3JldHVybiB0aGlzfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg9PTE/dGhpcy5vZmYoYSwiKioiKTp0aGlzLm9mZihiLGEsYyl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe2lmKHRoaXNbMF0pcmV0dXJuIGYuZXZlbnQudHJpZ2dlcihhLGIsdGhpc1swXSwhMCl9LHRvZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj1hcmd1bWVudHMsYz1hLmd1aWR8fGYuZ3VpZCsrLGQ9MCxlPWZ1bmN0aW9uKGMpe3ZhciBlPShmLl9kYXRhKHRoaXMsImxhc3RUb2dnbGUiK2EuZ3VpZCl8fDApJWQ7Zi5fZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQsZSsxKSxjLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGJbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfHwhMX07ZS5ndWlkPWM7d2hpbGUoZDxiLmxlbmd0aCliW2QrK10uZ3VpZD1jO3JldHVybiB0aGlzLmNsaWNrKGUpfSxob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX19KSxmLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtmLmZuW2JdPWZ1bmN0aW9uKGEsYyl7Yz09bnVsbCYmKGM9YSxhPW51bGwpO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihiLG51bGwsYSxjKTp0aGlzLnRyaWdnZXIoYil9LGYuYXR0ckZuJiYoZi5hdHRyRm5bYl09ITApLEMudGVzdChiKSYmKGYuZXZlbnQuZml4SG9va3NbYl09Zi5ldmVudC5rZXlIb29rcyksRC50ZXN0KGIpJiYoZi5ldmVudC5maXhIb29rc1tiXT1mLmV2ZW50Lm1vdXNlSG9va3MpfSksZnVuY3Rpb24oKXtmdW5jdGlvbiB4KGEsYixjLGUsZixnKXtmb3IodmFyIGg9MCxpPWUubGVuZ3RoO2g8aTtoKyspe3ZhciBqPWVbaF07aWYoail7dmFyIGs9ITE7aj1qW2FdO3doaWxlKGope2lmKGpbZF09PT1jKXtrPWVbai5zaXpzZXRdO2JyZWFrfWlmKGoubm9kZVR5cGU9PT0xKXtnfHwoaltkXT1jLGouc2l6c2V0PWgpO2lmKHR5cGVvZiBiIT0ic3RyaW5nIil7aWYoaj09PWIpe2s9ITA7YnJlYWt9fWVsc2UgaWYobS5maWx0ZXIoYixbal0pLmxlbmd0aD4wKXtrPWo7YnJlYWt9fWo9althXX1lW2hdPWt9fX1mdW5jdGlvbiB3KGEsYixjLGUsZixnKXtmb3IodmFyIGg9MCxpPWUubGVuZ3RoO2g8aTtoKyspe3ZhciBqPWVbaF07aWYoail7dmFyIGs9ITE7aj1qW2FdO3doaWxlKGope2lmKGpbZF09PT1jKXtrPWVbai5zaXpzZXRdO2JyZWFrfWoubm9kZVR5cGU9PT0xJiYhZyYmKGpbZF09YyxqLnNpenNldD1oKTtpZihqLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iKXtrPWo7YnJlYWt9aj1qW2FdfWVbaF09a319fXZhciBhPS8oKD86XCgoPzpcKFteKCldK1wpfFteKCldKykrXCl8XFsoPzpcW1teXFtcXV0qXF18WyciXVteJyJdKlsnIl18W15cW1xdJyJdKykrXF18XFwufFteID4rfiwoXFtcXF0rKSt8Wz4rfl0pKFxzKixccyopPygoPzoufFxyfFxuKSopL2csZD0ic2l6Y2FjaGUiKyhNYXRoLnJhbmRvbSgpKyIiKS5yZXBsYWNlKCIuIiwiIiksZT0wLGc9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxoPSExLGk9ITAsaj0vXFwvZyxrPS9cclxuL2csbD0vXFcvO1swLDBdLnNvcnQoZnVuY3Rpb24oKXtpPSExO3JldHVybiAwfSk7dmFyIG09ZnVuY3Rpb24oYixkLGUsZil7ZT1lfHxbXSxkPWR8fGM7dmFyIGg9ZDtpZihkLm5vZGVUeXBlIT09MSYmZC5ub2RlVHlwZSE9PTkpcmV0dXJuW107aWYoIWJ8fHR5cGVvZiBiIT0ic3RyaW5nIilyZXR1cm4gZTt2YXIgaSxqLGssbCxuLHEscix0LHU9ITAsdj1tLmlzWE1MKGQpLHc9W10seD1iO2Rve2EuZXhlYygiIiksaT1hLmV4ZWMoeCk7aWYoaSl7eD1pWzNdLHcucHVzaChpWzFdKTtpZihpWzJdKXtsPWlbM107YnJlYWt9fX13aGlsZShpKTtpZih3Lmxlbmd0aD4xJiZwLmV4ZWMoYikpaWYody5sZW5ndGg9PT0yJiZvLnJlbGF0aXZlW3dbMF1dKWo9eSh3WzBdK3dbMV0sZCxmKTtlbHNle2o9by5yZWxhdGl2ZVt3WzBdXT9bZF06bSh3LnNoaWZ0KCksZCk7d2hpbGUody5sZW5ndGgpYj13LnNoaWZ0KCksby5yZWxhdGl2ZVtiXSYmKGIrPXcuc2hpZnQoKSksaj15KGIsaixmKX1lbHNleyFmJiZ3Lmxlbmd0aD4xJiZkLm5vZGVUeXBlPT09OSYmIXYmJm8ubWF0Y2guSUQudGVzdCh3WzBdKSYmIW8ubWF0Y2guSUQudGVzdCh3W3cubGVuZ3RoLTFdKSYmKG49bS5maW5kKHcuc2hpZnQoKSxkLHYpLGQ9bi5leHByP20uZmlsdGVyKG4uZXhwcixuLnNldClbMF06bi5zZXRbMF0pO2lmKGQpe249Zj97ZXhwcjp3LnBvcCgpLHNldDpzKGYpfTptLmZpbmQody5wb3AoKSx3Lmxlbmd0aD09PTEmJih3WzBdPT09In4ifHx3WzBdPT09IisiKSYmZC5wYXJlbnROb2RlP2QucGFyZW50Tm9kZTpkLHYpLGo9bi5leHByP20uZmlsdGVyKG4uZXhwcixuLnNldCk6bi5zZXQsdy5sZW5ndGg+MD9rPXMoaik6dT0hMTt3aGlsZSh3Lmxlbmd0aClxPXcucG9wKCkscj1xLG8ucmVsYXRpdmVbcV0/cj13LnBvcCgpOnE9IiIscj09bnVsbCYmKHI9ZCksby5yZWxhdGl2ZVtxXShrLHIsdil9ZWxzZSBrPXc9W119a3x8KGs9aiksa3x8bS5lcnJvcihxfHxiKTtpZihnLmNhbGwoayk9PT0iW29iamVjdCBBcnJheV0iKWlmKCF1KWUucHVzaC5hcHBseShlLGspO2Vsc2UgaWYoZCYmZC5ub2RlVHlwZT09PTEpZm9yKHQ9MDtrW3RdIT1udWxsO3QrKylrW3RdJiYoa1t0XT09PSEwfHxrW3RdLm5vZGVUeXBlPT09MSYmbS5jb250YWlucyhkLGtbdF0pKSYmZS5wdXNoKGpbdF0pO2Vsc2UgZm9yKHQ9MDtrW3RdIT1udWxsO3QrKylrW3RdJiZrW3RdLm5vZGVUeXBlPT09MSYmZS5wdXNoKGpbdF0pO2Vsc2UgcyhrLGUpO2wmJihtKGwsaCxlLGYpLG0udW5pcXVlU29ydChlKSk7cmV0dXJuIGV9O20udW5pcXVlU29ydD1mdW5jdGlvbihhKXtpZih1KXtoPWksYS5zb3J0KHUpO2lmKGgpZm9yKHZhciBiPTE7YjxhLmxlbmd0aDtiKyspYVtiXT09PWFbYi0xXSYmYS5zcGxpY2UoYi0tLDEpfXJldHVybiBhfSxtLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbShhLG51bGwsbnVsbCxiKX0sbS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbShiLG51bGwsbnVsbCxbYV0pLmxlbmd0aD4wfSxtLmZpbmQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaTtpZighYSlyZXR1cm5bXTtmb3IoZT0wLGY9by5vcmRlci5sZW5ndGg7ZTxmO2UrKyl7aD1vLm9yZGVyW2VdO2lmKGc9by5sZWZ0TWF0Y2hbaF0uZXhlYyhhKSl7aT1nWzFdLGcuc3BsaWNlKDEsMSk7aWYoaS5zdWJzdHIoaS5sZW5ndGgtMSkhPT0iXFwiKXtnWzFdPShnWzFdfHwiIikucmVwbGFjZShqLCIiKSxkPW8uZmluZFtoXShnLGIsYyk7aWYoZCE9bnVsbCl7YT1hLnJlcGxhY2Uoby5tYXRjaFtoXSwiIik7YnJlYWt9fX19ZHx8KGQ9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPSJ1bmRlZmluZWQiP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKTpbXSk7cmV0dXJue3NldDpkLGV4cHI6YX19LG0uZmlsdGVyPWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG4scCxxPWEscj1bXSxzPWMsdD1jJiZjWzBdJiZtLmlzWE1MKGNbMF0pO3doaWxlKGEmJmMubGVuZ3RoKXtmb3IoaCBpbiBvLmZpbHRlcilpZigoZj1vLmxlZnRNYXRjaFtoXS5leGVjKGEpKSE9bnVsbCYmZlsyXSl7az1vLmZpbHRlcltoXSxsPWZbMV0sZz0hMSxmLnNwbGljZSgxLDEpO2lmKGwuc3Vic3RyKGwubGVuZ3RoLTEpPT09IlxcIiljb250aW51ZTtzPT09ciYmKHI9W10pO2lmKG8ucHJlRmlsdGVyW2hdKXtmPW8ucHJlRmlsdGVyW2hdKGYscyxkLHIsZSx0KTtpZighZilnPWk9ITA7ZWxzZSBpZihmPT09ITApY29udGludWV9aWYoZilmb3Iobj0wOyhqPXNbbl0pIT1udWxsO24rKylqJiYoaT1rKGosZixuLHMpLHA9ZV5pLGQmJmkhPW51bGw/cD9nPSEwOnNbbl09ITE6cCYmKHIucHVzaChqKSxnPSEwKSk7aWYoaSE9PWIpe2R8fChzPXIpLGE9YS5yZXBsYWNlKG8ubWF0Y2hbaF0sIiIpO2lmKCFnKXJldHVybltdO2JyZWFrfX1pZihhPT09cSlpZihnPT1udWxsKW0uZXJyb3IoYSk7ZWxzZSBicmVhaztxPWF9cmV0dXJuIHN9LG0uZXJyb3I9ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2EpfTt2YXIgbj1tLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPWEubm9kZVR5cGUsZT0iIjtpZihkKXtpZihkPT09MXx8ZD09PTl8fGQ9PT0xMSl7aWYodHlwZW9mIGEudGV4dENvbnRlbnQ9PSJzdHJpbmciKXJldHVybiBhLnRleHRDb250ZW50O2lmKHR5cGVvZiBhLmlubmVyVGV4dD09InN0cmluZyIpcmV0dXJuIGEuaW5uZXJUZXh0LnJlcGxhY2UoaywiIik7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWUrPW4oYSl9ZWxzZSBpZihkPT09M3x8ZD09PTQpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2UgZm9yKGI9MDtjPWFbYl07YisrKWMubm9kZVR5cGUhPT04JiYoZSs9bihjKSk7cmV0dXJuIGV9LG89bS5zZWxlY3RvcnM9e29yZGVyOlsiSUQiLCJOQU1FIiwiVEFHIl0sbWF0Y2g6e0lEOi8jKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspLyxDTEFTUzovXC4oKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKykvLE5BTUU6L1xbbmFtZT1bJyJdKigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKVsnIl0qXF0vLEFUVFI6L1xbXHMqKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspXHMqKD86KFxTPz0pXHMqKD86KFsnIl0pKC4qPylcM3woIz8oPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikqKXwpfClccypcXS8sVEFHOi9eKCg/Oltcd1x1MDBjMC1cdUZGRkZcKlwtXXxcXC4pKykvLENISUxEOi86KG9ubHl8bnRofGxhc3R8Zmlyc3QpLWNoaWxkKD86XChccyooZXZlbnxvZGR8KD86WytcLV0/XGQrfCg/OlsrXC1dP1xkKik/blxzKig/OlsrXC1dXHMqXGQrKT8pKVxzKlwpKT8vLFBPUzovOihudGh8ZXF8Z3R8bHR8Zmlyc3R8bGFzdHxldmVufG9kZCkoPzpcKChcZCopXCkpPyg/PVteXC1dfCQpLyxQU0VVRE86LzooKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKykoPzpcKChbJyJdPykoKD86XChbXlwpXStcKXxbXlwoXCldKikrKVwyXCkpPy99LGxlZnRNYXRjaDp7fSxhdHRyTWFwOnsiY2xhc3MiOiJjbGFzc05hbWUiLCJmb3IiOiJodG1sRm9yIn0sYXR0ckhhbmRsZTp7aHJlZjpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImhyZWYiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoInR5cGUiKX19LHJlbGF0aXZlOnsiKyI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYj09InN0cmluZyIsZD1jJiYhbC50ZXN0KGIpLGU9YyYmIWQ7ZCYmKGI9Yi50b0xvd2VyQ2FzZSgpKTtmb3IodmFyIGY9MCxnPWEubGVuZ3RoLGg7ZjxnO2YrKylpZihoPWFbZl0pe3doaWxlKChoPWgucHJldmlvdXNTaWJsaW5nKSYmaC5ub2RlVHlwZSE9PTEpO2FbZl09ZXx8aCYmaC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yj9ofHwhMTpoPT09Yn1lJiZtLmZpbHRlcihiLGEsITApfSwiPiI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXR5cGVvZiBiPT0ic3RyaW5nIixlPTAsZj1hLmxlbmd0aDtpZihkJiYhbC50ZXN0KGIpKXtiPWIudG9Mb3dlckNhc2UoKTtmb3IoO2U8ZjtlKyspe2M9YVtlXTtpZihjKXt2YXIgZz1jLnBhcmVudE5vZGU7YVtlXT1nLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iP2c6ITF9fX1lbHNle2Zvcig7ZTxmO2UrKyljPWFbZV0sYyYmKGFbZV09ZD9jLnBhcmVudE5vZGU6Yy5wYXJlbnROb2RlPT09Yik7ZCYmbS5maWx0ZXIoYixhLCEwKX19LCIiOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPWUrKyxnPXg7dHlwZW9mIGI9PSJzdHJpbmciJiYhbC50ZXN0KGIpJiYoYj1iLnRvTG93ZXJDYXNlKCksZD1iLGc9dyksZygicGFyZW50Tm9kZSIsYixmLGEsZCxjKX0sIn4iOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPWUrKyxnPXg7dHlwZW9mIGI9PSJzdHJpbmciJiYhbC50ZXN0KGIpJiYoYj1iLnRvTG93ZXJDYXNlKCksZD1iLGc9dyksZygicHJldmlvdXNTaWJsaW5nIixiLGYsYSxkLGMpfX0sZmluZDp7SUQ6ZnVuY3Rpb24oYSxiLGMpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRCeUlkIT0idW5kZWZpbmVkIiYmIWMpe3ZhciBkPWIuZ2V0RWxlbWVudEJ5SWQoYVsxXSk7cmV0dXJuIGQmJmQucGFyZW50Tm9kZT9bZF06W119fSxOQU1FOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGIuZ2V0RWxlbWVudHNCeU5hbWUhPSJ1bmRlZmluZWQiKXt2YXIgYz1bXSxkPWIuZ2V0RWxlbWVudHNCeU5hbWUoYVsxXSk7Zm9yKHZhciBlPTAsZj1kLmxlbmd0aDtlPGY7ZSsrKWRbZV0uZ2V0QXR0cmlidXRlKCJuYW1lIik9PT1hWzFdJiZjLnB1c2goZFtlXSk7cmV0dXJuIGMubGVuZ3RoPT09MD9udWxsOmN9fSxUQUc6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCIpcmV0dXJuIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYVsxXSl9fSxwcmVGaWx0ZXI6e0NMQVNTOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXthPSIgIithWzFdLnJlcGxhY2UoaiwiIikrIiAiO2lmKGYpcmV0dXJuIGE7Zm9yKHZhciBnPTAsaDsoaD1iW2ddKSE9bnVsbDtnKyspaCYmKGVeKGguY2xhc3NOYW1lJiYoIiAiK2guY2xhc3NOYW1lKyIgIikucmVwbGFjZSgvW1x0XG5ccl0vZywiICIpLmluZGV4T2YoYSk+PTApP2N8fGQucHVzaChoKTpjJiYoYltnXT0hMSkpO3JldHVybiExfSxJRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXS5yZXBsYWNlKGosIiIpfSxUQUc6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVsxXS5yZXBsYWNlKGosIiIpLnRvTG93ZXJDYXNlKCl9LENISUxEOmZ1bmN0aW9uKGEpe2lmKGFbMV09PT0ibnRoIil7YVsyXXx8bS5lcnJvcihhWzBdKSxhWzJdPWFbMl0ucmVwbGFjZSgvXlwrfFxzKi9nLCIiKTt2YXIgYj0vKC0/KShcZCopKD86bihbK1wtXT9cZCopKT8vLmV4ZWMoYVsyXT09PSJldmVuIiYmIjJuInx8YVsyXT09PSJvZGQiJiYiMm4rMSJ8fCEvXEQvLnRlc3QoYVsyXSkmJiIwbisiK2FbMl18fGFbMl0pO2FbMl09YlsxXSsoYlsyXXx8MSktMCxhWzNdPWJbM10tMH1lbHNlIGFbMl0mJm0uZXJyb3IoYVswXSk7YVswXT1lKys7cmV0dXJuIGF9LEFUVFI6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPWFbMV09YVsxXS5yZXBsYWNlKGosIiIpOyFmJiZvLmF0dHJNYXBbZ10mJihhWzFdPW8uYXR0ck1hcFtnXSksYVs0XT0oYVs0XXx8YVs1XXx8IiIpLnJlcGxhY2UoaiwiIiksYVsyXT09PSJ+PSImJihhWzRdPSIgIithWzRdKyIgIik7cmV0dXJuIGF9LFBTRVVETzpmdW5jdGlvbihiLGMsZCxlLGYpe2lmKGJbMV09PT0ibm90IilpZigoYS5leGVjKGJbM10pfHwiIikubGVuZ3RoPjF8fC9eXHcvLnRlc3QoYlszXSkpYlszXT1tKGJbM10sbnVsbCxudWxsLGMpO2Vsc2V7dmFyIGc9bS5maWx0ZXIoYlszXSxjLGQsITBeZik7ZHx8ZS5wdXNoLmFwcGx5KGUsZyk7cmV0dXJuITF9ZWxzZSBpZihvLm1hdGNoLlBPUy50ZXN0KGJbMF0pfHxvLm1hdGNoLkNISUxELnRlc3QoYlswXSkpcmV0dXJuITA7cmV0dXJuIGJ9LFBPUzpmdW5jdGlvbihhKXthLnVuc2hpZnQoITApO3JldHVybiBhfX0sZmlsdGVyczp7ZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExJiZhLnR5cGUhPT0iaGlkZGVuIn0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGVja2VkPT09ITB9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe2EucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7cmV0dXJuIGEuc2VsZWN0ZWQ9PT0hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiEhYS5maXJzdENoaWxkfSxlbXB0eTpmdW5jdGlvbihhKXtyZXR1cm4hYS5maXJzdENoaWxkfSxoYXM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiEhbShjWzNdLGEpLmxlbmd0aH0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybi9oXGQvaS50ZXN0KGEubm9kZU5hbWUpfSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJ0eXBlIiksYz1hLnR5cGU7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJ0ZXh0Ij09PWMmJihiPT09Y3x8Yj09PW51bGwpfSxyYWRpbzpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmInJhZGlvIj09PWEudHlwZX0sY2hlY2tib3g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJjaGVja2JveCI9PT1hLnR5cGV9LGZpbGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJmaWxlIj09PWEudHlwZX0scGFzc3dvcmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJwYXNzd29yZCI9PT1hLnR5cGV9LHN1Ym1pdDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKGI9PT0iaW5wdXQifHxiPT09ImJ1dHRvbiIpJiYic3VibWl0Ij09PWEudHlwZX0saW1hZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJpbWFnZSI9PT1hLnR5cGV9LHJlc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oYj09PSJpbnB1dCJ8fGI9PT0iYnV0dG9uIikmJiJyZXNldCI9PT1hLnR5cGV9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGI9PT0iaW5wdXQiJiYiYnV0dG9uIj09PWEudHlwZXx8Yj09PSJidXR0b24ifSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4vaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbi9pLnRlc3QoYS5ub2RlTmFtZSl9LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09YS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9fSxzZXRGaWx0ZXJzOntmaXJzdDpmdW5jdGlvbihhLGIpe3JldHVybiBiPT09MH0sbGFzdDpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYj09PWQubGVuZ3RoLTF9LGV2ZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiUyPT09MH0sb2RkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIlMj09PTF9LGx0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYjxjWzNdLTB9LGd0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj5jWzNdLTB9LG50aDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGNbM10tMD09PWJ9LGVxOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY1szXS0wPT09Yn19LGZpbHRlcjp7UFNFVURPOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWJbMV0sZj1vLmZpbHRlcnNbZV07aWYoZilyZXR1cm4gZihhLGMsYixkKTtpZihlPT09ImNvbnRhaW5zIilyZXR1cm4oYS50ZXh0Q29udGVudHx8YS5pbm5lclRleHR8fG4oW2FdKXx8IiIpLmluZGV4T2YoYlszXSk+PTA7aWYoZT09PSJub3QiKXt2YXIgZz1iWzNdO2Zvcih2YXIgaD0wLGk9Zy5sZW5ndGg7aDxpO2grKylpZihnW2hdPT09YSlyZXR1cm4hMTtyZXR1cm4hMH1tLmVycm9yKGUpfSxDSElMRDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGs9YlsxXSxsPWE7c3dpdGNoKGspe2Nhc2Uib25seSI6Y2FzZSJmaXJzdCI6d2hpbGUobD1sLnByZXZpb3VzU2libGluZylpZihsLm5vZGVUeXBlPT09MSlyZXR1cm4hMTtpZihrPT09ImZpcnN0IilyZXR1cm4hMDtsPWE7Y2FzZSJsYXN0Ijp3aGlsZShsPWwubmV4dFNpYmxpbmcpaWYobC5ub2RlVHlwZT09PTEpcmV0dXJuITE7cmV0dXJuITA7Y2FzZSJudGgiOmM9YlsyXSxlPWJbM107aWYoYz09PTEmJmU9PT0wKXJldHVybiEwO2Y9YlswXSxnPWEucGFyZW50Tm9kZTtpZihnJiYoZ1tkXSE9PWZ8fCFhLm5vZGVJbmRleCkpe2k9MDtmb3IobD1nLmZpcnN0Q2hpbGQ7bDtsPWwubmV4dFNpYmxpbmcpbC5ub2RlVHlwZT09PTEmJihsLm5vZGVJbmRleD0rK2kpO2dbZF09Zn1qPWEubm9kZUluZGV4LWU7cmV0dXJuIGM9PT0wP2o9PT0wOmolYz09PTAmJmovYz49MH19LElEOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZVR5cGU9PT0xJiZhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9LFRBRzpmdW5jdGlvbihhLGIpe3JldHVybiBiPT09IioiJiZhLm5vZGVUeXBlPT09MXx8ISFhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifSxDTEFTUzpmdW5jdGlvbihhLGIpe3JldHVybigiICIrKGEuY2xhc3NOYW1lfHxhLmdldEF0dHJpYnV0ZSgiY2xhc3MiKSkrIiAiKS5pbmRleE9mKGIpPi0xfSxBVFRSOmZ1bmN0aW9uKGEsYil7dmFyIGM9YlsxXSxkPW0uYXR0cj9tLmF0dHIoYSxjKTpvLmF0dHJIYW5kbGVbY10/by5hdHRySGFuZGxlW2NdKGEpOmFbY10hPW51bGw/YVtjXTphLmdldEF0dHJpYnV0ZShjKSxlPWQrIiIsZj1iWzJdLGc9Yls0XTtyZXR1cm4gZD09bnVsbD9mPT09IiE9IjohZiYmbS5hdHRyP2QhPW51bGw6Zj09PSI9Ij9lPT09ZzpmPT09Iio9Ij9lLmluZGV4T2YoZyk+PTA6Zj09PSJ+PSI/KCIgIitlKyIgIikuaW5kZXhPZihnKT49MDpnP2Y9PT0iIT0iP2UhPT1nOmY9PT0iXj0iP2UuaW5kZXhPZihnKT09PTA6Zj09PSIkPSI/ZS5zdWJzdHIoZS5sZW5ndGgtZy5sZW5ndGgpPT09ZzpmPT09Inw9Ij9lPT09Z3x8ZS5zdWJzdHIoMCxnLmxlbmd0aCsxKT09PWcrIi0iOiExOmUmJmQhPT0hMX0sUE9TOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWJbMl0sZj1vLnNldEZpbHRlcnNbZV07aWYoZilyZXR1cm4gZihhLGMsYixkKX19fSxwPW8ubWF0Y2guUE9TLHE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4iXFwiKyhiLTArMSl9O2Zvcih2YXIgciBpbiBvLm1hdGNoKW8ubWF0Y2hbcl09bmV3IFJlZ0V4cChvLm1hdGNoW3JdLnNvdXJjZSsvKD8hW15cW10qXF0pKD8hW15cKF0qXCkpLy5zb3VyY2UpLG8ubGVmdE1hdGNoW3JdPW5ldyBSZWdFeHAoLyheKD86LnxccnxcbikqPykvLnNvdXJjZStvLm1hdGNoW3JdLnNvdXJjZS5yZXBsYWNlKC9cXChcZCspL2cscSkpO28ubWF0Y2guZ2xvYmFsUE9TPXA7dmFyIHM9ZnVuY3Rpb24oYSxiKXthPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsMCk7aWYoYil7Yi5wdXNoLmFwcGx5KGIsYSk7cmV0dXJuIGJ9cmV0dXJuIGF9O3RyeXtBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzLDApWzBdLm5vZGVUeXBlfWNhdGNoKHQpe3M9ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9Ynx8W107aWYoZy5jYWxsKGEpPT09IltvYmplY3QgQXJyYXldIilBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShkLGEpO2Vsc2UgaWYodHlwZW9mIGEubGVuZ3RoPT0ibnVtYmVyIilmb3IodmFyIGU9YS5sZW5ndGg7YzxlO2MrKylkLnB1c2goYVtjXSk7ZWxzZSBmb3IoO2FbY107YysrKWQucHVzaChhW2NdKTtyZXR1cm4gZH19dmFyIHUsdjtjLmRvY3VtZW50RWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj91PWZ1bmN0aW9uKGEsYil7aWYoYT09PWIpe2g9ITA7cmV0dXJuIDB9aWYoIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb258fCFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uPy0xOjE7cmV0dXJuIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmND8tMToxfToodT1mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXtoPSEwO3JldHVybiAwfWlmKGEuc291cmNlSW5kZXgmJmIuc291cmNlSW5kZXgpcmV0dXJuIGEuc291cmNlSW5kZXgtYi5zb3VyY2VJbmRleDt2YXIgYyxkLGU9W10sZj1bXSxnPWEucGFyZW50Tm9kZSxpPWIucGFyZW50Tm9kZSxqPWc7aWYoZz09PWkpcmV0dXJuIHYoYSxiKTtpZighZylyZXR1cm4tMTtpZighaSlyZXR1cm4gMTt3aGlsZShqKWUudW5zaGlmdChqKSxqPWoucGFyZW50Tm9kZTtqPWk7d2hpbGUoailmLnVuc2hpZnQoaiksaj1qLnBhcmVudE5vZGU7Yz1lLmxlbmd0aCxkPWYubGVuZ3RoO2Zvcih2YXIgaz0wO2s8YyYmazxkO2srKylpZihlW2tdIT09ZltrXSlyZXR1cm4gdihlW2tdLGZba10pO3JldHVybiBrPT09Yz92KGEsZltrXSwtMSk6dihlW2tdLGIsMSl9LHY9ZnVuY3Rpb24oYSxiLGMpe2lmKGE9PT1iKXJldHVybiBjO3ZhciBkPWEubmV4dFNpYmxpbmc7d2hpbGUoZCl7aWYoZD09PWIpcmV0dXJuLTE7ZD1kLm5leHRTaWJsaW5nfXJldHVybiAxfSksZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9InNjcmlwdCIrKG5ldyBEYXRlKS5nZXRUaW1lKCksZT1jLmRvY3VtZW50RWxlbWVudDthLmlubmVySFRNTD0iPGEgbmFtZT0nIitkKyInLz4iLGUuaW5zZXJ0QmVmb3JlKGEsZS5maXJzdENoaWxkKSxjLmdldEVsZW1lbnRCeUlkKGQpJiYoby5maW5kLklEPWZ1bmN0aW9uKGEsYyxkKXtpZih0eXBlb2YgYy5nZXRFbGVtZW50QnlJZCE9InVuZGVmaW5lZCImJiFkKXt2YXIgZT1jLmdldEVsZW1lbnRCeUlkKGFbMV0pO3JldHVybiBlP2UuaWQ9PT1hWzFdfHx0eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlIT0idW5kZWZpbmVkIiYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpLm5vZGVWYWx1ZT09PWFbMV0/W2VdOmI6W119fSxvLmZpbHRlci5JRD1mdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhLmdldEF0dHJpYnV0ZU5vZGUhPSJ1bmRlZmluZWQiJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGEubm9kZVR5cGU9PT0xJiZjJiZjLm5vZGVWYWx1ZT09PWJ9KSxlLnJlbW92ZUNoaWxkKGEpLGU9YT1udWxsfSgpLGZ1bmN0aW9uKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmFwcGVuZENoaWxkKGMuY3JlYXRlQ29tbWVudCgiIikpLGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGg+MCYmKG8uZmluZC5UQUc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGFbMV0pO2lmKGFbMV09PT0iKiIpe3ZhciBkPVtdO2Zvcih2YXIgZT0wO2NbZV07ZSsrKWNbZV0ubm9kZVR5cGU9PT0xJiZkLnB1c2goY1tlXSk7Yz1kfXJldHVybiBjfSksYS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLGEuZmlyc3RDaGlsZCYmdHlwZW9mIGEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUhPSJ1bmRlZmluZWQiJiZhLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIikhPT0iIyImJihvLmF0dHJIYW5kbGUuaHJlZj1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImhyZWYiLDIpfSksYT1udWxsfSgpLGMucXVlcnlTZWxlY3RvckFsbCYmZnVuY3Rpb24oKXt2YXIgYT1tLGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPSJfX3NpenpsZV9fIjtiLmlubmVySFRNTD0iPHAgY2xhc3M9J1RFU1QnPjwvcD4iO2lmKCFiLnF1ZXJ5U2VsZWN0b3JBbGx8fGIucXVlcnlTZWxlY3RvckFsbCgiLlRFU1QiKS5sZW5ndGghPT0wKXttPWZ1bmN0aW9uKGIsZSxmLGcpe2U9ZXx8YztpZighZyYmIW0uaXNYTUwoZSkpe3ZhciBoPS9eKFx3KyQpfF5cLihbXHdcLV0rJCl8XiMoW1x3XC1dKyQpLy5leGVjKGIpO2lmKGgmJihlLm5vZGVUeXBlPT09MXx8ZS5ub2RlVHlwZT09PTkpKXtpZihoWzFdKXJldHVybiBzKGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYiksZik7aWYoaFsyXSYmby5maW5kLkNMQVNTJiZlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIHMoZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGhbMl0pLGYpfWlmKGUubm9kZVR5cGU9PT05KXtpZihiPT09ImJvZHkiJiZlLmJvZHkpcmV0dXJuIHMoW2UuYm9keV0sZik7aWYoaCYmaFszXSl7dmFyIGk9ZS5nZXRFbGVtZW50QnlJZChoWzNdKTtpZighaXx8IWkucGFyZW50Tm9kZSlyZXR1cm4gcyhbXSxmKTtpZihpLmlkPT09aFszXSlyZXR1cm4gcyhbaV0sZil9dHJ5e3JldHVybiBzKGUucXVlcnlTZWxlY3RvckFsbChiKSxmKX1jYXRjaChqKXt9fWVsc2UgaWYoZS5ub2RlVHlwZT09PTEmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PSJvYmplY3QiKXt2YXIgaz1lLGw9ZS5nZXRBdHRyaWJ1dGUoImlkIiksbj1sfHxkLHA9ZS5wYXJlbnROb2RlLHE9L15ccypbK35dLy50ZXN0KGIpO2w/bj1uLnJlcGxhY2UoLycvZywiXFwkJiIpOmUuc2V0QXR0cmlidXRlKCJpZCIsbikscSYmcCYmKGU9ZS5wYXJlbnROb2RlKTt0cnl7aWYoIXF8fHApcmV0dXJuIHMoZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWQ9JyIrbisiJ10gIitiKSxmKX1jYXRjaChyKXt9ZmluYWxseXtsfHxrLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBhKGIsZSxmLGcpfTtmb3IodmFyIGUgaW4gYSltW2VdPWFbZV07Yj1udWxsfX0oKSxmdW5jdGlvbigpe3ZhciBhPWMuZG9jdW1lbnRFbGVtZW50LGI9YS5tYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8YS5tc01hdGNoZXNTZWxlY3RvcjtpZihiKXt2YXIgZD0hYi5jYWxsKGMuY3JlYXRlRWxlbWVudCgiZGl2IiksImRpdiIpLGU9ITE7dHJ5e2IuY2FsbChjLmRvY3VtZW50RWxlbWVudCwiW3Rlc3QhPScnXTpzaXp6bGUiKX1jYXRjaChmKXtlPSEwfW0ubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYyl7Yz1jLnJlcGxhY2UoL1w9XHMqKFteJyJcXV0qKVxzKlxdL2csIj0nJDEnXSIpO2lmKCFtLmlzWE1MKGEpKXRyeXtpZihlfHwhby5tYXRjaC5QU0VVRE8udGVzdChjKSYmIS8hPS8udGVzdChjKSl7dmFyIGY9Yi5jYWxsKGEsYyk7aWYoZnx8IWR8fGEuZG9jdW1lbnQmJmEuZG9jdW1lbnQubm9kZVR5cGUhPT0xMSlyZXR1cm4gZn19Y2F0Y2goZyl7fXJldHVybiBtKGMsbnVsbCxudWxsLFthXSkubGVuZ3RoPjB9fX0oKSxmdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J3Rlc3QgZSc+PC9kaXY+PGRpdiBjbGFzcz0ndGVzdCc+PC9kaXY+IjtpZighIWEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlIikubGVuZ3RoIT09MCl7YS5sYXN0Q2hpbGQuY2xhc3NOYW1lPSJlIjtpZihhLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGg9PT0xKXJldHVybjtvLm9yZGVyLnNwbGljZSgxLDAsIkNMQVNTIiksby5maW5kLkNMQVNTPWZ1bmN0aW9uKGEsYixjKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIT0idW5kZWZpbmVkIiYmIWMpcmV0dXJuIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhWzFdKX0sYT1udWxsfX0oKSxjLmRvY3VtZW50RWxlbWVudC5jb250YWlucz9tLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEhPT1iJiYoYS5jb250YWlucz9hLmNvbnRhaW5zKGIpOiEwKX06Yy5kb2N1bWVudEVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/bS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybiEhKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmMTYpfTptLmNvbnRhaW5zPWZ1bmN0aW9uKCl7cmV0dXJuITF9LG0uaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9KGE/YS5vd25lckRvY3VtZW50fHxhOjApLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj9iLm5vZGVOYW1lIT09IkhUTUwiOiExfTt2YXIgeT1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZT1bXSxmPSIiLGc9Yi5ub2RlVHlwZT9bYl06Yjt3aGlsZShkPW8ubWF0Y2guUFNFVURPLmV4ZWMoYSkpZis9ZFswXSxhPWEucmVwbGFjZShvLm1hdGNoLlBTRVVETywiIik7YT1vLnJlbGF0aXZlW2FdP2ErIioiOmE7Zm9yKHZhciBoPTAsaT1nLmxlbmd0aDtoPGk7aCsrKW0oYSxnW2hdLGUsYyk7cmV0dXJuIG0uZmlsdGVyKGYsZSl9O20uYXR0cj1mLmF0dHIsbS5zZWxlY3RvcnMuYXR0ck1hcD17fSxmLmZpbmQ9bSxmLmV4cHI9bS5zZWxlY3RvcnMsZi5leHByWyI6Il09Zi5leHByLmZpbHRlcnMsZi51bmlxdWU9bS51bmlxdWVTb3J0LGYudGV4dD1tLmdldFRleHQsZi5pc1hNTERvYz1tLmlzWE1MLGYuY29udGFpbnM9bS5jb250YWluc30oKTt2YXIgTD0vVW50aWwkLyxNPS9eKD86cGFyZW50c3xwcmV2VW50aWx8cHJldkFsbCkvLE49LywvLE89L14uW146I1xbXC4sXSokLyxQPUFycmF5LnByb3RvdHlwZS5zbGljZSxRPWYuZXhwci5tYXRjaC5nbG9iYWxQT1MsUj17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGMsZDtpZih0eXBlb2YgYSE9InN0cmluZyIpcmV0dXJuIGYoYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspaWYoZi5jb250YWlucyhiW2NdLHRoaXMpKXJldHVybiEwfSk7dmFyIGU9dGhpcy5wdXNoU3RhY2soIiIsImZpbmQiLGEpLGcsaCxpO2ZvcihjPTAsZD10aGlzLmxlbmd0aDtjPGQ7YysrKXtnPWUubGVuZ3RoLGYuZmluZChhLHRoaXNbY10sZSk7aWYoYz4wKWZvcihoPWc7aDxlLmxlbmd0aDtoKyspZm9yKGk9MDtpPGc7aSsrKWlmKGVbaV09PT1lW2hdKXtlLnNwbGljZShoLS0sMSk7YnJlYWt9fXJldHVybiBlfSxoYXM6ZnVuY3Rpb24oYSl7dmFyIGI9ZihhKTtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxjPWIubGVuZ3RoO2E8YzthKyspaWYoZi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soVCh0aGlzLGEsITEpLCJub3QiLGEpfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFQodGhpcyxhLCEwKSwiZmlsdGVyIixhKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISFhJiYodHlwZW9mIGE9PSJzdHJpbmciP1EudGVzdChhKT9mKGEsdGhpcy5jb250ZXh0KS5pbmRleCh0aGlzWzBdKT49MDpmLmZpbHRlcihhLHRoaXMpLmxlbmd0aD4wOnRoaXMuZmlsdGVyKGEpLmxlbmd0aD4wKX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQsZSxnPXRoaXNbMF07aWYoZi5pc0FycmF5KGEpKXt2YXIgaD0xO3doaWxlKGcmJmcub3duZXJEb2N1bWVudCYmZyE9PWIpe2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspZihnKS5pcyhhW2RdKSYmYy5wdXNoKHtzZWxlY3RvcjphW2RdLGVsZW06ZyxsZXZlbDpofSk7Zz1nLnBhcmVudE5vZGUsaCsrfXJldHVybiBjfXZhciBpPVEudGVzdChhKXx8dHlwZW9mIGEhPSJzdHJpbmciP2YoYSxifHx0aGlzLmNvbnRleHQpOjA7Zm9yKGQ9MCxlPXRoaXMubGVuZ3RoO2Q8ZTtkKyspe2c9dGhpc1tkXTt3aGlsZShnKXtpZihpP2kuaW5kZXgoZyk+LTE6Zi5maW5kLm1hdGNoZXNTZWxlY3RvcihnLGEpKXtjLnB1c2goZyk7YnJlYWt9Zz1nLnBhcmVudE5vZGU7aWYoIWd8fCFnLm93bmVyRG9jdW1lbnR8fGc9PT1ifHxnLm5vZGVUeXBlPT09MTEpYnJlYWt9fWM9Yy5sZW5ndGg+MT9mLnVuaXF1ZShjKTpjO3JldHVybiB0aGlzLnB1c2hTdGFjayhjLCJjbG9zZXN0IixhKX0saW5kZXg6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLnByZXZBbGwoKS5sZW5ndGg6LTE7aWYodHlwZW9mIGE9PSJzdHJpbmciKXJldHVybiBmLmluQXJyYXkodGhpc1swXSxmKGEpKTtyZXR1cm4gZi5pbkFycmF5KGEuanF1ZXJ5P2FbMF06YSx0aGlzKX0sYWRkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE9PSJzdHJpbmciP2YoYSxiKTpmLm1ha2VBcnJheShhJiZhLm5vZGVUeXBlP1thXTphKSxkPWYubWVyZ2UodGhpcy5nZXQoKSxjKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhjWzBdKXx8UyhkWzBdKT9kOmYudW5pcXVlKGQpKX0sYW5kU2VsZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZCh0aGlzLnByZXZPYmplY3QpfX0pLGYuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5ub2RlVHlwZSE9PTExP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gZi5kaXIoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmRpcihhLCJwYXJlbnROb2RlIixjKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gZi5udGgoYSwyLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGEpe3JldHVybiBmLm50aChhLDIsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBmLmRpcihhLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBmLmRpcihhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5kaXIoYSwibmV4dFNpYmxpbmciLGMpfSxwcmV2VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmRpcihhLCJwcmV2aW91c1NpYmxpbmciLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gZi5zaWJsaW5nKChhLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGEpfSxjaGlsZHJlbjpmdW5jdGlvbihhKXtyZXR1cm4gZi5zaWJsaW5nKGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBmLm5vZGVOYW1lKGEsImlmcmFtZSIpP2EuY29udGVudERvY3VtZW50fHxhLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6Zi5tYWtlQXJyYXkoYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7Zi5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPWYubWFwKHRoaXMsYixjKTtMLnRlc3QoYSl8fChkPWMpLGQmJnR5cGVvZiBkPT0ic3RyaW5nIiYmKGU9Zi5maWx0ZXIoZCxlKSksZT10aGlzLmxlbmd0aD4xJiYhUlthXT9mLnVuaXF1ZShlKTplLCh0aGlzLmxlbmd0aD4xfHxOLnRlc3QoZCkpJiZNLnRlc3QoYSkmJihlPWUucmV2ZXJzZSgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZSxhLFAuY2FsbChhcmd1bWVudHMpLmpvaW4oIiwiKSl9fSksZi5leHRlbmQoe2ZpbHRlcjpmdW5jdGlvbihhLGIsYyl7YyYmKGE9Ijpub3QoIithKyIpIik7cmV0dXJuIGIubGVuZ3RoPT09MT9mLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGJbMF0sYSk/W2JbMF1dOltdOmYuZmluZC5tYXRjaGVzKGEsYil9LGRpcjpmdW5jdGlvbihhLGMsZCl7dmFyIGU9W10sZz1hW2NdO3doaWxlKGcmJmcubm9kZVR5cGUhPT05JiYoZD09PWJ8fGcubm9kZVR5cGUhPT0xfHwhZihnKS5pcyhkKSkpZy5ub2RlVHlwZT09PTEmJmUucHVzaChnKSxnPWdbY107cmV0dXJuIGV9LG50aDpmdW5jdGlvbihhLGIsYyxkKXtiPWJ8fDE7dmFyIGU9MDtmb3IoO2E7YT1hW2NdKWlmKGEubm9kZVR5cGU9PT0xJiYrK2U9PT1iKWJyZWFrO3JldHVybiBhfSxzaWJsaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9W107Zm9yKDthO2E9YS5uZXh0U2libGluZylhLm5vZGVUeXBlPT09MSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KTt2YXIgVj0iYWJicnxhcnRpY2xlfGFzaWRlfGF1ZGlvfGJkaXxjYW52YXN8ZGF0YXxkYXRhbGlzdHxkZXRhaWxzfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1hcmt8bWV0ZXJ8bmF2fG91dHB1dHxwcm9ncmVzc3xzZWN0aW9ufHN1bW1hcnl8dGltZXx2aWRlbyIsVz0vIGpRdWVyeVxkKz0iKD86XGQrfG51bGwpIi9nLFg9L15ccysvLFk9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Ol0rKVtePl0qKVwvPi9pZyxaPS88KFtcdzpdKykvLCQ9Lzx0Ym9keS9pLF89Lzx8JiM/XHcrOy8sYmE9LzwoPzpzY3JpcHR8c3R5bGUpL2ksYmI9LzwoPzpzY3JpcHR8b2JqZWN0fGVtYmVkfG9wdGlvbnxzdHlsZSkvaSxiYz1uZXcgUmVnRXhwKCI8KD86IitWKyIpW1xccy8+XSIsImkiKSxiZD0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxiZT0vXC8oamF2YXxlY21hKXNjcmlwdC9pLGJmPS9eXHMqPCEoPzpcW0NEQVRBXFt8XC1cLSkvLGJnPXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSxsZWdlbmQ6WzEsIjxmaWVsZHNldD4iLCI8L2ZpZWxkc2V0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sYXJlYTpbMSwiPG1hcD4iLCI8L21hcD4iXSxfZGVmYXVsdDpbMCwiIiwiIl19LGJoPVUoYyk7Ymcub3B0Z3JvdXA9Ymcub3B0aW9uLGJnLnRib2R5PWJnLnRmb290PWJnLmNvbGdyb3VwPWJnLmNhcHRpb249YmcudGhlYWQsYmcudGg9YmcudGQsZi5zdXBwb3J0Lmh0bWxTZXJpYWxpemV8fChiZy5fZGVmYXVsdD1bMSwiZGl2PGRpdj4iLCI8L2Rpdj4iXSksZi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuYWNjZXNzKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iP2YudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuYXBwZW5kKCh0aGlzWzBdJiZ0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGMpLmNyZWF0ZVRleHROb2RlKGEpKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSx3cmFwQWxsOmZ1bmN0aW9uKGEpe2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2YodGhpcykud3JhcEFsbChhLmNhbGwodGhpcyxiKSl9KTtpZih0aGlzWzBdKXt2YXIgYj1mKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCk7dGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKSxiLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXM7d2hpbGUoYS5maXJzdENoaWxkJiZhLmZpcnN0Q2hpbGQubm9kZVR5cGU9PT0xKWE9YS5maXJzdENoaWxkO3JldHVybiBhfSkuYXBwZW5kKHRoaXMpfXJldHVybiB0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oYSl7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zih0aGlzKS53cmFwSW5uZXIoYS5jYWxsKHRoaXMsYikpfSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWYodGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9Zi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7Zih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe2Yubm9kZU5hbWUodGhpcywiYm9keSIpfHxmKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCEwLGZ1bmN0aW9uKGEpe3RoaXMubm9kZVR5cGU9PT0xJiZ0aGlzLmFwcGVuZENoaWxkKGEpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITAsZnVuY3Rpb24oYSl7dGhpcy5ub2RlVHlwZT09PTEmJnRoaXMuaW5zZXJ0QmVmb3JlKGEsdGhpcy5maXJzdENoaWxkKX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtpZih0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGUpcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCExLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pO2lmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPWYNCi5jbGVhbihhcmd1bWVudHMpO2EucHVzaC5hcHBseShhLHRoaXMudG9BcnJheSgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYSwiYmVmb3JlIixhcmd1bWVudHMpfX0sYWZ0ZXI6ZnVuY3Rpb24oKXtpZih0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGUpcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCExLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzLm5leHRTaWJsaW5nKX0pO2lmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPXRoaXMucHVzaFN0YWNrKHRoaXMsImFmdGVyIixhcmd1bWVudHMpO2EucHVzaC5hcHBseShhLGYuY2xlYW4oYXJndW1lbnRzKSk7cmV0dXJuIGF9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkOyhkPXRoaXNbY10pIT1udWxsO2MrKylpZighYXx8Zi5maWx0ZXIoYSxbZF0pLmxlbmd0aCkhYiYmZC5ub2RlVHlwZT09PTEmJihmLmNsZWFuRGF0YShkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLGYuY2xlYW5EYXRhKFtkXSkpLGQucGFyZW50Tm9kZSYmZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7KGI9dGhpc1thXSkhPW51bGw7YSsrKXtiLm5vZGVUeXBlPT09MSYmZi5jbGVhbkRhdGEoYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKTt3aGlsZShiLmZpcnN0Q2hpbGQpYi5yZW1vdmVDaGlsZChiLmZpcnN0Q2hpbGQpfXJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe2E9YT09bnVsbD8hMTphLGI9Yj09bnVsbD9hOmI7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGYuY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuYWNjZXNzKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGM9dGhpc1swXXx8e30sZD0wLGU9dGhpcy5sZW5ndGg7aWYoYT09PWIpcmV0dXJuIGMubm9kZVR5cGU9PT0xP2MuaW5uZXJIVE1MLnJlcGxhY2UoVywiIik6bnVsbDtpZih0eXBlb2YgYT09InN0cmluZyImJiFiYS50ZXN0KGEpJiYoZi5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlfHwhWC50ZXN0KGEpKSYmIWJnWyhaLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPWEucmVwbGFjZShZLCI8JDE+PC8kMj4iKTt0cnl7Zm9yKDtkPGU7ZCsrKWM9dGhpc1tkXXx8e30sYy5ub2RlVHlwZT09PTEmJihmLmNsZWFuRGF0YShjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLGMuaW5uZXJIVE1MPWEpO2M9MH1jYXRjaChnKXt9fWMmJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1mKHRoaXMpLGQ9Yy5odG1sKCk7Yy5yZXBsYWNlV2l0aChhLmNhbGwodGhpcyxiLGQpKX0pO3R5cGVvZiBhIT0ic3RyaW5nIiYmKGE9ZihhKS5kZXRhY2goKSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXMubmV4dFNpYmxpbmcsYz10aGlzLnBhcmVudE5vZGU7Zih0aGlzKS5yZW1vdmUoKSxiP2YoYikuYmVmb3JlKGEpOmYoYykuYXBwZW5kKGEpfSl9cmV0dXJuIHRoaXMubGVuZ3RoP3RoaXMucHVzaFN0YWNrKGYoZi5pc0Z1bmN0aW9uKGEpP2EoKTphKSwicmVwbGFjZVdpdGgiLGEpOnRoaXN9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxnLGgsaSxqPWFbMF0saz1bXTtpZighZi5zdXBwb3J0LmNoZWNrQ2xvbmUmJmFyZ3VtZW50cy5sZW5ndGg9PT0zJiZ0eXBlb2Ygaj09InN0cmluZyImJmJkLnRlc3QoaikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YodGhpcykuZG9tTWFuaXAoYSxjLGQsITApfSk7aWYoZi5pc0Z1bmN0aW9uKGopKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIGc9Zih0aGlzKTthWzBdPWouY2FsbCh0aGlzLGUsYz9nLmh0bWwoKTpiKSxnLmRvbU1hbmlwKGEsYyxkKX0pO2lmKHRoaXNbMF0pe2k9aiYmai5wYXJlbnROb2RlLGYuc3VwcG9ydC5wYXJlbnROb2RlJiZpJiZpLm5vZGVUeXBlPT09MTEmJmkuY2hpbGROb2Rlcy5sZW5ndGg9PT10aGlzLmxlbmd0aD9lPXtmcmFnbWVudDppfTplPWYuYnVpbGRGcmFnbWVudChhLHRoaXMsayksaD1lLmZyYWdtZW50LGguY2hpbGROb2Rlcy5sZW5ndGg9PT0xP2c9aD1oLmZpcnN0Q2hpbGQ6Zz1oLmZpcnN0Q2hpbGQ7aWYoZyl7Yz1jJiZmLm5vZGVOYW1lKGcsInRyIik7Zm9yKHZhciBsPTAsbT10aGlzLmxlbmd0aCxuPW0tMTtsPG07bCsrKWQuY2FsbChjP2JpKHRoaXNbbF0sZyk6dGhpc1tsXSxlLmNhY2hlYWJsZXx8bT4xJiZsPG4/Zi5jbG9uZShoLCEwLCEwKTpoKX1rLmxlbmd0aCYmZi5lYWNoKGssZnVuY3Rpb24oYSxiKXtiLnNyYz9mLmFqYXgoe3R5cGU6IkdFVCIsZ2xvYmFsOiExLHVybDpiLnNyYyxhc3luYzohMSxkYXRhVHlwZToic2NyaXB0In0pOmYuZ2xvYmFsRXZhbCgoYi50ZXh0fHxiLnRleHRDb250ZW50fHxiLmlubmVySFRNTHx8IiIpLnJlcGxhY2UoYmYsIi8qJDAqLyIpKSxiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX0pfXJldHVybiB0aGlzfX0pLGYuYnVpbGRGcmFnbWVudD1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZyxoLGksaj1hWzBdO2ImJmJbMF0mJihpPWJbMF0ub3duZXJEb2N1bWVudHx8YlswXSksaS5jcmVhdGVEb2N1bWVudEZyYWdtZW50fHwoaT1jKSxhLmxlbmd0aD09PTEmJnR5cGVvZiBqPT0ic3RyaW5nIiYmai5sZW5ndGg8NTEyJiZpPT09YyYmai5jaGFyQXQoMCk9PT0iPCImJiFiYi50ZXN0KGopJiYoZi5zdXBwb3J0LmNoZWNrQ2xvbmV8fCFiZC50ZXN0KGopKSYmKGYuc3VwcG9ydC5odG1sNUNsb25lfHwhYmMudGVzdChqKSkmJihnPSEwLGg9Zi5mcmFnbWVudHNbal0saCYmaCE9PTEmJihlPWgpKSxlfHwoZT1pLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxmLmNsZWFuKGEsaSxlLGQpKSxnJiYoZi5mcmFnbWVudHNbal09aD9lOjEpO3JldHVybntmcmFnbWVudDplLGNhY2hlYWJsZTpnfX0sZi5mcmFnbWVudHM9e30sZi5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYSxiKXtmLmZuW2FdPWZ1bmN0aW9uKGMpe3ZhciBkPVtdLGU9ZihjKSxnPXRoaXMubGVuZ3RoPT09MSYmdGhpc1swXS5wYXJlbnROb2RlO2lmKGcmJmcubm9kZVR5cGU9PT0xMSYmZy5jaGlsZE5vZGVzLmxlbmd0aD09PTEmJmUubGVuZ3RoPT09MSl7ZVtiXSh0aGlzWzBdKTtyZXR1cm4gdGhpc31mb3IodmFyIGg9MCxpPWUubGVuZ3RoO2g8aTtoKyspe3ZhciBqPShoPjA/dGhpcy5jbG9uZSghMCk6dGhpcykuZ2V0KCk7ZihlW2hdKVtiXShqKSxkPWQuY29uY2F0KGopfXJldHVybiB0aGlzLnB1c2hTdGFjayhkLGEsZS5zZWxlY3Rvcil9fSksZi5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGcsaD1mLnN1cHBvcnQuaHRtbDVDbG9uZXx8Zi5pc1hNTERvYyhhKXx8IWJjLnRlc3QoIjwiK2Eubm9kZU5hbWUrIj4iKT9hLmNsb25lTm9kZSghMCk6Ym8oYSk7aWYoKCFmLnN1cHBvcnQubm9DbG9uZUV2ZW50fHwhZi5zdXBwb3J0Lm5vQ2xvbmVDaGVja2VkKSYmKGEubm9kZVR5cGU9PT0xfHxhLm5vZGVUeXBlPT09MTEpJiYhZi5pc1hNTERvYyhhKSl7YmsoYSxoKSxkPWJsKGEpLGU9YmwoaCk7Zm9yKGc9MDtkW2ddOysrZyllW2ddJiZiayhkW2ddLGVbZ10pfWlmKGIpe2JqKGEsaCk7aWYoYyl7ZD1ibChhKSxlPWJsKGgpO2ZvcihnPTA7ZFtnXTsrK2cpYmooZFtnXSxlW2ddKX19ZD1lPW51bGw7cmV0dXJuIGh9LGNsZWFuOmZ1bmN0aW9uKGEsYixkLGUpe3ZhciBnLGgsaSxqPVtdO2I9Ynx8Yyx0eXBlb2YgYi5jcmVhdGVFbGVtZW50PT0idW5kZWZpbmVkIiYmKGI9Yi5vd25lckRvY3VtZW50fHxiWzBdJiZiWzBdLm93bmVyRG9jdW1lbnR8fGMpO2Zvcih2YXIgaz0wLGw7KGw9YVtrXSkhPW51bGw7aysrKXt0eXBlb2YgbD09Im51bWJlciImJihsKz0iIik7aWYoIWwpY29udGludWU7aWYodHlwZW9mIGw9PSJzdHJpbmciKWlmKCFfLnRlc3QobCkpbD1iLmNyZWF0ZVRleHROb2RlKGwpO2Vsc2V7bD1sLnJlcGxhY2UoWSwiPCQxPjwvJDI+Iik7dmFyIG09KFouZXhlYyhsKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxuPWJnW21dfHxiZy5fZGVmYXVsdCxvPW5bMF0scD1iLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHE9YmguY2hpbGROb2RlcyxyO2I9PT1jP2JoLmFwcGVuZENoaWxkKHApOlUoYikuYXBwZW5kQ2hpbGQocCkscC5pbm5lckhUTUw9blsxXStsK25bMl07d2hpbGUoby0tKXA9cC5sYXN0Q2hpbGQ7aWYoIWYuc3VwcG9ydC50Ym9keSl7dmFyIHM9JC50ZXN0KGwpLHQ9bT09PSJ0YWJsZSImJiFzP3AuZmlyc3RDaGlsZCYmcC5maXJzdENoaWxkLmNoaWxkTm9kZXM6blsxXT09PSI8dGFibGU+IiYmIXM/cC5jaGlsZE5vZGVzOltdO2ZvcihpPXQubGVuZ3RoLTE7aT49MDstLWkpZi5ub2RlTmFtZSh0W2ldLCJ0Ym9keSIpJiYhdFtpXS5jaGlsZE5vZGVzLmxlbmd0aCYmdFtpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRbaV0pfSFmLnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UmJlgudGVzdChsKSYmcC5pbnNlcnRCZWZvcmUoYi5jcmVhdGVUZXh0Tm9kZShYLmV4ZWMobClbMF0pLHAuZmlyc3RDaGlsZCksbD1wLmNoaWxkTm9kZXMscCYmKHAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwKSxxLmxlbmd0aD4wJiYocj1xW3EubGVuZ3RoLTFdLHImJnIucGFyZW50Tm9kZSYmci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKSl9dmFyIHU7aWYoIWYuc3VwcG9ydC5hcHBlbmRDaGVja2VkKWlmKGxbMF0mJnR5cGVvZiAodT1sLmxlbmd0aCk9PSJudW1iZXIiKWZvcihpPTA7aTx1O2krKylibihsW2ldKTtlbHNlIGJuKGwpO2wubm9kZVR5cGU/ai5wdXNoKGwpOmo9Zi5tZXJnZShqLGwpfWlmKGQpe2c9ZnVuY3Rpb24oYSl7cmV0dXJuIWEudHlwZXx8YmUudGVzdChhLnR5cGUpfTtmb3Ioaz0wO2pba107aysrKXtoPWpba107aWYoZSYmZi5ub2RlTmFtZShoLCJzY3JpcHQiKSYmKCFoLnR5cGV8fGJlLnRlc3QoaC50eXBlKSkpZS5wdXNoKGgucGFyZW50Tm9kZT9oLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaCk6aCk7ZWxzZXtpZihoLm5vZGVUeXBlPT09MSl7dmFyIHY9Zi5ncmVwKGguZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGcpO2ouc3BsaWNlLmFwcGx5KGosW2srMSwwXS5jb25jYXQodikpfWQuYXBwZW5kQ2hpbGQoaCl9fX1yZXR1cm4gan0sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1mLmNhY2hlLGU9Zi5ldmVudC5zcGVjaWFsLGc9Zi5zdXBwb3J0LmRlbGV0ZUV4cGFuZG87Zm9yKHZhciBoPTAsaTsoaT1hW2hdKSE9bnVsbDtoKyspe2lmKGkubm9kZU5hbWUmJmYubm9EYXRhW2kubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pY29udGludWU7Yz1pW2YuZXhwYW5kb107aWYoYyl7Yj1kW2NdO2lmKGImJmIuZXZlbnRzKXtmb3IodmFyIGogaW4gYi5ldmVudHMpZVtqXT9mLmV2ZW50LnJlbW92ZShpLGopOmYucmVtb3ZlRXZlbnQoaSxqLGIuaGFuZGxlKTtiLmhhbmRsZSYmKGIuaGFuZGxlLmVsZW09bnVsbCl9Zz9kZWxldGUgaVtmLmV4cGFuZG9dOmkucmVtb3ZlQXR0cmlidXRlJiZpLnJlbW92ZUF0dHJpYnV0ZShmLmV4cGFuZG8pLGRlbGV0ZSBkW2NdfX19fSk7dmFyIGJwPS9hbHBoYVwoW14pXSpcKS9pLGJxPS9vcGFjaXR5PShbXildKikvLGJyPS8oW0EtWl18Xm1zKS9nLGJzPS9eW1wtK10/KD86XGQqXC4pP1xkKyQvaSxidD0vXi0/KD86XGQqXC4pP1xkKyg/IXB4KVteXGRcc10rJC9pLGJ1PS9eKFtcLStdKT0oW1wtKy5cZGVdKykvLGJ2PS9ebWFyZ2luLyxidz17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sYng9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxieSxieixiQTtmLmZuLmNzcz1mdW5jdGlvbihhLGMpe3JldHVybiBmLmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gZCE9PWI/Zi5zdHlsZShhLGMsZCk6Zi5jc3MoYSxjKX0sYSxjLGFyZ3VtZW50cy5sZW5ndGg+MSl9LGYuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYoYil7dmFyIGM9YnkoYSwib3BhY2l0eSIpO3JldHVybiBjPT09IiI/IjEiOmN9cmV0dXJuIGEuc3R5bGUub3BhY2l0eX19fSxjc3NOdW1iZXI6e2ZpbGxPcGFjaXR5OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7ImZsb2F0IjpmLnN1cHBvcnQuY3NzRmxvYXQ/ImNzc0Zsb2F0Ijoic3R5bGVGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKCEhYSYmYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04JiYhIWEuc3R5bGUpe3ZhciBnLGgsaT1mLmNhbWVsQ2FzZShjKSxqPWEuc3R5bGUsaz1mLmNzc0hvb2tzW2ldO2M9Zi5jc3NQcm9wc1tpXXx8aTtpZihkPT09Yil7aWYoayYmImdldCJpbiBrJiYoZz1rLmdldChhLCExLGUpKSE9PWIpcmV0dXJuIGc7cmV0dXJuIGpbY119aD10eXBlb2YgZCxoPT09InN0cmluZyImJihnPWJ1LmV4ZWMoZCkpJiYoZD0rKGdbMV0rMSkqK2dbMl0rcGFyc2VGbG9hdChmLmNzcyhhLGMpKSxoPSJudW1iZXIiKTtpZihkPT1udWxsfHxoPT09Im51bWJlciImJmlzTmFOKGQpKXJldHVybjtoPT09Im51bWJlciImJiFmLmNzc051bWJlcltpXSYmKGQrPSJweCIpO2lmKCFrfHwhKCJzZXQiaW4gayl8fChkPWsuc2V0KGEsZCkpIT09Yil0cnl7altjXT1kfWNhdGNoKGwpe319fSxjc3M6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGc7Yz1mLmNhbWVsQ2FzZShjKSxnPWYuY3NzSG9va3NbY10sYz1mLmNzc1Byb3BzW2NdfHxjLGM9PT0iY3NzRmxvYXQiJiYoYz0iZmxvYXQiKTtpZihnJiYiZ2V0ImluIGcmJihlPWcuZ2V0KGEsITAsZCkpIT09YilyZXR1cm4gZTtpZihieSlyZXR1cm4gYnkoYSxjKX0sc3dhcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e30sZSxmO2ZvcihmIGluIGIpZFtmXT1hLnN0eWxlW2ZdLGEuc3R5bGVbZl09YltmXTtlPWMuY2FsbChhKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09ZFtmXTtyZXR1cm4gZX19KSxmLmN1ckNTUz1mLmNzcyxjLmRlZmF1bHRWaWV3JiZjLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUmJihiej1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxnLGg9YS5zdHlsZTtiPWIucmVwbGFjZShiciwiLSQxIikudG9Mb3dlckNhc2UoKSwoZD1hLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpJiYoZT1kLmdldENvbXB1dGVkU3R5bGUoYSxudWxsKSkmJihjPWUuZ2V0UHJvcGVydHlWYWx1ZShiKSxjPT09IiImJiFmLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYSkmJihjPWYuc3R5bGUoYSxiKSkpLCFmLnN1cHBvcnQucGl4ZWxNYXJnaW4mJmUmJmJ2LnRlc3QoYikmJmJ0LnRlc3QoYykmJihnPWgud2lkdGgsaC53aWR0aD1jLGM9ZS53aWR0aCxoLndpZHRoPWcpO3JldHVybiBjfSksYy5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlJiYoYkE9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1hLmN1cnJlbnRTdHlsZSYmYS5jdXJyZW50U3R5bGVbYl0sZz1hLnN0eWxlO2Y9PW51bGwmJmcmJihlPWdbYl0pJiYoZj1lKSxidC50ZXN0KGYpJiYoYz1nLmxlZnQsZD1hLnJ1bnRpbWVTdHlsZSYmYS5ydW50aW1lU3R5bGUubGVmdCxkJiYoYS5ydW50aW1lU3R5bGUubGVmdD1hLmN1cnJlbnRTdHlsZS5sZWZ0KSxnLmxlZnQ9Yj09PSJmb250U2l6ZSI/IjFlbSI6ZixmPWcucGl4ZWxMZWZ0KyJweCIsZy5sZWZ0PWMsZCYmKGEucnVudGltZVN0eWxlLmxlZnQ9ZCkpO3JldHVybiBmPT09IiI/ImF1dG8iOmZ9KSxieT1ienx8YkEsZi5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihhLGIpe2YuY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZCl7aWYoYylyZXR1cm4gYS5vZmZzZXRXaWR0aCE9PTA/YkIoYSxiLGQpOmYuc3dhcChhLGJ3LGZ1bmN0aW9uKCl7cmV0dXJuIGJCKGEsYixkKX0pfSxzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYnMudGVzdChiKT9iKyJweCI6Yn19fSksZi5zdXBwb3J0Lm9wYWNpdHl8fChmLmNzc0hvb2tzLm9wYWNpdHk9e2dldDpmdW5jdGlvbihhLGIpe3JldHVybiBicS50ZXN0KChiJiZhLmN1cnJlbnRTdHlsZT9hLmN1cnJlbnRTdHlsZS5maWx0ZXI6YS5zdHlsZS5maWx0ZXIpfHwiIik/cGFyc2VGbG9hdChSZWdFeHAuJDEpLzEwMCsiIjpiPyIxIjoiIn0sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zdHlsZSxkPWEuY3VycmVudFN0eWxlLGU9Zi5pc051bWVyaWMoYik/ImFscGhhKG9wYWNpdHk9IitiKjEwMCsiKSI6IiIsZz1kJiZkLmZpbHRlcnx8Yy5maWx0ZXJ8fCIiO2Muem9vbT0xO2lmKGI+PTEmJmYudHJpbShnLnJlcGxhY2UoYnAsIiIpKT09PSIiKXtjLnJlbW92ZUF0dHJpYnV0ZSgiZmlsdGVyIik7aWYoZCYmIWQuZmlsdGVyKXJldHVybn1jLmZpbHRlcj1icC50ZXN0KGcpP2cucmVwbGFjZShicCxlKTpnKyIgIitlfX0pLGYoZnVuY3Rpb24oKXtmLnN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodHx8KGYuY3NzSG9va3MubWFyZ2luUmlnaHQ9e2dldDpmdW5jdGlvbihhLGIpe3JldHVybiBmLnN3YXAoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sZnVuY3Rpb24oKXtyZXR1cm4gYj9ieShhLCJtYXJnaW4tcmlnaHQiKTphLnN0eWxlLm1hcmdpblJpZ2h0fSl9fSl9KSxmLmV4cHImJmYuZXhwci5maWx0ZXJzJiYoZi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3ZhciBiPWEub2Zmc2V0V2lkdGgsYz1hLm9mZnNldEhlaWdodDtyZXR1cm4gYj09PTAmJmM9PT0wfHwhZi5zdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cyYmKGEuc3R5bGUmJmEuc3R5bGUuZGlzcGxheXx8Zi5jc3MoYSwiZGlzcGxheSIpKT09PSJub25lIn0sZi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hZi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfSksZi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtmLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXt2YXIgZCxlPXR5cGVvZiBjPT0ic3RyaW5nIj9jLnNwbGl0KCIgIik6W2NdLGY9e307Zm9yKGQ9MDtkPDQ7ZCsrKWZbYStieFtkXStiXT1lW2RdfHxlW2QtMl18fGVbMF07cmV0dXJuIGZ9fX0pO3ZhciBiQz0vJTIwL2csYkQ9L1xbXF0kLyxiRT0vXHI/XG4vZyxiRj0vIy4qJC8sYkc9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9tZyxiSD0vXig/OmNvbG9yfGRhdGV8ZGF0ZXRpbWV8ZGF0ZXRpbWUtbG9jYWx8ZW1haWx8aGlkZGVufG1vbnRofG51bWJlcnxwYXNzd29yZHxyYW5nZXxzZWFyY2h8dGVsfHRleHR8dGltZXx1cmx8d2VlaykkL2ksYkk9L14oPzphYm91dHxhcHB8YXBwXC1zdG9yYWdlfC4rXC1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxiSj0vXig/OkdFVHxIRUFEKSQvLGJLPS9eXC9cLy8sYkw9L1w/LyxiTT0vPHNjcmlwdFxiW148XSooPzooPyE8XC9zY3JpcHQ+KTxbXjxdKikqPFwvc2NyaXB0Pi9naSxiTj0vXig/OnNlbGVjdHx0ZXh0YXJlYSkvaSxiTz0vXHMrLyxiUD0vKFs/Jl0pXz1bXiZdKi8sYlE9L14oW1x3XCtcLlwtXSs6KSg/OlwvXC8oW15cLz8jOl0qKSg/OjooXGQrKSk/KT8vLGJSPWYuZm4ubG9hZCxiUz17fSxiVD17fSxiVSxiVixiVz1bIiovIl0rWyIqIl07dHJ5e2JVPWUuaHJlZn1jYXRjaChiWCl7YlU9Yy5jcmVhdGVFbGVtZW50KCJhIiksYlUuaHJlZj0iIixiVT1iVS5ocmVmfWJWPWJRLmV4ZWMoYlUudG9Mb3dlckNhc2UoKSl8fFtdLGYuZm4uZXh0ZW5kKHtsb2FkOmZ1bmN0aW9uKGEsYyxkKXtpZih0eXBlb2YgYSE9InN0cmluZyImJmJSKXJldHVybiBiUi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBlPWEuaW5kZXhPZigiICIpO2lmKGU+PTApe3ZhciBnPWEuc2xpY2UoZSxhLmxlbmd0aCk7YT1hLnNsaWNlKDAsZSl9dmFyIGg9IkdFVCI7YyYmKGYuaXNGdW5jdGlvbihjKT8oZD1jLGM9Yik6dHlwZW9mIGM9PSJvYmplY3QiJiYoYz1mLnBhcmFtKGMsZi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLGg9IlBPU1QiKSk7dmFyIGk9dGhpcztmLmFqYXgoe3VybDphLHR5cGU6aCxkYXRhVHlwZToiaHRtbCIsZGF0YTpjLGNvbXBsZXRlOmZ1bmN0aW9uKGEsYixjKXtjPWEucmVzcG9uc2VUZXh0LGEuaXNSZXNvbHZlZCgpJiYoYS5kb25lKGZ1bmN0aW9uKGEpe2M9YX0pLGkuaHRtbChnP2YoIjxkaXY+IikuYXBwZW5kKGMucmVwbGFjZShiTSwiIikpLmZpbmQoZyk6YykpLGQmJmkuZWFjaChkLFtjLGIsYV0pfX0pO3JldHVybiB0aGlzfSxzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnRzP2YubWFrZUFycmF5KHRoaXMuZWxlbWVudHMpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lJiYhdGhpcy5kaXNhYmxlZCYmKHRoaXMuY2hlY2tlZHx8Yk4udGVzdCh0aGlzLm5vZGVOYW1lKXx8YkgudGVzdCh0aGlzLnR5cGUpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBjPWYodGhpcykudmFsKCk7cmV0dXJuIGM9PW51bGw/bnVsbDpmLmlzQXJyYXkoYyk/Zi5tYXAoYyxmdW5jdGlvbihhLGMpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoYkUsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKGJFLCJcclxuIil9fSkuZ2V0KCl9fSksZi5lYWNoKCJhamF4U3RhcnQgYWpheFN0b3AgYWpheENvbXBsZXRlIGFqYXhFcnJvciBhamF4U3VjY2VzcyBhamF4U2VuZCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2YuZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxmLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYSxjKXtmW2NdPWZ1bmN0aW9uKGEsZCxlLGcpe2YuaXNGdW5jdGlvbihkKSYmKGc9Z3x8ZSxlPWQsZD1iKTtyZXR1cm4gZi5hamF4KHt0eXBlOmMsdXJsOmEsZGF0YTpkLHN1Y2Nlc3M6ZSxkYXRhVHlwZTpnfSl9fSksZi5leHRlbmQoe2dldFNjcmlwdDpmdW5jdGlvbihhLGMpe3JldHVybiBmLmdldChhLGIsYywic2NyaXB0Iil9LGdldEpTT046ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmdldChhLGIsYywianNvbiIpfSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtiP2IkKGEsZi5hamF4U2V0dGluZ3MpOihiPWEsYT1mLmFqYXhTZXR0aW5ncyksYiQoYSxiKTtyZXR1cm4gYX0sYWpheFNldHRpbmdzOnt1cmw6YlUsaXNMb2NhbDpiSS50ZXN0KGJWWzFdKSxnbG9iYWw6ITAsdHlwZToiR0VUIixjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04Iixwcm9jZXNzRGF0YTohMCxhc3luYzohMCxhY2NlcHRzOnt4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGh0bWw6InRleHQvaHRtbCIsdGV4dDoidGV4dC9wbGFpbiIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0IiwiKiI6Yld9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjphLlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpmLnBhcnNlSlNPTiwidGV4dCB4bWwiOmYucGFyc2VYTUx9LGZsYXRPcHRpb25zOntjb250ZXh0OiEwLHVybDohMH19LGFqYXhQcmVmaWx0ZXI6YlkoYlMpLGFqYXhUcmFuc3BvcnQ6YlkoYlQpLGFqYXg6ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiB3KGEsYyxsLG0pe2lmKHMhPT0yKXtzPTIscSYmY2xlYXJUaW1lb3V0KHEpLHA9YixuPW18fCIiLHYucmVhZHlTdGF0ZT1hPjA/NDowO3ZhciBvLHIsdSx3PWMseD1sP2NhKGQsdixsKTpiLHksejtpZihhPj0yMDAmJmE8MzAwfHxhPT09MzA0KXtpZihkLmlmTW9kaWZpZWQpe2lmKHk9di5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpKWYubGFzdE1vZGlmaWVkW2tdPXk7aWYoej12LmdldFJlc3BvbnNlSGVhZGVyKCJFdGFnIikpZi5ldGFnW2tdPXp9aWYoYT09PTMwNCl3PSJub3Rtb2RpZmllZCIsbz0hMDtlbHNlIHRyeXtyPWNiKGQseCksdz0ic3VjY2VzcyIsbz0hMH1jYXRjaChBKXt3PSJwYXJzZXJlcnJvciIsdT1BfX1lbHNle3U9dztpZighd3x8YSl3PSJlcnJvciIsYTwwJiYoYT0wKX12LnN0YXR1cz1hLHYuc3RhdHVzVGV4dD0iIisoY3x8dyksbz9oLnJlc29sdmVXaXRoKGUsW3Isdyx2XSk6aC5yZWplY3RXaXRoKGUsW3Ysdyx1XSksdi5zdGF0dXNDb2RlKGopLGo9Yix0JiZnLnRyaWdnZXIoImFqYXgiKyhvPyJTdWNjZXNzIjoiRXJyb3IiKSxbdixkLG8/cjp1XSksaS5maXJlV2l0aChlLFt2LHddKSx0JiYoZy50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFt2LGRdKSwtLWYuYWN0aXZlfHxmLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpfX10eXBlb2YgYT09Im9iamVjdCImJihjPWEsYT1iKSxjPWN8fHt9O3ZhciBkPWYuYWpheFNldHVwKHt9LGMpLGU9ZC5jb250ZXh0fHxkLGc9ZSE9PWQmJihlLm5vZGVUeXBlfHxlIGluc3RhbmNlb2YgZik/ZihlKTpmLmV2ZW50LGg9Zi5EZWZlcnJlZCgpLGk9Zi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksaj1kLnN0YXR1c0NvZGV8fHt9LGssbD17fSxtPXt9LG4sbyxwLHEscixzPTAsdCx1LHY9e3JlYWR5U3RhdGU6MCxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7aWYoIXMpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTthPW1bY109bVtjXXx8YSxsW2FdPWJ9cmV0dXJuIHRoaXN9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiBzPT09Mj9uOm51bGx9LGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBjO2lmKHM9PT0yKXtpZighbyl7bz17fTt3aGlsZShjPWJHLmV4ZWMobikpb1tjWzFdLnRvTG93ZXJDYXNlKCldPWNbMl19Yz1vW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIGM9PT1iP251bGw6Y30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtzfHwoZC5taW1lVHlwZT1hKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7YT1hfHwiYWJvcnQiLHAmJnAuYWJvcnQoYSksdygwLGEpO3JldHVybiB0aGlzfX07aC5wcm9taXNlKHYpLHYuc3VjY2Vzcz12LmRvbmUsdi5lcnJvcj12LmZhaWwsdi5jb21wbGV0ZT1pLmFkZCx2LnN0YXR1c0NvZGU9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI7aWYoczwyKWZvcihiIGluIGEpaltiXT1baltiXSxhW2JdXTtlbHNlIGI9YVt2LnN0YXR1c10sdi50aGVuKGIsYil9cmV0dXJuIHRoaXN9LGQudXJsPSgoYXx8ZC51cmwpKyIiKS5yZXBsYWNlKGJGLCIiKS5yZXBsYWNlKGJLLGJWWzFdKyIvLyIpLGQuZGF0YVR5cGVzPWYudHJpbShkLmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkuc3BsaXQoYk8pLGQuY3Jvc3NEb21haW49PW51bGwmJihyPWJRLmV4ZWMoZC51cmwudG9Mb3dlckNhc2UoKSksZC5jcm9zc0RvbWFpbj0hKCFyfHxyWzFdPT1iVlsxXSYmclsyXT09YlZbMl0mJihyWzNdfHwoclsxXT09PSJodHRwOiI/ODA6NDQzKSk9PShiVlszXXx8KGJWWzFdPT09Imh0dHA6Ij84MDo0NDMpKSkpLGQuZGF0YSYmZC5wcm9jZXNzRGF0YSYmdHlwZW9mIGQuZGF0YSE9InN0cmluZyImJihkLmRhdGE9Zi5wYXJhbShkLmRhdGEsZC50cmFkaXRpb25hbCkpLGJaKGJTLGQsYyx2KTtpZihzPT09MilyZXR1cm4hMTt0PWQuZ2xvYmFsLGQudHlwZT1kLnR5cGUudG9VcHBlckNhc2UoKSxkLmhhc0NvbnRlbnQ9IWJKLnRlc3QoZC50eXBlKSx0JiZmLmFjdGl2ZSsrPT09MCYmZi5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKTtpZighZC5oYXNDb250ZW50KXtkLmRhdGEmJihkLnVybCs9KGJMLnRlc3QoZC51cmwpPyImIjoiPyIpK2QuZGF0YSxkZWxldGUgZC5kYXRhKSxrPWQudXJsO2lmKGQuY2FjaGU9PT0hMSl7dmFyIHg9Zi5ub3coKSx5PWQudXJsLnJlcGxhY2UoYlAsIiQxXz0iK3gpO2QudXJsPXkrKHk9PT1kLnVybD8oYkwudGVzdChkLnVybCk/IiYiOiI/IikrIl89Iit4OiIiKX19KGQuZGF0YSYmZC5oYXNDb250ZW50JiZkLmNvbnRlbnRUeXBlIT09ITF8fGMuY29udGVudFR5cGUpJiZ2LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsZC5jb250ZW50VHlwZSksZC5pZk1vZGlmaWVkJiYoaz1rfHxkLnVybCxmLmxhc3RNb2RpZmllZFtrXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsZi5sYXN0TW9kaWZpZWRba10pLGYuZXRhZ1trXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixmLmV0YWdba10pKSx2LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsZC5kYXRhVHlwZXNbMF0mJmQuYWNjZXB0c1tkLmRhdGFUeXBlc1swXV0/ZC5hY2NlcHRzW2QuZGF0YVR5cGVzWzBdXSsoZC5kYXRhVHlwZXNbMF0hPT0iKiI/IiwgIitiVysiOyBxPTAuMDEiOiIiKTpkLmFjY2VwdHNbIioiXSk7Zm9yKHUgaW4gZC5oZWFkZXJzKXYuc2V0UmVxdWVzdEhlYWRlcih1LGQuaGVhZGVyc1t1XSk7aWYoZC5iZWZvcmVTZW5kJiYoZC5iZWZvcmVTZW5kLmNhbGwoZSx2LGQpPT09ITF8fHM9PT0yKSl7di5hYm9ydCgpO3JldHVybiExfWZvcih1IGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbdV0oZFt1XSk7cD1iWihiVCxkLGMsdik7aWYoIXApdygtMSwiTm8gVHJhbnNwb3J0Iik7ZWxzZXt2LnJlYWR5U3RhdGU9MSx0JiZnLnRyaWdnZXIoImFqYXhTZW5kIixbdixkXSksZC5hc3luYyYmZC50aW1lb3V0PjAmJihxPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2LmFib3J0KCJ0aW1lb3V0Iil9LGQudGltZW91dCkpO3RyeXtzPTEscC5zZW5kKGwsdyl9Y2F0Y2goeil7aWYoczwyKXcoLTEseik7ZWxzZSB0aHJvdyB6fX1yZXR1cm4gdn0scGFyYW06ZnVuY3Rpb24oYSxjKXt2YXIgZD1bXSxlPWZ1bmN0aW9uKGEsYil7Yj1mLmlzRnVuY3Rpb24oYik/YigpOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2M9PT1iJiYoYz1mLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCk7aWYoZi5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIWYuaXNQbGFpbk9iamVjdChhKSlmLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IodmFyIGcgaW4gYSliXyhnLGFbZ10sYyxlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZShiQywiKyIpfX0pLGYuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fX0pO3ZhciBjYz1mLm5vdygpLGNkPS8oXD0pXD8oJnwkKXxcP1w/L2k7Zi5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3JldHVybiBmLmV4cGFuZG8rIl8iK2NjKyt9fSksZi5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihiLGMsZCl7dmFyIGU9dHlwZW9mIGIuZGF0YT09InN0cmluZyImJi9eYXBwbGljYXRpb25cL3hcLXd3d1wtZm9ybVwtdXJsZW5jb2RlZC8udGVzdChiLmNvbnRlbnRUeXBlKTtpZihiLmRhdGFUeXBlc1swXT09PSJqc29ucCJ8fGIuanNvbnAhPT0hMSYmKGNkLnRlc3QoYi51cmwpfHxlJiZjZC50ZXN0KGIuZGF0YSkpKXt2YXIgZyxoPWIuanNvbnBDYWxsYmFjaz1mLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaT1hW2hdLGo9Yi51cmwsaz1iLmRhdGEsbD0iJDEiK2grIiQyIjtiLmpzb25wIT09ITEmJihqPWoucmVwbGFjZShjZCxsKSxiLnVybD09PWomJihlJiYoaz1rLnJlcGxhY2UoY2QsbCkpLGIuZGF0YT09PWsmJihqKz0oL1w/Ly50ZXN0KGopPyImIjoiPyIpK2IuanNvbnArIj0iK2gpKSksYi51cmw9aixiLmRhdGE9ayxhW2hdPWZ1bmN0aW9uKGEpe2c9W2FdfSxkLmFsd2F5cyhmdW5jdGlvbigpe2FbaF09aSxnJiZmLmlzRnVuY3Rpb24oaSkmJmFbaF0oZ1swXSl9KSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtnfHxmLmVycm9yKGgrIiB3YXMgbm90IGNhbGxlZCIpO3JldHVybiBnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiI7cmV0dXJuInNjcmlwdCJ9fSksZi5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9qYXZhc2NyaXB0fGVjbWFzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe2YuZ2xvYmFsRXZhbChhKTtyZXR1cm4gYX19fSksZi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe2EuY2FjaGU9PT1iJiYoYS5jYWNoZT0hMSksYS5jcm9zc0RvbWFpbiYmKGEudHlwZT0iR0VUIixhLmdsb2JhbD0hMSl9KSxmLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGQsZT1jLmhlYWR8fGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8Yy5kb2N1bWVudEVsZW1lbnQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZixnKXtkPWMuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksZC5hc3luYz0iYXN5bmMiLGEuc2NyaXB0Q2hhcnNldCYmKGQuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGQuc3JjPWEudXJsLGQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7aWYoY3x8IWQucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdChkLnJlYWR5U3RhdGUpKWQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZSYmZC5wYXJlbnROb2RlJiZlLnJlbW92ZUNoaWxkKGQpLGQ9YixjfHxnKDIwMCwic3VjY2VzcyIpfSxlLmluc2VydEJlZm9yZShkLGUuZmlyc3RDaGlsZCl9LGFib3J0OmZ1bmN0aW9uKCl7ZCYmZC5vbmxvYWQoMCwxKX19fX0pO3ZhciBjZT1hLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gY2cpY2dbYV0oMCwxKX06ITEsY2Y9MCxjZztmLmFqYXhTZXR0aW5ncy54aHI9YS5BY3RpdmVYT2JqZWN0P2Z1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNMb2NhbCYmY2goKXx8Y2koKX06Y2gsZnVuY3Rpb24oYSl7Zi5leHRlbmQoZi5zdXBwb3J0LHthamF4OiEhYSxjb3JzOiEhYSYmIndpdGhDcmVkZW50aWFscyJpbiBhfSl9KGYuYWpheFNldHRpbmdzLnhocigpKSxmLnN1cHBvcnQuYWpheCYmZi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGMpe2lmKCFjLmNyb3NzRG9tYWlufHxmLnN1cHBvcnQuY29ycyl7dmFyIGQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxnKXt2YXIgaD1jLnhocigpLGksajtjLnVzZXJuYW1lP2gub3BlbihjLnR5cGUsYy51cmwsYy5hc3luYyxjLnVzZXJuYW1lLGMucGFzc3dvcmQpOmgub3BlbihjLnR5cGUsYy51cmwsYy5hc3luYyk7aWYoYy54aHJGaWVsZHMpZm9yKGogaW4gYy54aHJGaWVsZHMpaFtqXT1jLnhockZpZWxkc1tqXTtjLm1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZShjLm1pbWVUeXBlKSwhYy5jcm9zc0RvbWFpbiYmIWVbIlgtUmVxdWVzdGVkLVdpdGgiXSYmKGVbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTt0cnl7Zm9yKGogaW4gZSloLnNldFJlcXVlc3RIZWFkZXIoaixlW2pdKX1jYXRjaChrKXt9aC5zZW5kKGMuaGFzQ29udGVudCYmYy5kYXRhfHxudWxsKSxkPWZ1bmN0aW9uKGEsZSl7dmFyIGosayxsLG0sbjt0cnl7aWYoZCYmKGV8fGgucmVhZHlTdGF0ZT09PTQpKXtkPWIsaSYmKGgub25yZWFkeXN0YXRlY2hhbmdlPWYubm9vcCxjZSYmZGVsZXRlIGNnW2ldKTtpZihlKWgucmVhZHlTdGF0ZSE9PTQmJmguYWJvcnQoKTtlbHNle2o9aC5zdGF0dXMsbD1oLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLG09e30sbj1oLnJlc3BvbnNlWE1MLG4mJm4uZG9jdW1lbnRFbGVtZW50JiYobS54bWw9bik7dHJ5e20udGV4dD1oLnJlc3BvbnNlVGV4dH1jYXRjaChhKXt9dHJ5e2s9aC5zdGF0dXNUZXh0fWNhdGNoKG8pe2s9IiJ9IWomJmMuaXNMb2NhbCYmIWMuY3Jvc3NEb21haW4/aj1tLnRleHQ/MjAwOjQwNDpqPT09MTIyMyYmKGo9MjA0KX19fWNhdGNoKHApe2V8fGcoLTEscCl9bSYmZyhqLGssbSxsKX0sIWMuYXN5bmN8fGgucmVhZHlTdGF0ZT09PTQ/ZCgpOihpPSsrY2YsY2UmJihjZ3x8KGNnPXt9LGYoYSkudW5sb2FkKGNlKSksY2dbaV09ZCksaC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZCl9LGFib3J0OmZ1bmN0aW9uKCl7ZCYmZCgwLDEpfX19fSk7dmFyIGNqPXt9LGNrLGNsLGNtPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxjbj0vXihbK1wtXT0pPyhbXGQrLlwtXSspKFthLXolXSopJC9pLGNvLGNwPVtbImhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIl0sWyJ3aWR0aCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Il0sWyJvcGFjaXR5Il1dLGNxO2YuZm4uZXh0ZW5kKHtzaG93OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2lmKGF8fGE9PT0wKXJldHVybiB0aGlzLmFuaW1hdGUoY3QoInNob3ciLDMpLGEsYixjKTtmb3IodmFyIGc9MCxoPXRoaXMubGVuZ3RoO2c8aDtnKyspZD10aGlzW2ddLGQuc3R5bGUmJihlPWQuc3R5bGUuZGlzcGxheSwhZi5fZGF0YShkLCJvbGRkaXNwbGF5IikmJmU9PT0ibm9uZSImJihlPWQuc3R5bGUuZGlzcGxheT0iIiksKGU9PT0iIiYmZi5jc3MoZCwiZGlzcGxheSIpPT09Im5vbmUifHwhZi5jb250YWlucyhkLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGQpKSYmZi5fZGF0YShkLCJvbGRkaXNwbGF5IixjdShkLm5vZGVOYW1lKSkpO2ZvcihnPTA7ZzxoO2crKyl7ZD10aGlzW2ddO2lmKGQuc3R5bGUpe2U9ZC5zdHlsZS5kaXNwbGF5O2lmKGU9PT0iInx8ZT09PSJub25lIilkLnN0eWxlLmRpc3BsYXk9Zi5fZGF0YShkLCJvbGRkaXNwbGF5Iil8fCIifX1yZXR1cm4gdGhpc30saGlkZTpmdW5jdGlvbihhLGIsYyl7aWYoYXx8YT09PTApcmV0dXJuIHRoaXMuYW5pbWF0ZShjdCgiaGlkZSIsMyksYSxiLGMpO3ZhciBkLGUsZz0wLGg9dGhpcy5sZW5ndGg7Zm9yKDtnPGg7ZysrKWQ9dGhpc1tnXSxkLnN0eWxlJiYoZT1mLmNzcyhkLCJkaXNwbGF5IiksZSE9PSJub25lIiYmIWYuX2RhdGEoZCwib2xkZGlzcGxheSIpJiZmLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGUpKTtmb3IoZz0wO2c8aDtnKyspdGhpc1tnXS5zdHlsZSYmKHRoaXNbZ10uc3R5bGUuZGlzcGxheT0ibm9uZSIpO3JldHVybiB0aGlzfSxfdG9nZ2xlOmYuZm4udG9nZ2xlLHRvZ2dsZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dHlwZW9mIGE9PSJib29sZWFuIjtmLmlzRnVuY3Rpb24oYSkmJmYuaXNGdW5jdGlvbihiKT90aGlzLl90b2dnbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpOmE9PW51bGx8fGQ/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ZD9hOmYodGhpcykuaXMoIjpoaWRkZW4iKTtmKHRoaXMpW2I/InNob3ciOiJoaWRlIl0oKX0pOnRoaXMuYW5pbWF0ZShjdCgidG9nZ2xlIiwzKSxhLGIsYyk7cmV0dXJuIHRoaXN9LGZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoIjpoaWRkZW4iKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBnKCl7ZS5xdWV1ZT09PSExJiZmLl9tYXJrKHRoaXMpO3ZhciBiPWYuZXh0ZW5kKHt9LGUpLGM9dGhpcy5ub2RlVHlwZT09PTEsZD1jJiZmKHRoaXMpLmlzKCI6aGlkZGVuIiksZyxoLGksaixrLGwsbSxuLG8scCxxO2IuYW5pbWF0ZWRQcm9wZXJ0aWVzPXt9O2ZvcihpIGluIGEpe2c9Zi5jYW1lbENhc2UoaSksaSE9PWcmJihhW2ddPWFbaV0sZGVsZXRlIGFbaV0pO2lmKChrPWYuY3NzSG9va3NbZ10pJiYiZXhwYW5kImluIGspe2w9ay5leHBhbmQoYVtnXSksZGVsZXRlIGFbZ107Zm9yKGkgaW4gbClpIGluIGF8fChhW2ldPWxbaV0pfX1mb3IoZyBpbiBhKXtoPWFbZ10sZi5pc0FycmF5KGgpPyhiLmFuaW1hdGVkUHJvcGVydGllc1tnXT1oWzFdLGg9YVtnXT1oWzBdKTpiLmFuaW1hdGVkUHJvcGVydGllc1tnXT1iLnNwZWNpYWxFYXNpbmcmJmIuc3BlY2lhbEVhc2luZ1tnXXx8Yi5lYXNpbmd8fCJzd2luZyI7aWYoaD09PSJoaWRlIiYmZHx8aD09PSJzaG93IiYmIWQpcmV0dXJuIGIuY29tcGxldGUuY2FsbCh0aGlzKTtjJiYoZz09PSJoZWlnaHQifHxnPT09IndpZHRoIikmJihiLm92ZXJmbG93PVt0aGlzLnN0eWxlLm92ZXJmbG93LHRoaXMuc3R5bGUub3ZlcmZsb3dYLHRoaXMuc3R5bGUub3ZlcmZsb3dZXSxmLmNzcyh0aGlzLCJkaXNwbGF5Iik9PT0iaW5saW5lIiYmZi5jc3ModGhpcywiZmxvYXQiKT09PSJub25lIiYmKCFmLnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dHx8Y3UodGhpcy5ub2RlTmFtZSk9PT0iaW5saW5lIj90aGlzLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI6dGhpcy5zdHlsZS56b29tPTEpKX1iLm92ZXJmbG93IT1udWxsJiYodGhpcy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIik7Zm9yKGkgaW4gYSlqPW5ldyBmLmZ4KHRoaXMsYixpKSxoPWFbaV0sY20udGVzdChoKT8ocT1mLl9kYXRhKHRoaXMsInRvZ2dsZSIraSl8fChoPT09InRvZ2dsZSI/ZD8ic2hvdyI6ImhpZGUiOjApLHE/KGYuX2RhdGEodGhpcywidG9nZ2xlIitpLHE9PT0ic2hvdyI/ImhpZGUiOiJzaG93IiksaltxXSgpKTpqW2hdKCkpOihtPWNuLmV4ZWMoaCksbj1qLmN1cigpLG0/KG89cGFyc2VGbG9hdChtWzJdKSxwPW1bM118fChmLmNzc051bWJlcltpXT8iIjoicHgiKSxwIT09InB4IiYmKGYuc3R5bGUodGhpcyxpLChvfHwxKStwKSxuPShvfHwxKS9qLmN1cigpKm4sZi5zdHlsZSh0aGlzLGksbitwKSksbVsxXSYmKG89KG1bMV09PT0iLT0iPy0xOjEpKm8rbiksai5jdXN0b20obixvLHApKTpqLmN1c3RvbShuLGgsIiIpKTtyZXR1cm4hMH12YXIgZT1mLnNwZWVkKGIsYyxkKTtpZihmLmlzRW1wdHlPYmplY3QoYSkpcmV0dXJuIHRoaXMuZWFjaChlLmNvbXBsZXRlLFshMV0pO2E9Zi5leHRlbmQoe30sYSk7cmV0dXJuIGUucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShlLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYyxkKXt0eXBlb2YgYSE9InN0cmluZyImJihkPWMsYz1hLGE9YiksYyYmYSE9PSExJiZ0aGlzLnF1ZXVlKGF8fCJmeCIsW10pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBoKGEsYixjKXt2YXIgZT1iW2NdO2YucmVtb3ZlRGF0YShhLGMsITApLGUuc3RvcChkKX12YXIgYixjPSExLGU9Zi50aW1lcnMsZz1mLl9kYXRhKHRoaXMpO2R8fGYuX3VubWFyayghMCx0aGlzKTtpZihhPT1udWxsKWZvcihiIGluIGcpZ1tiXSYmZ1tiXS5zdG9wJiZiLmluZGV4T2YoIi5ydW4iKT09PWIubGVuZ3RoLTQmJmgodGhpcyxnLGIpO2Vsc2UgZ1tiPWErIi5ydW4iXSYmZ1tiXS5zdG9wJiZoKHRoaXMsZyxiKTtmb3IoYj1lLmxlbmd0aDtiLS07KWVbYl0uZWxlbT09PXRoaXMmJihhPT1udWxsfHxlW2JdLnF1ZXVlPT09YSkmJihkP2VbYl0oITApOmVbYl0uc2F2ZVN0YXRlKCksYz0hMCxlLnNwbGljZShiLDEpKTsoIWR8fCFjKSYmZi5kZXF1ZXVlKHRoaXMsYSl9KX19KSxmLmVhY2goe3NsaWRlRG93bjpjdCgic2hvdyIsMSksc2xpZGVVcDpjdCgiaGlkZSIsMSksc2xpZGVUb2dnbGU6Y3QoInRvZ2dsZSIsMSksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihhLGIpe2YuZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksZi5leHRlbmQoe3NwZWVkOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hJiZ0eXBlb2YgYT09Im9iamVjdCI/Zi5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmN8fCFjJiZifHxmLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6YyYmYnx8YiYmIWYuaXNGdW5jdGlvbihiKSYmYn07ZC5kdXJhdGlvbj1mLmZ4Lm9mZj8wOnR5cGVvZiBkLmR1cmF0aW9uPT0ibnVtYmVyIj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gZi5meC5zcGVlZHM/Zi5meC5zcGVlZHNbZC5kdXJhdGlvbl06Zi5meC5zcGVlZHMuX2RlZmF1bHQ7aWYoZC5xdWV1ZT09bnVsbHx8ZC5xdWV1ZT09PSEwKWQucXVldWU9ImZ4IjtkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oYSl7Zi5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlP2YuZGVxdWV1ZSh0aGlzLGQucXVldWUpOmEhPT0hMSYmZi5fdW5tYXJrKHRoaXMpfTtyZXR1cm4gZH0sZWFzaW5nOntsaW5lYXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHN3aW5nOmZ1bmN0aW9uKGEpe3JldHVybi1NYXRoLmNvcyhhKk1hdGguUEkpLzIrLjV9fSx0aW1lcnM6W10sZng6ZnVuY3Rpb24oYSxiLGMpe3RoaXMub3B0aW9ucz1iLHRoaXMuZWxlbT1hLHRoaXMucHJvcD1jLGIub3JpZz1iLm9yaWd8fHt9fX0pLGYuZngucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksKGYuZnguc3RlcFt0aGlzLnByb3BdfHxmLmZ4LnN0ZXAuX2RlZmF1bHQpKHRoaXMpfSxjdXI6ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1bdGhpcy5wcm9wXSE9bnVsbCYmKCF0aGlzLmVsZW0uc3R5bGV8fHRoaXMuZWxlbS5zdHlsZVt0aGlzLnByb3BdPT1udWxsKSlyZXR1cm4gdGhpcy5lbGVtW3RoaXMucHJvcF07dmFyIGEsYj1mLmNzcyh0aGlzLmVsZW0sdGhpcy5wcm9wKTtyZXR1cm4gaXNOYU4oYT1wYXJzZUZsb2F0KGIpKT8hYnx8Yj09PSJhdXRvIj8wOmI6YX0sY3VzdG9tOmZ1bmN0aW9uKGEsYyxkKXtmdW5jdGlvbiBoKGEpe3JldHVybiBlLnN0ZXAoYSl9dmFyIGU9dGhpcyxnPWYuZng7dGhpcy5zdGFydFRpbWU9Y3F8fGNyKCksdGhpcy5lbmQ9Yyx0aGlzLm5vdz10aGlzLnN0YXJ0PWEsdGhpcy5wb3M9dGhpcy5zdGF0ZT0wLHRoaXMudW5pdD1kfHx0aGlzLnVuaXR8fChmLmNzc051bWJlclt0aGlzLnByb3BdPyIiOiJweCIpLGgucXVldWU9dGhpcy5vcHRpb25zLnF1ZXVlLGguZWxlbT10aGlzLmVsZW0saC5zYXZlU3RhdGU9ZnVuY3Rpb24oKXtmLl9kYXRhKGUuZWxlbSwiZnhzaG93IitlLnByb3ApPT09YiYmKGUub3B0aW9ucy5oaWRlP2YuX2RhdGEoZS5lbGVtLCJmeHNob3ciK2UucHJvcCxlLnN0YXJ0KTplLm9wdGlvbnMuc2hvdyYmZi5fZGF0YShlLmVsZW0sImZ4c2hvdyIrZS5wcm9wLGUuZW5kKSl9LGgoKSYmZi50aW1lcnMucHVzaChoKSYmIWNvJiYoY289c2V0SW50ZXJ2YWwoZy50aWNrLGcuaW50ZXJ2YWwpKX0sc2hvdzpmdW5jdGlvbigpe3ZhciBhPWYuX2RhdGEodGhpcy5lbGVtLCJmeHNob3ciK3RoaXMucHJvcCk7dGhpcy5vcHRpb25zLm9yaWdbdGhpcy5wcm9wXT1hfHxmLnN0eWxlKHRoaXMuZWxlbSx0aGlzLnByb3ApLHRoaXMub3B0aW9ucy5zaG93PSEwLGEhPT1iP3RoaXMuY3VzdG9tKHRoaXMuY3VyKCksYSk6dGhpcy5jdXN0b20odGhpcy5wcm9wPT09IndpZHRoInx8dGhpcy5wcm9wPT09ImhlaWdodCI/MTowLHRoaXMuY3VyKCkpLGYodGhpcy5lbGVtKS5zaG93KCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3JpZ1t0aGlzLnByb3BdPWYuX2RhdGEodGhpcy5lbGVtLCJmeHNob3ciK3RoaXMucHJvcCl8fGYuc3R5bGUodGhpcy5lbGVtLHRoaXMucHJvcCksdGhpcy5vcHRpb25zLmhpZGU9ITAsdGhpcy5jdXN0b20odGhpcy5jdXIoKSwwKX0sc3RlcDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT1jcXx8Y3IoKSxnPSEwLGg9dGhpcy5lbGVtLGk9dGhpcy5vcHRpb25zO2lmKGF8fGU+PWkuZHVyYXRpb24rdGhpcy5zdGFydFRpbWUpe3RoaXMubm93PXRoaXMuZW5kLHRoaXMucG9zPXRoaXMuc3RhdGU9MSx0aGlzLnVwZGF0ZSgpLGkuYW5pbWF0ZWRQcm9wZXJ0aWVzW3RoaXMucHJvcF09ITA7Zm9yKGIgaW4gaS5hbmltYXRlZFByb3BlcnRpZXMpaS5hbmltYXRlZFByb3BlcnRpZXNbYl0hPT0hMCYmKGc9ITEpO2lmKGcpe2kub3ZlcmZsb3chPW51bGwmJiFmLnN1cHBvcnQuc2hyaW5rV3JhcEJsb2NrcyYmZi5lYWNoKFsiIiwiWCIsIlkiXSxmdW5jdGlvbihhLGIpe2guc3R5bGVbIm92ZXJmbG93IitiXT1pLm92ZXJmbG93W2FdfSksaS5oaWRlJiZmKGgpLmhpZGUoKTtpZihpLmhpZGV8fGkuc2hvdylmb3IoYiBpbiBpLmFuaW1hdGVkUHJvcGVydGllcylmLnN0eWxlKGgsYixpLm9yaWdbYl0pLGYucmVtb3ZlRGF0YShoLCJmeHNob3ciK2IsITApLGYucmVtb3ZlRGF0YShoLCJ0b2dnbGUiK2IsITApO2Q9aS5jb21wbGV0ZSxkJiYoaS5jb21wbGV0ZT0hMSxkLmNhbGwoaCkpfXJldHVybiExfWkuZHVyYXRpb249PUluZmluaXR5P3RoaXMubm93PWU6KGM9ZS10aGlzLnN0YXJ0VGltZSx0aGlzLnN0YXRlPWMvaS5kdXJhdGlvbix0aGlzLnBvcz1mLmVhc2luZ1tpLmFuaW1hdGVkUHJvcGVydGllc1t0aGlzLnByb3BdXSh0aGlzLnN0YXRlLGMsMCwxLGkuZHVyYXRpb24pLHRoaXMubm93PXRoaXMuc3RhcnQrKHRoaXMuZW5kLXRoaXMuc3RhcnQpKnRoaXMucG9zKSx0aGlzLnVwZGF0ZSgpO3JldHVybiEwfX0sZi5leHRlbmQoZi5meCx7dGljazpmdW5jdGlvbigpe3ZhciBhLGI9Zi50aW1lcnMsYz0wO2Zvcig7YzxiLmxlbmd0aDtjKyspYT1iW2NdLCFhKCkmJmJbY109PT1hJiZiLnNwbGljZShjLS0sMSk7Yi5sZW5ndGh8fGYuZnguc3RvcCgpfSxpbnRlcnZhbDoxMyxzdG9wOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChjbyksY289bnVsbH0sc3BlZWRzOntzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LHN0ZXA6e29wYWNpdHk6ZnVuY3Rpb24oYSl7Zi5zdHlsZShhLmVsZW0sIm9wYWNpdHkiLGEubm93KX0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7YS5lbGVtLnN0eWxlJiZhLmVsZW0uc3R5bGVbYS5wcm9wXSE9bnVsbD9hLmVsZW0uc3R5bGVbYS5wcm9wXT1hLm5vdythLnVuaXQ6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0pLGYuZWFjaChjcC5jb25jYXQuYXBwbHkoW10sY3ApLGZ1bmN0aW9uKGEsYil7Yi5pbmRleE9mKCJtYXJnaW4iKSYmKGYuZnguc3RlcFtiXT1mdW5jdGlvbihhKXtmLnN0eWxlKGEuZWxlbSxiLE1hdGgubWF4KDAsYS5ub3cpK2EudW5pdCl9KX0pLGYuZXhwciYmZi5leHByLmZpbHRlcnMmJihmLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gZi5ncmVwKGYudGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofSk7dmFyIGN2LGN3PS9edCg/OmFibGV8ZHxoKSQvaSxjeD0vXig/OmJvZHl8aHRtbCkkL2k7ImdldEJvdW5kaW5nQ2xpZW50UmVjdCJpbiBjLmRvY3VtZW50RWxlbWVudD9jdj1mdW5jdGlvbihhLGIsYyxkKXt0cnl7ZD1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKGUpe31pZighZHx8IWYuY29udGFpbnMoYyxhKSlyZXR1cm4gZD97dG9wOmQudG9wLGxlZnQ6ZC5sZWZ0fTp7dG9wOjAsbGVmdDowfTt2YXIgZz1iLmJvZHksaD1jeShiKSxpPWMuY2xpZW50VG9wfHxnLmNsaWVudFRvcHx8MCxqPWMuY2xpZW50TGVmdHx8Zy5jbGllbnRMZWZ0fHwwLGs9aC5wYWdlWU9mZnNldHx8Zi5zdXBwb3J0LmJveE1vZGVsJiZjLnNjcm9sbFRvcHx8Zy5zY3JvbGxUb3AsbD1oLnBhZ2VYT2Zmc2V0fHxmLnN1cHBvcnQuYm94TW9kZWwmJmMuc2Nyb2xsTGVmdHx8Zy5zY3JvbGxMZWZ0LG09ZC50b3Aray1pLG49ZC5sZWZ0K2wtajtyZXR1cm57dG9wOm0sbGVmdDpufX06Y3Y9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9YS5vZmZzZXRQYXJlbnQsZz1hLGg9Yi5ib2R5LGk9Yi5kZWZhdWx0VmlldyxqPWk/aS5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCk6YS5jdXJyZW50U3R5bGUsaz1hLm9mZnNldFRvcCxsPWEub2Zmc2V0TGVmdDt3aGlsZSgoYT1hLnBhcmVudE5vZGUpJiZhIT09aCYmYSE9PWMpe2lmKGYuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZqLnBvc2l0aW9uPT09ImZpeGVkIilicmVhaztkPWk/aS5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCk6YS5jdXJyZW50U3R5bGUsay09YS5zY3JvbGxUb3AsbC09YS5zY3JvbGxMZWZ0LGE9PT1lJiYoays9YS5vZmZzZXRUb3AsbCs9YS5vZmZzZXRMZWZ0LGYuc3VwcG9ydC5kb2VzTm90QWRkQm9yZGVyJiYoIWYuc3VwcG9ydC5kb2VzQWRkQm9yZGVyRm9yVGFibGVBbmRDZWxsc3x8IWN3LnRlc3QoYS5ub2RlTmFtZSkpJiYoays9cGFyc2VGbG9hdChkLmJvcmRlclRvcFdpZHRoKXx8MCxsKz1wYXJzZUZsb2F0KGQuYm9yZGVyTGVmdFdpZHRoKXx8MCksZz1lLGU9YS5vZmZzZXRQYXJlbnQpLGYuc3VwcG9ydC5zdWJ0cmFjdHNCb3JkZXJGb3JPdmVyZmxvd05vdFZpc2libGUmJmQub3ZlcmZsb3chPT0idmlzaWJsZSImJihrKz1wYXJzZUZsb2F0KGQuYm9yZGVyVG9wV2lkdGgpfHwwLGwrPXBhcnNlRmxvYXQoZC5ib3JkZXJMZWZ0V2lkdGgpfHwwKSxqPWR9aWYoai5wb3NpdGlvbj09PSJyZWxhdGl2ZSJ8fGoucG9zaXRpb249PT0ic3RhdGljIilrKz1oLm9mZnNldFRvcCxsKz1oLm9mZnNldExlZnQ7Zi5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJmoucG9zaXRpb249PT0iZml4ZWQiJiYoays9TWF0aC5tYXgoYy5zY3JvbGxUb3AsaC5zY3JvbGxUb3ApLGwrPU1hdGgubWF4KGMuc2Nyb2xsTGVmdCxoLnNjcm9sbExlZnQpKTtyZXR1cm57dG9wOmssbGVmdDpsfX0sZi5mbi5vZmZzZXQ9ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYT09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oYil7Zi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO3ZhciBjPXRoaXNbMF0sZD1jJiZjLm93bmVyRG9jdW1lbnQ7aWYoIWQpcmV0dXJuIG51bGw7aWYoYz09PWQuYm9keSlyZXR1cm4gZi5vZmZzZXQuYm9keU9mZnNldChjKTtyZXR1cm4gY3YoYyxkLGQuZG9jdW1lbnRFbGVtZW50KX0sZi5vZmZzZXQ9e2JvZHlPZmZzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vZmZzZXRUb3AsYz1hLm9mZnNldExlZnQ7Zi5zdXBwb3J0LmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0JiYoYis9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsYys9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwKTtyZXR1cm57dG9wOmIsbGVmdDpjfX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mLmNzcyhhLCJwb3NpdGlvbiIpO2Q9PT0ic3RhdGljIiYmKGEuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIGU9ZihhKSxnPWUub2Zmc2V0KCksaD1mLmNzcyhhLCJ0b3AiKSxpPWYuY3NzKGEsImxlZnQiKSxqPShkPT09ImFic29sdXRlInx8ZD09PSJmaXhlZCIpJiZmLmluQXJyYXkoImF1dG8iLFtoLGldKT4tMSxrPXt9LGw9e30sbSxuO2o/KGw9ZS5wb3NpdGlvbigpLG09bC50b3Asbj1sLmxlZnQpOihtPXBhcnNlRmxvYXQoaCl8fDAsbj1wYXJzZUZsb2F0KGkpfHwwKSxmLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsZykpLGIudG9wIT1udWxsJiYoay50b3A9Yi50b3AtZy50b3ArbSksYi5sZWZ0IT1udWxsJiYoay5sZWZ0PWIubGVmdC1nLmxlZnQrbiksInVzaW5nImluIGI/Yi51c2luZy5jYWxsKGEsayk6ZS5jc3Moayl9fSxmLmZuLmV4dGVuZCh7cG9zaXRpb246ZnVuY3Rpb24oKXtpZighdGhpc1swXSlyZXR1cm4gbnVsbDt2YXIgYT10aGlzWzBdLGI9dGhpcy5vZmZzZXRQYXJlbnQoKSxjPXRoaXMub2Zmc2V0KCksZD1jeC50ZXN0KGJbMF0ubm9kZU5hbWUpP3t0b3A6MCxsZWZ0OjB9OmIub2Zmc2V0KCk7Yy50b3AtPXBhcnNlRmxvYXQoZi5jc3MoYSwibWFyZ2luVG9wIikpfHwwLGMubGVmdC09cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwLGQudG9wKz1wYXJzZUZsb2F0KGYuY3NzKGJbMF0sImJvcmRlclRvcFdpZHRoIikpfHwwLGQubGVmdCs9cGFyc2VGbG9hdChmLmNzcyhiWzBdLCJib3JkZXJMZWZ0V2lkdGgiKSl8fDA7cmV0dXJue3RvcDpjLnRvcC1kLnRvcCxsZWZ0OmMubGVmdC1kLmxlZnR9fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8Yy5ib2R5O3doaWxlKGEmJiFjeC50ZXN0KGEubm9kZU5hbWUpJiZmLmNzcyhhLCJwb3NpdGlvbiIpPT09InN0YXRpYyIpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYX0pfX0pLGYuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGMpe3ZhciBkPS9ZLy50ZXN0KGMpO2YuZm5bYV09ZnVuY3Rpb24oZSl7cmV0dXJuIGYuYWNjZXNzKHRoaXMsZnVuY3Rpb24oYSxlLGcpe3ZhciBoPWN5KGEpO2lmKGc9PT1iKXJldHVybiBoP2MgaW4gaD9oW2NdOmYuc3VwcG9ydC5ib3hNb2RlbCYmaC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbZV18fGguZG9jdW1lbnQuYm9keVtlXTphW2VdO2g/aC5zY3JvbGxUbyhkP2YoaCkuc2Nyb2xsTGVmdCgpOmcsZD9nOmYoaCkuc2Nyb2xsVG9wKCkpOmFbZV09Z30sYSxlLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksZi5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oYSxjKXt2YXIgZD0iY2xpZW50IithLGU9InNjcm9sbCIrYSxnPSJvZmZzZXQiK2E7Zi5mblsiaW5uZXIiK2FdPWZ1bmN0aW9uKCl7dmFyIGE9dGhpc1swXTtyZXR1cm4gYT9hLnN0eWxlP3BhcnNlRmxvYXQoZi5jc3MoYSxjLCJwYWRkaW5nIikpOnRoaXNbY10oKTpudWxsfSxmLmZuWyJvdXRlciIrYV09ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXTtyZXR1cm4gYj9iLnN0eWxlP3BhcnNlRmxvYXQoZi5jc3MoYixjLGE/Im1hcmdpbiI6ImJvcmRlciIpKTp0aGlzW2NdKCk6bnVsbH0sZi5mbltjXT1mdW5jdGlvbihhKXtyZXR1cm4gZi5hY2Nlc3ModGhpcyxmdW5jdGlvbihhLGMsaCl7dmFyIGksaixrLGw7aWYoZi5pc1dpbmRvdyhhKSl7aT1hLmRvY3VtZW50LGo9aS5kb2N1bWVudEVsZW1lbnRbZF07cmV0dXJuIGYuc3VwcG9ydC5ib3hNb2RlbCYmanx8aS5ib2R5JiZpLmJvZHlbZF18fGp9aWYoYS5ub2RlVHlwZT09PTkpe2k9YS5kb2N1bWVudEVsZW1lbnQ7aWYoaVtkXT49aVtlXSlyZXR1cm4gaVtkXTtyZXR1cm4gTWF0aC5tYXgoYS5ib2R5W2VdLGlbZV0sYS5ib2R5W2ddLGlbZ10pfWlmKGg9PT1iKXtrPWYuY3NzKGEsYyksbD1wYXJzZUZsb2F0KGspO3JldHVybiBmLmlzTnVtZXJpYyhsKT9sOmt9ZihhKS5jc3MoYyxoKX0sYyxhLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksYS5qUXVlcnk9YS4kPWYsdHlwZW9mIGRlZmluZT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZCYmZGVmaW5lLmFtZC5qUXVlcnkmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBmfSl9KSh3aW5kb3cpOw=="></script>
    <script type="text/javascript" src="data:application/x-javascript;base64,dmFyIGJhc2UyPXtuYW1lOiJiYXNlMiIsdmVyc2lvbjoiMS4wLjEocHJlKSIsZXhwb3J0czoiQmFzZSwgUGFja2FnZSwgQWJzdHJhY3QsIE1vZHVsZSwgRW51bWVyYWJsZSwgTWFwLCBDb2xsZWN0aW9uLCBSZWdHcnAsICIrImFzc2VydCwgYXNzZXJ0QXJpdHksIGFzc2VydFR5cGUsICIrImFzc2lnbklELCBjb3B5LCBjb3VudGVyLCBkZXRlY3QsIGV4dGVuZCwgZm9yRWFjaCwgZm9ybWF0LCBpbnN0YW5jZU9mLCBtYXRjaCwgcmVzY2FwZSwgc2xpY2UsIHRyaW0sICIrIkksIEssIFVuZGVmaW5lZCwgTnVsbCwgVHJ1ZSwgRmFsc2UsIGJpbmQsIGRlbGVnYXRlLCBmbGlwLCBub3QsIHBhcnRpYWwsIHVuYmluZCIsZ2xvYmFsOnRoaXMsbmFtZXNwYWNlOiJ2YXIgZ2xvYmFsPWJhc2UyLmdsb2JhbDtmdW5jdGlvbiBiYXNlKG8sYSl7cmV0dXJuIG8uYmFzZS5hcHBseShvLGEpfTsiLGRldGVjdDpuZXcgZnVuY3Rpb24oXyl7dmFyIGdsb2JhbD1fO3ZhciBqc2NyaXB0LypAY2Nfb249QF9qc2NyaXB0X3ZlcnNpb25AKi87aWYoXy5uYXZpZ2F0b3Ipe3ZhciBlbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTt2YXIgdXNlckFnZW50PW5hdmlnYXRvci5wbGF0Zm9ybSsiICIrbmF2aWdhdG9yLnVzZXJBZ2VudDtpZighanNjcmlwdCl1c2VyQWdlbnQ9dXNlckFnZW50LnJlcGxhY2UoL01TSUVcc1tcZC5dKy8sIiIpO3VzZXJBZ2VudD11c2VyQWdlbnQucmVwbGFjZSgvKFthLXpdKVtcc1wvXShcZCkvZ2ksIiQxJDIiKTt9cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciByPWZhbHNlO3ZhciBiPWEuY2hhckF0KDApPT0iISI7aWYoYilhPWEuc2xpY2UoMSk7aWYoYS5jaGFyQXQoMCk9PSIoIil7dHJ5e2V2YWwoInI9ISEiK2EpfWNhdGNoKGVycm9yKXt9fWVsc2V7cj1uZXcgUmVnRXhwKCIoIithKyIpIiwiaSIpLnRlc3QodXNlckFnZW50KX1yZXR1cm4hIShiXnIpfX0odGhpcyl9O25ldyBmdW5jdGlvbihfKXt2YXIgZGV0ZWN0PWJhc2UyLmRldGVjdDt2YXIgc2xpY2U9QXJyYXkuc2xpY2V8fChmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGIuYXBwbHkoYSxiLmNhbGwoYXJndW1lbnRzLDEpKX19KShBcnJheS5wcm90b3R5cGUuc2xpY2UpO3ZhciBVbmRlZmluZWQ9SygpLE51bGw9SyhudWxsKSxUcnVlPUsodHJ1ZSksRmFsc2U9SyhmYWxzZSk7dmFyIF8wPS8lKFsxLTldKS9nO3ZhciBfMT0vXlxzXHMqLzt2YXIgXzI9L1xzXHMqJC87dmFyIF8zPS8oW1wvKClbXF17fXwqKy0uLF4kP1xcXSkvZzt2YXIgXzQ9L2V2YWwvLnRlc3QoZGV0ZWN0KT8vXGJiYXNlXHMqXCgvOi8uKi87dmFyIF81PVsiY29uc3RydWN0b3IiLCJ0b1N0cmluZyIsInZhbHVlT2YiXTt2YXIgXzY9U3RyaW5nKG5ldyBSZWdFeHApO3ZhciBfNz0xO184KCk7ZXZhbChiYXNlMi5uYW1lc3BhY2UpO3ZhciBfOT1mdW5jdGlvbihhLGIpe2Jhc2UyLl9fcHJvdG90eXBpbmc9dHJ1ZTt2YXIgYz1uZXcgdGhpcztleHRlbmQoYyxhKTtkZWxldGUgYmFzZTIuX19wcm90b3R5cGluZzt2YXIgZD1jLmNvbnN0cnVjdG9yO2Z1bmN0aW9uIF8xMCgpe2lmKCFiYXNlMi5fX3Byb3RvdHlwaW5nKXtpZih0aGlzLmNvbnN0cnVjdG9yPT1hcmd1bWVudHMuY2FsbGVlfHx0aGlzLl9fY29uc3RydWN0aW5nKXt0aGlzLl9fY29uc3RydWN0aW5nPXRydWU7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMuX19jb25zdHJ1Y3Rpbmd9ZWxzZXtyZXR1cm4gZXh0ZW5kKGFyZ3VtZW50c1swXSxjKX19cmV0dXJuIHRoaXN9O2MuY29uc3RydWN0b3I9XzEwO2Zvcih2YXIgaSBpbiBCYXNlKV8xMFtpXT10aGlzW2ldO18xMC50b1N0cmluZz1LKFN0cmluZyhkKSk7XzEwLmFuY2VzdG9yPXRoaXM7XzEwLmJhc2U9VW5kZWZpbmVkO18xMC5pbml0PVVuZGVmaW5lZDtleHRlbmQoXzEwLGIpO18xMC5wcm90b3R5cGU9YztfMTAuaW5pdCgpO3JldHVybiBfMTB9O3ZhciBCYXNlPV85LmNhbGwoT2JqZWN0LHtjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MCl7dGhpcy5leHRlbmQoYXJndW1lbnRzWzBdKX19LGJhc2U6ZnVuY3Rpb24oKXt9LGV4dGVuZDpkZWxlZ2F0ZShleHRlbmQpfSxCYXNlPXthbmNlc3Rvck9mOmRlbGVnYXRlKF8xMSksZXh0ZW5kOl85LGZvckVhY2g6ZGVsZWdhdGUoXzgpLGltcGxlbWVudDpmdW5jdGlvbihhKXtpZih0eXBlb2YgYT09ImZ1bmN0aW9uIil7aWYoXzExKEJhc2UsYSkpe2EodGhpcy5wcm90b3R5cGUpfX1lbHNle2V4dGVuZCh0aGlzLnByb3RvdHlwZSxhKX1yZXR1cm4gdGhpc319KTt2YXIgUGFja2FnZT1CYXNlLmV4dGVuZCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZCxlKXt0aGlzLmV4dGVuZChlKTtpZih0aGlzLmluaXQpdGhpcy5pbml0KCk7aWYodGhpcy5uYW1lIT0iYmFzZTIiKXtpZighdGhpcy5wYXJlbnQpdGhpcy5wYXJlbnQ9YmFzZTI7dGhpcy5wYXJlbnQuYWRkTmFtZSh0aGlzLm5hbWUsdGhpcyk7dGhpcy5uYW1lc3BhY2U9Zm9ybWF0KCJ2YXIgJTE9JTI7Iix0aGlzLm5hbWUsU3RyaW5nKHRoaXMpLnNsaWNlKDEsLTEpKX12YXIgZj0vW15ccyxdKy9nO2lmKGQpe2QuaW1wb3J0cz1BcnJheTIucmVkdWNlKHRoaXMuaW1wb3J0cy5tYXRjaChmKSxmdW5jdGlvbihhLGIpe2V2YWwoInZhciBucz1iYXNlMi4iK2IpO2Fzc2VydChucyxmb3JtYXQoIlBhY2thZ2Ugbm90IGZvdW5kOiAnJTEnLiIsYikpO3JldHVybiBhKz1ucy5uYW1lc3BhY2V9LGJhc2UyLm5hbWVzcGFjZStKYXZhU2NyaXB0Lm5hbWVzcGFjZSk7ZC5leHBvcnRzPUFycmF5Mi5yZWR1Y2UodGhpcy5leHBvcnRzLm1hdGNoKGYpLGZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5uYW1lKyIuIitiO3RoaXMubmFtZXNwYWNlKz0idmFyICIrYisiPSIrYysiOyI7cmV0dXJuIGErPSJpZighIitjKyIpIitjKyI9IitiKyI7In0sIiIsdGhpcyl9fSxleHBvcnRzOiIiLGltcG9ydHM6IiIsbmFtZToiIixuYW1lc3BhY2U6IiIscGFyZW50Om51bGwsYWRkTmFtZTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzW2FdKXt0aGlzW2FdPWI7dGhpcy5leHBvcnRzKz0iLCAiK2E7dGhpcy5uYW1lc3BhY2UrPWZvcm1hdCgidmFyICUxPSUyLiUxOyIsYSx0aGlzLm5hbWUpfX0sYWRkUGFja2FnZTpmdW5jdGlvbihhKXt0aGlzLmFkZE5hbWUoYSxuZXcgUGFja2FnZShudWxsLHtuYW1lOmEscGFyZW50OnRoaXN9KSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGZvcm1hdCgiWyUxXSIsdGhpcy5wYXJlbnQ/U3RyaW5nKHRoaXMucGFyZW50KS5zbGljZSgxLC0xKSsiLiIrdGhpcy5uYW1lOnRoaXMubmFtZSl9fSk7dmFyIEFic3RyYWN0PUJhc2UuZXh0ZW5kKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQuIik7fX0pO3ZhciBNb2R1bGU9QWJzdHJhY3QuZXh0ZW5kKG51bGwse2V4dGVuZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYmFzZSgpO18xMihjLHRoaXMpO2MuaW1wbGVtZW50KGEpO2V4dGVuZChjLGIpO2MuaW5pdCgpO3JldHVybiBjfSxpbXBsZW1lbnQ6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcztpZih0eXBlb2YgYz09ImZ1bmN0aW9uIil7ZC5iYXNlKGMpO2lmKF8xMShNb2R1bGUsYykpe18xMihkLGMpfX1lbHNle3ZhciBlPXt9O184KE9iamVjdCxjLGZ1bmN0aW9uKGEsYil7aWYoYi5jaGFyQXQoMCk9PSJAIil7aWYoZGV0ZWN0KGIuc2xpY2UoMSkpKXtmb3JFYWNoKGEsYXJndW1lbnRzLmNhbGxlZSl9fWVsc2UgaWYoIU1vZHVsZVtiXSYmdHlwZW9mIGE9PSJmdW5jdGlvbiImJmEuY2FsbCl7ZnVuY3Rpb24gXzEzKCl7cmV0dXJuIGRbYl0uYXBwbHkoZCxbdGhpc10uY29uY2F0KHNsaWNlKGFyZ3VtZW50cykpKX07XzEzLl9fYmFzZT1fNC50ZXN0KGEpO2VbYl09XzEzfX0pO2V4dGVuZChkLnByb3RvdHlwZSxlKTtleHRlbmQoZCxjKX1yZXR1cm4gZH19KTtmdW5jdGlvbiBfMTIoYSxiKXtmb3IodmFyIGMgaW4gYil7dmFyIG1ldGhvZD1iW2NdO2lmKCFNb2R1bGVbY10mJnR5cGVvZiBtZXRob2Q9PSJmdW5jdGlvbiImJm1ldGhvZC5jYWxsKXthW2NdPW1ldGhvZH19fTt2YXIgRW51bWVyYWJsZT1Nb2R1bGUuZXh0ZW5kKHtldmVyeTpmdW5jdGlvbihjLGQsZSl7dmFyIGY9dHJ1ZTt0cnl7dGhpcy5mb3JFYWNoKGMsZnVuY3Rpb24oYSxiKXtmPWQuY2FsbChlLGEsYixjKTtpZighZil0aHJvdyBTdG9wSXRlcmF0aW9uO30pfWNhdGNoKGVycm9yKXtpZihlcnJvciE9U3RvcEl0ZXJhdGlvbil0aHJvdyBlcnJvcjt9cmV0dXJuISFmfSxmaWx0ZXI6ZnVuY3Rpb24oZCxlLGYpe3ZhciBpPTA7cmV0dXJuIHRoaXMucmVkdWNlKGQsZnVuY3Rpb24oYSxiLGMpe2lmKGUuY2FsbChmLGIsYyxkKSl7YVtpKytdPWJ9cmV0dXJuIGF9LFtdKX0saW52b2tlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9c2xpY2UoYXJndW1lbnRzLDIpO3JldHVybiB0aGlzLm1hcChiLCh0eXBlb2YgYz09ImZ1bmN0aW9uIik/ZnVuY3Rpb24oYSl7cmV0dXJuKGE9PW51bGwpP3VuZGVmaW5lZDpjLmFwcGx5KGEsZCl9OmZ1bmN0aW9uKGEpe3JldHVybihhPT1udWxsKT91bmRlZmluZWQ6YVtjXS5hcHBseShhLGQpfSl9LG1hcDpmdW5jdGlvbihjLGQsZSl7dmFyIGY9W10saT0wO3RoaXMuZm9yRWFjaChjLGZ1bmN0aW9uKGEsYil7ZltpKytdPWQuY2FsbChlLGEsYixjKX0pO3JldHVybiBmfSxwbHVjazpmdW5jdGlvbihiLGMpe3JldHVybiB0aGlzLm1hcChiLGZ1bmN0aW9uKGEpe3JldHVybihhPT1udWxsKT91bmRlZmluZWQ6YVtjXX0pfSxyZWR1Y2U6ZnVuY3Rpb24oYyxkLGUsZil7dmFyIGc9YXJndW1lbnRzLmxlbmd0aD4yO3RoaXMuZm9yRWFjaChjLGZ1bmN0aW9uKGEsYil7aWYoZyl7ZT1kLmNhbGwoZixlLGEsYixjKX1lbHNle2U9YTtnPXRydWV9fSk7cmV0dXJuIGV9LHNvbWU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiF0aGlzLmV2ZXJ5KGEsbm90KGIpLGMpfX0se2ZvckVhY2g6Zm9yRWFjaH0pO3ZhciBfMTQ9IiMiO3ZhciBNYXA9QmFzZS5leHRlbmQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3RoaXMubWVyZ2UoYSl9LGNvcHk6ZGVsZWdhdGUoY29weSksZm9yRWFjaDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiB0aGlzKWlmKGMuY2hhckF0KDApPT1fMTQpe2EuY2FsbChiLHRoaXNbY10sYy5zbGljZSgxKSx0aGlzKX19LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1tfMTQrYV19LGdldEtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZmxpcChJKSl9LGdldFZhbHVlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChJKX0saGFzOmZ1bmN0aW9uKGEpey8qQGNjX29uQCovLypAaWYoQF9qc2NyaXB0X3ZlcnNpb248NS41KXJldHVybiAkTGVnYWN5Lmhhcyh0aGlzLF8xNCthKTtAZWxzZUAqL3JldHVybiBfMTQrYSBpbiB0aGlzOy8qQGVuZEAqL30sbWVyZ2U6ZnVuY3Rpb24oYil7dmFyIGM9ZmxpcCh0aGlzLnB1dCk7Zm9yRWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSl7Zm9yRWFjaChhLGMsdGhpcyl9LHRoaXMpO3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXNbXzE0K2FdfSxwdXQ6ZnVuY3Rpb24oYSxiKXtpZihhcmd1bWVudHMubGVuZ3RoPT0xKWI9YTt0aGlzW18xNCthXT1ifSxzaXplOmZ1bmN0aW9uKCl7dmFyIGE9MDtmb3IodmFyIGIgaW4gdGhpcylpZihiLmNoYXJBdCgwKT09XzE0KWErKztyZXR1cm4gYX0sdW5pb246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWVyZ2UuYXBwbHkodGhpcy5jb3B5KCksYXJndW1lbnRzKX19KTtNYXAuaW1wbGVtZW50KEVudW1lcmFibGUpO3ZhciBfMTU9In4iO3ZhciBDb2xsZWN0aW9uPU1hcC5leHRlbmQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3RoaXNbXzE1XT1uZXcgQXJyYXkyO3RoaXMuYmFzZShhKX0sYWRkOmZ1bmN0aW9uKGEsYil7YXNzZXJ0KCF0aGlzLmhhcyhhKSwiRHVwbGljYXRlIGtleSAnIithKyInLiIpO3RoaXMucHV0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY29weTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYmFzZSgpO2FbXzE1XT10aGlzW18xNV0uY29weSgpO3JldHVybiBhfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1tfMTVdO3ZhciBkPWMubGVuZ3RoO2Zvcih2YXIgaT0wO2k8ZDtpKyspe2EuY2FsbChiLHRoaXNbXzE0K2NbaV1dLGNbaV0sdGhpcyl9fSxnZXRBdDpmdW5jdGlvbihhKXtpZihhPDApYSs9dGhpc1tfMTVdLmxlbmd0aDt2YXIgYj10aGlzW18xNV1bYV07cmV0dXJuKGI9PT11bmRlZmluZWQpP3VuZGVmaW5lZDp0aGlzW18xNCtiXX0sZ2V0S2V5czpmdW5jdGlvbigpe3JldHVybiB0aGlzW18xNV0uY29uY2F0KCl9LGluZGV4T2Y6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbXzE1XS5pbmRleE9mKFN0cmluZyhhKSl9LGluc2VydEF0OmZ1bmN0aW9uKGEsYixjKXthc3NlcnQoTWF0aC5hYnMoYSk8dGhpc1tfMTVdLmxlbmd0aCwiSW5kZXggb3V0IG9mIGJvdW5kcy4iKTthc3NlcnQoIXRoaXMuaGFzKGIpLCJEdXBsaWNhdGUga2V5ICciK2IrIicuIik7dGhpc1tfMTVdLmluc2VydEF0KGEsU3RyaW5nKGIpKTt0aGlzLnB1dC5hcHBseSh0aGlzLHNsaWNlKGFyZ3VtZW50cywxKSl9LGl0ZW06VW5kZWZpbmVkLHB1dDpmdW5jdGlvbihhLGIpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PTEpYj1hO2lmKCF0aGlzLmhhcyhhKSl7dGhpc1tfMTVdLnB1c2goU3RyaW5nKGEpKX12YXIgYz10aGlzLmNvbnN0cnVjdG9yO2lmKGMuSXRlbSYmIWluc3RhbmNlT2YoYixjLkl0ZW0pKXtiPWMuY3JlYXRlLmFwcGx5KGMsYXJndW1lbnRzKX10aGlzW18xNCthXT1ifSxwdXRBdDpmdW5jdGlvbihhLGIpe2Fzc2VydChNYXRoLmFicyhhKTx0aGlzW18xNV0ubGVuZ3RoLCJJbmRleCBvdXQgb2YgYm91bmRzLiIpO2FyZ3VtZW50c1swXT10aGlzW18xNV0uaXRlbShhKTt0aGlzLnB1dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHJlbW92ZTpmdW5jdGlvbihhKXtpZih0aGlzLmhhcyhhKSl7dGhpc1tfMTVdLnJlbW92ZShTdHJpbmcoYSkpO2RlbGV0ZSB0aGlzW18xNCthXX19LHJlbW92ZUF0OmZ1bmN0aW9uKGEpe3RoaXNbXzE1XS5yZW1vdmVBdChhKTtkZWxldGUgdGhpc1tfMTQra2V5XX0scmV2ZXJzZTpmdW5jdGlvbigpe3RoaXNbXzE1XS5yZXZlcnNlKCk7cmV0dXJuIHRoaXN9LHNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMTVdLmxlbmd0aH0sc29ydDpmdW5jdGlvbihjKXtpZihjKXt2YXIgZD10aGlzO3RoaXNbXzE1XS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGMoZFtfMTQrYV0sZFtfMTQrYl0sYSxiKX0pfWVsc2UgdGhpc1tfMTVdLnNvcnQoKTtyZXR1cm4gdGhpc30sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nKHRoaXNbXzE1XSl9fSx7SXRlbTpudWxsLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnByb3RvdHlwZS5pdGVtPXRoaXMucHJvdG90eXBlLmdldEF0fSxjcmVhdGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5JdGVtP25ldyB0aGlzLkl0ZW0oYSxiKTpifSxleHRlbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmJhc2UoYSk7Yy5jcmVhdGU9dGhpcy5jcmVhdGU7ZXh0ZW5kKGMsYik7aWYoIWMuSXRlbSl7Yy5JdGVtPXRoaXMuSXRlbX1lbHNlIGlmKHR5cGVvZiBjLkl0ZW0hPSJmdW5jdGlvbiIpe2MuSXRlbT0odGhpcy5JdGVtfHxCYXNlKS5leHRlbmQoYy5JdGVtKX1jLmluaXQoKTtyZXR1cm4gY319KTt2YXIgXzE2PS9cXChcZCspL2csXzE3PS9cXC4vZyxfMTg9L1woXD9bOj0hXXxcW1teXF1dK1xdL2csXzE5PS9cKC9nLF8yMD0vXCQoXGQrKS8sXzIxPS9eXCRcZCskLzt2YXIgUmVnR3JwPUNvbGxlY3Rpb24uZXh0ZW5kKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihhLGIpe3RoaXMuYmFzZShhKTtpZih0eXBlb2YgYj09InN0cmluZyIpe3RoaXMuZ2xvYmFsPS9nLy50ZXN0KGIpO3RoaXMuaWdub3JlQ2FzZT0vaS8udGVzdChiKX19LGdsb2JhbDp0cnVlLGlnbm9yZUNhc2U6ZmFsc2UsZXhlYzpmdW5jdGlvbihoLGope3ZhciBrPSh0aGlzLmdsb2JhbD8iZyI6IiIpKyh0aGlzLmlnbm9yZUNhc2U/ImkiOiIiKTtoPVN0cmluZyhoKSsiIjtpZihhcmd1bWVudHMubGVuZ3RoPT0xKXt2YXIgbD10aGlzO3ZhciBtPXRoaXNbXzE1XTtqPWZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiLGM9MSxpPTA7d2hpbGUoKGI9bFtfMTQrbVtpKytdXSkpe3ZhciBkPWMrYi5sZW5ndGgrMTtpZihhcmd1bWVudHNbY10pe3ZhciBlPWIucmVwbGFjZW1lbnQ7c3dpdGNoKHR5cGVvZiBlKXtjYXNlImZ1bmN0aW9uIjp2YXIgZj1zbGljZShhcmd1bWVudHMsYyxkKTt2YXIgZz1hcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXTtyZXR1cm4gZS5hcHBseShsLGYuY29uY2F0KGcsaCkpO2Nhc2UibnVtYmVyIjpyZXR1cm4gYXJndW1lbnRzW2MrZV07ZGVmYXVsdDpyZXR1cm4gZX19Yz1kfX1yZXR1cm4iIn19cmV0dXJuIGgucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMsayksail9LGluc2VydEF0OmZ1bmN0aW9uKGEsYixjKXtpZihpbnN0YW5jZU9mKGIsUmVnRXhwKSl7YXJndW1lbnRzWzFdPWIuc291cmNlfXJldHVybiBiYXNlKHRoaXMsYXJndW1lbnRzKX0sdGVzdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5leGVjKGEpIT1hfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBlPTA7cmV0dXJuIigiK3RoaXMubWFwKGZ1bmN0aW9uKGMpe3ZhciBkPVN0cmluZyhjKS5yZXBsYWNlKF8xNixmdW5jdGlvbihhLGIpe3JldHVybiJcXCIrKDErTnVtYmVyKGIpK2UpfSk7ZSs9Yy5sZW5ndGgrMTtyZXR1cm4gZH0pLmpvaW4oIil8KCIpKyIpIn19LHtJR05PUkU6IiQwIixpbml0OmZ1bmN0aW9uKCl7Zm9yRWFjaCgiYWRkLGdldCxoYXMscHV0LHJlbW92ZSIuc3BsaXQoIiwiKSxmdW5jdGlvbihiKXtfMjIodGhpcyxiLGZ1bmN0aW9uKGEpe2lmKGEmJmEuc291cmNlKXthcmd1bWVudHNbMF09YS5zb3VyY2V9cmV0dXJuIGJhc2UodGhpcyxhcmd1bWVudHMpfSl9LHRoaXMucHJvdG90eXBlKX0sSXRlbTp7Y29uc3RydWN0b3I6ZnVuY3Rpb24oYSxiKXthPShhJiZhLnNvdXJjZSk/YS5zb3VyY2U6U3RyaW5nKGEpO2lmKHR5cGVvZiBiPT0ibnVtYmVyIiliPVN0cmluZyhiKTtlbHNlIGlmKGI9PW51bGwpYj0iIjtpZih0eXBlb2YgYj09InN0cmluZyImJl8yMC50ZXN0KGIpKXtpZihfMjEudGVzdChiKSl7Yj1wYXJzZUludChiLnNsaWNlKDEpKX1lbHNle3ZhciBRPS8nLy50ZXN0KGIucmVwbGFjZSgvXFwuL2csIiIpKT8nIic6IiciO2I9Yi5yZXBsYWNlKC9cbi9nLCJcXG4iKS5yZXBsYWNlKC9cci9nLCJcXHIiKS5yZXBsYWNlKC9cJChcZCspL2csUSsiKyhhcmd1bWVudHNbJDFdfHwiK1ErUSsiKSsiK1EpO2I9bmV3IEZ1bmN0aW9uKCJyZXR1cm4gIitRK2IucmVwbGFjZSgvKFsnIl0pXDFcKyguKilcK1wxXDEkLywiJDEiKStRKX19dGhpcy5sZW5ndGg9UmVnR3JwLmNvdW50KGEpO3RoaXMucmVwbGFjZW1lbnQ9Yjt0aGlzLnRvU3RyaW5nPUsoYSl9LGxlbmd0aDowLHJlcGxhY2VtZW50OiIifSxjb3VudDpmdW5jdGlvbihhKXthPVN0cmluZyhhKS5yZXBsYWNlKF8xNywiIikucmVwbGFjZShfMTgsIiIpO3JldHVybiBtYXRjaChhLF8xOSkubGVuZ3RofX0pO3ZhciBKYXZhU2NyaXB0PXtuYW1lOiJKYXZhU2NyaXB0Iix2ZXJzaW9uOmJhc2UyLnZlcnNpb24sZXhwb3J0czoiQXJyYXkyLCBEYXRlMiwgU3RyaW5nMiIsbmFtZXNwYWNlOiIiLGJpbmQ6ZnVuY3Rpb24oYyl7Zm9yRWFjaCh0aGlzLmV4cG9ydHMubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhKXt2YXIgYj1hLnNsaWNlKDAsLTEpO2V4dGVuZChjW2JdLHRoaXNbYV0pO3RoaXNbYV0oY1tiXS5wcm90b3R5cGUpfSx0aGlzKX19O2lmKChuZXcgRGF0ZSkuZ2V0WWVhcigpPjE5MDApe0RhdGUucHJvdG90eXBlLmdldFllYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRGdWxsWWVhcigpLTE5MDB9O0RhdGUucHJvdG90eXBlLnNldFllYXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2V0RnVsbFllYXIoYSsxOTAwKX19RnVuY3Rpb24ucHJvdG90eXBlLnByb3RvdHlwZT17fTtpZigiIi5yZXBsYWNlKC9eLyxLKCIkJCIpKT09IiQiKXtleHRlbmQoU3RyaW5nLnByb3RvdHlwZSwicmVwbGFjZSIsZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYj09ImZ1bmN0aW9uIil7dmFyIGM9YjtiPWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZyhjLmFwcGx5KG51bGwsYXJndW1lbnRzKSkuc3BsaXQoIiQiKS5qb2luKCIkJCIpfX1yZXR1cm4gdGhpcy5iYXNlKGEsYil9KX12YXIgQXJyYXkyPV8yMyhBcnJheSxBcnJheSwiY29uY2F0LGpvaW4scG9wLHB1c2gscmV2ZXJzZSxzaGlmdCxzbGljZSxzb3J0LHNwbGljZSx1bnNoaWZ0IixbRW51bWVyYWJsZSx7Y29tYmluZTpmdW5jdGlvbihkLGUpe2lmKCFlKWU9ZDtyZXR1cm4gdGhpcy5yZWR1Y2UoZCxmdW5jdGlvbihhLGIsYyl7YVtiXT1lW2NdO3JldHVybiBhfSx7fSl9LGNvbnRhaW5zOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW5kZXhPZihhLGIpIT0tMX0sY29weTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNsaWNlKGEpO2lmKCFiLnN3YXApdGhpcyhiKTtyZXR1cm4gYn0sZmxhdHRlbjpmdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5yZWR1Y2UoYyxmdW5jdGlvbihhLGIpe2lmKHRoaXMubGlrZShiKSl7dGhpcy5yZWR1Y2UoYixhcmd1bWVudHMuY2FsbGVlLGEsdGhpcyl9ZWxzZXthLnB1c2goYil9cmV0dXJuIGF9LFtdLHRoaXMpfSxmb3JFYWNoOl8yNCxpbmRleE9mOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmxlbmd0aDtpZihjPT1udWxsKXtjPTB9ZWxzZSBpZihjPDApe2M9TWF0aC5tYXgoMCxkK2MpfWZvcih2YXIgaT1jO2k8ZDtpKyspe2lmKGFbaV09PT1iKXJldHVybiBpfXJldHVybi0xfSxpbnNlcnRBdDpmdW5jdGlvbihhLGIsYyl7dGhpcy5zcGxpY2UoYSxiLDAsYyk7cmV0dXJuIGN9LGl0ZW06ZnVuY3Rpb24oYSxiKXtpZihiPDApYis9YS5sZW5ndGg7cmV0dXJuIGFbYl19LGxhc3RJbmRleE9mOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmxlbmd0aDtpZihjPT1udWxsKXtjPWQtMX1lbHNlIGlmKGZyb208MCl7Yz1NYXRoLm1heCgwLGQrYyl9Zm9yKHZhciBpPWM7aT49MDtpLS0pe2lmKGFbaV09PT1iKXJldHVybiBpfXJldHVybi0xfSxtYXA6ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPVtdO3RoaXMuZm9yRWFjaChjLGZ1bmN0aW9uKGEsYil7ZltiXT1kLmNhbGwoZSxhLGIsYyl9KTtyZXR1cm4gZn0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5pbmRleE9mKGEsYik7aWYoYyE9LTEpdGhpcy5yZW1vdmVBdChhLGMpO3JldHVybiBifSxyZW1vdmVBdDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNwbGljZShhLGIsMSl9LHN3YXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWFbYl07YVtiXT1hW2NdO2FbY109ZDtyZXR1cm4gYX19XSk7QXJyYXkyLnJlZHVjZT1FbnVtZXJhYmxlLnJlZHVjZTtBcnJheTIubGlrZT1mdW5jdGlvbihhKXtyZXR1cm4hIShhJiZ0eXBlb2YgYT09Im9iamVjdCImJnR5cGVvZiBhLmxlbmd0aD09Im51bWJlciIpfTt2YXIgXzI1PS9eKCgtXGQrfFxkezQsfSkoLShcZHsyfSkoLShcZHsyfSkpPyk/KT9UKChcZHsyfSkoOihcZHsyfSkoOihcZHsyfSkoXC4oXGR7MSwzfSkoXGQpP1xkKik/KT8pPyk/KChbKy1dKShcZHsyfSkoOihcZHsyfSkpP3xaKT8kLzt2YXIgXzI2PXtGdWxsWWVhcjoyLE1vbnRoOjQsRGF0ZTo2LEhvdXJzOjgsTWludXRlczoxMCxTZWNvbmRzOjEyLE1pbGxpc2Vjb25kczoxNH07dmFyIF8yNz17SGVjdG9taWNyb3NlY29uZHM6MTUsVVRDOjE2LFNpZ246MTcsSG91cnM6MTgsTWludXRlczoyMH07dmFyIF8yOD0vKCgoMDApPzowKyk/OjArKT9cLjArJC87dmFyIF8yOT0vKFRbMC05Oi5dKykkLzt2YXIgRGF0ZTI9XzIzKERhdGUsZnVuY3Rpb24oYSxiLGMsaCxtLHMsZCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IERhdGU7Y2FzZSAxOnJldHVybiBuZXcgRGF0ZShhKTtkZWZhdWx0OnJldHVybiBuZXcgRGF0ZShhLGIsYXJndW1lbnRzLmxlbmd0aD09Mj8xOmMsaHx8MCxtfHwwLHN8fDAsZHx8MCl9fSwiIixbe3RvSVNPU3RyaW5nOmZ1bmN0aW9uKGMpe3ZhciBkPSIjIyMjLSMjLSMjVCMjOiMjOiMjLiMjIyI7Zm9yKHZhciBlIGluIF8yNil7ZD1kLnJlcGxhY2UoLyMrLyxmdW5jdGlvbihhKXt2YXIgYj1jWyJnZXRVVEMiK2VdKCk7aWYoZT09Ik1vbnRoIiliKys7cmV0dXJuKCIwMDAiK2IpLnNsaWNlKC1hLmxlbmd0aCl9KX1yZXR1cm4gZC5yZXBsYWNlKF8yOCwiIikucmVwbGFjZShfMjksIiQxWiIpfX1dKTtEYXRlMi5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLnZhbHVlT2YoKX07RGF0ZTIucGFyc2U9ZnVuY3Rpb24oYSxiKXtpZihhcmd1bWVudHMubGVuZ3RoPjEpe2Fzc2VydFR5cGUoYiwibnVtYmVyIiwiZGVmYXVsdERhdGUgc2hvdWxkIGJlIG9mIHR5cGUgJ251bWJlcicuIil9dmFyIGM9U3RyaW5nKGEpLm1hdGNoKF8yNSk7aWYoYyl7aWYoY1tfMjYuTW9udGhdKWNbXzI2Lk1vbnRoXS0tO2lmKGNbXzI3LkhlY3RvbWljcm9zZWNvbmRzXT49NSljW18yNi5NaWxsaXNlY29uZHNdKys7dmFyIGQ9bmV3IERhdGUoYnx8MCk7dmFyIGU9Y1tfMjcuVVRDXXx8Y1tfMjcuSG91cnNdPyJVVEMiOiIiO2Zvcih2YXIgZiBpbiBfMjYpe3ZhciB2YWx1ZT1jW18yNltmXV07aWYoIXZhbHVlKWNvbnRpbnVlO2RbInNldCIrZStmXSh2YWx1ZSk7aWYoZFsiZ2V0IitlK2ZdKCkhPWNbXzI2W2ZdXSl7cmV0dXJuIE5hTn19aWYoY1tfMjcuSG91cnNdKXt2YXIgZz1OdW1iZXIoY1tfMjcuU2lnbl0rY1tfMjcuSG91cnNdKTt2YXIgaD1OdW1iZXIoY1tfMjcuU2lnbl0rKGNbXzI3Lk1pbnV0ZXNdfHwwKSk7ZC5zZXRVVENNaW51dGVzKGQuZ2V0VVRDTWludXRlcygpKyhnKjYwKStoKX1yZXR1cm4gZC52YWx1ZU9mKCl9ZWxzZXtyZXR1cm4gRGF0ZS5wYXJzZShhKX19O3ZhciBTdHJpbmcyPV8yMyhTdHJpbmcsZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBTdHJpbmcoYXJndW1lbnRzLmxlbmd0aD09MD8iIjphKX0sImNoYXJBdCxjaGFyQ29kZUF0LGNvbmNhdCxpbmRleE9mLGxhc3RJbmRleE9mLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNsaWNlLHNwbGl0LHN1YnN0cixzdWJzdHJpbmcsdG9Mb3dlckNhc2UsdG9VcHBlckNhc2UiLFt7dHJpbTp0cmltfV0pO2Z1bmN0aW9uIF8yMyhjLGQsZSxmKXt2YXIgZz1Nb2R1bGUuZXh0ZW5kKCk7Zm9yRWFjaChlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oYSl7Z1thXT11bmJpbmQoYy5wcm90b3R5cGVbYV0pfSk7Zm9yRWFjaChmLGcuaW1wbGVtZW50LGcpO3ZhciBoPWZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcy5jb25zdHJ1Y3Rvcj09Zz9kLmFwcGx5KG51bGwsYXJndW1lbnRzKTphcmd1bWVudHNbMF0pfTtoLnByb3RvdHlwZT1nLnByb3RvdHlwZTtmb3JFYWNoKGcsZnVuY3Rpb24oYSxiKXtpZihjW2JdKXtkZWxldGUgZy5wcm90b3R5cGVbYl19aFtiXT1nW2JdfSk7aC5hbmNlc3Rvcj1PYmplY3Q7ZGVsZXRlIGguZXh0ZW5kO2lmKGMhPUFycmF5KWRlbGV0ZSBoLmZvckVhY2g7cmV0dXJuIGh9O2Z1bmN0aW9uIGV4dGVuZChhLGIpe2lmKGEmJmIpe2lmKGFyZ3VtZW50cy5sZW5ndGg+Mil7dmFyIGM9YjtiPXt9O2JbY109YXJndW1lbnRzWzJdfXZhciBkPSh0eXBlb2YgYj09ImZ1bmN0aW9uIj9GdW5jdGlvbjpPYmplY3QpLnByb3RvdHlwZTt2YXIgaT1fNS5sZW5ndGgsYztpZihiYXNlMi5fX3Byb3RvdHlwaW5nKXt3aGlsZSgoYz1fNVstLWldKSl7dmFyIGY9YltjXTtpZihmIT1kW2NdKXtpZihfNC50ZXN0KGYpKXtfMjIoYSxjLGYpfWVsc2V7YVtjXT1mfX19fWZvcihjIGluIGIpe2lmKGRbY109PT11bmRlZmluZWQpe3ZhciBmPWJbY107aWYoYy5jaGFyQXQoMCk9PSJAIiYmZGV0ZWN0KGMuc2xpY2UoMSkpKXthcmd1bWVudHMuY2FsbGVlKGEsZik7Y29udGludWV9dmFyIGg9YVtjXTtpZihoJiZ0eXBlb2YgZj09ImZ1bmN0aW9uIil7aWYoZiE9aCYmKCFoLm1ldGhvZHx8IV8xMShmLGgpKSl7aWYoZi5fX2Jhc2V8fF80LnRlc3QoZikpe18yMihhLGMsZil9ZWxzZXthW2NdPWZ9fX1lbHNle2FbY109Zn19fX1yZXR1cm4gYX07ZnVuY3Rpb24gXzExKGEsYil7d2hpbGUoYil7aWYoIWIuYW5jZXN0b3IpcmV0dXJuIGZhbHNlO2I9Yi5hbmNlc3RvcjtpZihiPT1hKXJldHVybiB0cnVlfXJldHVybiBmYWxzZX07ZnVuY3Rpb24gXzIyKGMsZCxlKXt2YXIgZj1jW2RdO2Z1bmN0aW9uIF8zMCgpe3ZhciBhPXRoaXMuYmFzZTt0aGlzLmJhc2U9Zjt2YXIgYj1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmJhc2U9YTtyZXR1cm4gYn07XzMwLmFuY2VzdG9yPWY7XzMwLm1ldGhvZD1lO18zMC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcoZSl9O2NbZF09XzMwfTtpZih0eXBlb2YgU3RvcEl0ZXJhdGlvbj09InVuZGVmaW5lZCIpe1N0b3BJdGVyYXRpb249bmV3IEVycm9yKCJTdG9wSXRlcmF0aW9uIil9ZnVuY3Rpb24gZm9yRWFjaChhLGIsYyxkKXtpZihhPT1udWxsKXJldHVybjtpZighZCl7aWYodHlwZW9mIGE9PSJmdW5jdGlvbiImJmEuY2FsbCl7ZD1GdW5jdGlvbn1lbHNlIGlmKHR5cGVvZiBhLmZvckVhY2g9PSJmdW5jdGlvbiImJmEuZm9yRWFjaCE9YXJndW1lbnRzLmNhbGxlZSl7YS5mb3JFYWNoKGIsYyk7cmV0dXJufWVsc2UgaWYodHlwZW9mIGEubGVuZ3RoPT0ibnVtYmVyIil7XzI0KGEsYixjKTtyZXR1cm59fV84KGR8fE9iamVjdCxhLGIsYyl9O2Z1bmN0aW9uIF8yNChhLGIsYyl7aWYoYT09bnVsbClyZXR1cm47dmFyIGQ9YS5sZW5ndGgsaTtpZih0eXBlb2YgYT09InN0cmluZyIpe2ZvcihpPTA7aTxkO2krKyl7Yi5jYWxsKGMsYS5jaGFyQXQoaSksaSxhKX19ZWxzZXtmb3IoaT0wO2k8ZDtpKyspey8qQGNjX29uQCovLypAaWYoQF9qc2NyaXB0X3ZlcnNpb248NS4yKWlmKGFbaV0hPT11bmRlZmluZWR8fCRMZWdhY3kuaGFzKGEsaSkpQGVsc2VAKi9pZihpIGluIGEpLypAZW5kQCovYi5jYWxsKGMsYVtpXSxpLGEpfX19O2Z1bmN0aW9uIF84KGcsaCxqLGspe3ZhciBsPWZ1bmN0aW9uKCl7dGhpcy5pPTF9O2wucHJvdG90eXBlPXtpOjF9O3ZhciBtPTA7Zm9yKHZhciBpIGluIG5ldyBsKW0rKztfOD0obT4xKT9mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17fTtmb3IodmFyIGYgaW4gYil7aWYoIWVbZl0mJmEucHJvdG90eXBlW2ZdPT09dW5kZWZpbmVkKXtlW2ZdPXRydWU7Yy5jYWxsKGQsYltmXSxmLGIpfX19OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSBpbiBiKXtpZihhLnByb3RvdHlwZVtlXT09PXVuZGVmaW5lZCl7Yy5jYWxsKGQsYltlXSxlLGIpfX19O184KGcsaCxqLGspfTtmdW5jdGlvbiBpbnN0YW5jZU9mKGEsYil7aWYodHlwZW9mIGIhPSJmdW5jdGlvbiIpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgJ2luc3RhbmNlT2YnIG9wZXJhbmQuIik7fWlmKGE9PW51bGwpcmV0dXJuIGZhbHNlOy8qQGNjX29uQCovLypAaWYoQF9qc2NyaXB0X3ZlcnNpb248NS4xKWlmKCRMZWdhY3kuaW5zdGFuY2VPZihhLGIpKXJldHVybiB0cnVlO0BlbHNlQCovaWYoYSBpbnN0YW5jZW9mIGIpcmV0dXJuIHRydWU7LypAZW5kQCovaWYoQmFzZS5hbmNlc3Rvck9mPT1iLmFuY2VzdG9yT2YpcmV0dXJuIGZhbHNlO3ZhciBjPWEuY29uc3RydWN0b3I7aWYodHlwZW9mIGMhPSJmdW5jdGlvbiIpcmV0dXJuIGZhbHNlO2lmKEJhc2UuYW5jZXN0b3JPZj09Yy5hbmNlc3Rvck9mKXJldHVybiBiPT1PYmplY3Q7c3dpdGNoKGIpe2Nhc2UgQXJyYXk6cmV0dXJuISEodHlwZW9mIGE9PSJvYmplY3QiJiZhLmpvaW4mJmEuc3BsaWNlKTtjYXNlIEZ1bmN0aW9uOnJldHVybiEhKHR5cGVvZiBhPT0iZnVuY3Rpb24iJiZhLmNhbGwpO2Nhc2UgUmVnRXhwOnJldHVybiBjLnByb3RvdHlwZS50b1N0cmluZygpPT1fNjtjYXNlIERhdGU6cmV0dXJuISFhLmdldFRpbWV6b25lT2Zmc2V0O2Nhc2UgU3RyaW5nOmNhc2UgTnVtYmVyOmNhc2UgQm9vbGVhbjpyZXR1cm4gdHlwZW9mIGE9PXR5cGVvZiBiLnByb3RvdHlwZS52YWx1ZU9mKCk7Y2FzZSBPYmplY3Q6cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfTtmdW5jdGlvbiBhc3NlcnQoYSxiLGMpe2lmKCFhKXt0aHJvdyBuZXcoY3x8RXJyb3IpKGJ8fCJBc3NlcnRpb24gZmFpbGVkLiIpO319O2Z1bmN0aW9uIGFzc2VydEFyaXR5KGEsYixjKXtpZihiPT1udWxsKWI9YS5jYWxsZWUubGVuZ3RoO2lmKGEubGVuZ3RoPGIpe3Rocm93IG5ldyBTeW50YXhFcnJvcihjfHwiTm90IGVub3VnaCBhcmd1bWVudHMuIik7fX07ZnVuY3Rpb24gYXNzZXJ0VHlwZShhLGIsYyl7aWYoYiYmKHR5cGVvZiBiPT0iZnVuY3Rpb24iPyFpbnN0YW5jZU9mKGEsYik6dHlwZW9mIGEhPWIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGN8fCJJbnZhbGlkIHR5cGUuIik7fX07ZnVuY3Rpb24gYXNzaWduSUQoYSl7aWYoIWEuYmFzZTJJRClhLmJhc2UySUQ9ImIyXyIrY291bnRlcigpO3JldHVybiBhLmJhc2UySUR9O2Z1bmN0aW9uIGNvdW50ZXIoKXtyZXR1cm4gXzcrK307ZnVuY3Rpb24gY29weShhKXt2YXIgYj1mdW5jdGlvbigpe307Yi5wcm90b3R5cGU9YTtyZXR1cm4gbmV3IGJ9O2Z1bmN0aW9uIGZvcm1hdChjKXt2YXIgZD1hcmd1bWVudHM7dmFyIGU9bmV3IFJlZ0V4cCgiJShbMS0iK2FyZ3VtZW50cy5sZW5ndGgrIl0pIiwiZyIpO3JldHVybiBTdHJpbmcoYykucmVwbGFjZShlLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI8ZC5sZW5ndGg/ZFtiXTphfSl9O2Z1bmN0aW9uIG1hdGNoKGEsYil7cmV0dXJuIFN0cmluZyhhKS5tYXRjaChiKXx8W119O2Z1bmN0aW9uIHJlc2NhcGUoYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKF8zLCJcXCQxIil9O2Z1bmN0aW9uIHRyaW0oYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKF8xLCIiKS5yZXBsYWNlKF8yLCIiKX07ZnVuY3Rpb24gSShpKXtyZXR1cm4gaX07ZnVuY3Rpb24gSyhrKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4ga319O2Z1bmN0aW9uIGJpbmQoYSxiKXt2YXIgYz1zbGljZShhcmd1bWVudHMsMik7dmFyIGQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLGMuY29uY2F0KHNsaWNlKGFyZ3VtZW50cykpKX07ZC5fMzE9YXNzaWduSUQoYSk7cmV0dXJuIGR9O2Z1bmN0aW9uIGRlbGVnYXRlKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixbdGhpc10uY29uY2F0KHNsaWNlKGFyZ3VtZW50cykpKX19O2Z1bmN0aW9uIGZsaXAoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkodGhpcyxBcnJheTIuc3dhcChhcmd1bWVudHMsMCwxKSl9fTtmdW5jdGlvbiBub3QoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIWEuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07ZnVuY3Rpb24gcGFydGlhbChhKXt2YXIgYj1zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseSh0aGlzLGIuY29uY2F0KHNsaWNlKGFyZ3VtZW50cykpKX19O2Z1bmN0aW9uIHVuYmluZChiKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGIuYXBwbHkoYSxzbGljZShhcmd1bWVudHMsMSkpfX07YmFzZTI9bmV3IFBhY2thZ2UodGhpcyxiYXNlMik7ZXZhbCh0aGlzLmV4cG9ydHMpO2Jhc2UyLmV4dGVuZD1leHRlbmQ7Zm9yRWFjaChFbnVtZXJhYmxlLGZ1bmN0aW9uKGEsYil7aWYoIU1vZHVsZVtiXSliYXNlMi5hZGROYW1lKGIsYmluZChhLEVudW1lcmFibGUpKX0pO0phdmFTY3JpcHQ9bmV3IFBhY2thZ2UodGhpcyxKYXZhU2NyaXB0KTtldmFsKHRoaXMuZXhwb3J0cyl9O25ldyBmdW5jdGlvbihfKXt2YXIgRE9NPW5ldyBiYXNlMi5QYWNrYWdlKHRoaXMse25hbWU6IkRPTSIsdmVyc2lvbjoiMS4wIChiZXRhIDEpIixleHBvcnRzOiJJbnRlcmZhY2UsIEJpbmRpbmcsIE5vZGUsIERvY3VtZW50LCBFbGVtZW50LCBBYnN0cmFjdFZpZXcsIEV2ZW50LCBFdmVudFRhcmdldCwgRG9jdW1lbnRFdmVudCwgIisiTm9kZVNlbGVjdG9yLCBEb2N1bWVudFNlbGVjdG9yLCBFbGVtZW50U2VsZWN0b3IsIFN0YXRpY05vZGVMaXN0LCAiKyJWaWV3Q1NTLCBIVE1MRG9jdW1lbnQsIEhUTUxFbGVtZW50LCBTZWxlY3RvciwgVHJhdmVyc2FsLCBYUGF0aFBhcnNlciIsYmluZDpmdW5jdGlvbihhKXtpZihhJiZhLm5vZGVUeXBlKXt2YXIgYj1hc3NpZ25JRChhKTtpZighYXJndW1lbnRzLmNhbGxlZVtiXSl7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgMTppZih0eXBlb2YgYS5jbGFzc05hbWU9PSJzdHJpbmciKXsoSFRNTEVsZW1lbnQuYmluZGluZ3NbYS50YWdOYW1lXXx8SFRNTEVsZW1lbnQpLmJpbmQoYSl9ZWxzZXtFbGVtZW50LmJpbmQoYSl9YnJlYWs7Y2FzZSA5OmlmKGEud3JpdGVsbil7SFRNTERvY3VtZW50LmJpbmQoYSl9ZWxzZXtEb2N1bWVudC5iaW5kKGEpfWJyZWFrO2RlZmF1bHQ6Tm9kZS5iaW5kKGEpfWFyZ3VtZW50cy5jYWxsZWVbYl09dHJ1ZX19cmV0dXJuIGF9LCJATVNJRTUuK3dpbiI6e2JpbmQ6ZnVuY3Rpb24oYSl7aWYoYSYmYS53cml0ZWxuKXthLm5vZGVUeXBlPTl9cmV0dXJuIHRoaXMuYmFzZShhKX19fSk7ZXZhbCh0aGlzLmltcG9ydHMpO3ZhciBfMzI9ZGV0ZWN0KCJNU0lFIik7dmFyIF8zMz1kZXRlY3QoIk1TSUU1Iik7aWYoZGV0ZWN0KCJNU0lFWzU2XS4rd2luIikmJiFkZXRlY3QoIlNWMSIpKXt2YXIgY2xvc3VyZXM9e307ZXh0ZW5kKGJhc2UyLCJiaW5kIixmdW5jdGlvbihiLGMpe2lmKCFjfHxjLm5vZGVUeXBlIT0xKXtyZXR1cm4gdGhpcy5iYXNlKGIsYyl9dmFyIGQ9Yy51bmlxdWVJRDt2YXIgZT1hc3NpZ25JRChiKTtjbG9zdXJlc1tlXT1iO2I9bnVsbDtjPW51bGw7aWYoIWNsb3N1cmVzW2RdKWNsb3N1cmVzW2RdPXt9O3ZhciBmPWNsb3N1cmVzW2RdW2VdO2lmKGYpcmV0dXJuIGY7dmFyIGc9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5hbGxbZF07cmV0dXJuIGE/Y2xvc3VyZXNbZV0uYXBwbHkoYSxhcmd1bWVudHMpOnVuZGVmaW5lZH07Zy5fMzE9ZTtjbG9zdXJlc1tkXVtlXT1nO3JldHVybiBnfSk7YXR0YWNoRXZlbnQoIm9udW5sb2FkIixmdW5jdGlvbigpe2Nsb3N1cmVzPW51bGx9KX12YXIgSW50ZXJmYWNlPU1vZHVsZS5leHRlbmQobnVsbCx7aW1wbGVtZW50OmZ1bmN0aW9uKGMpe2lmKHR5cGVvZiBjPT0ib2JqZWN0Iil7Zm9yRWFjaChjLGZ1bmN0aW9uKGEsYil7aWYoYi5jaGFyQXQoMCk9PSJAIil7Zm9yRWFjaChhLGFyZ3VtZW50cy5jYWxsZWUsdGhpcyl9ZWxzZSBpZighdGhpc1tiXSYmdHlwZW9mIGE9PSJmdW5jdGlvbiIpe3RoaXMuY3JlYXRlRGVsZWdhdGUoYixhLmxlbmd0aCl9fSx0aGlzKX1yZXR1cm4gdGhpcy5iYXNlKGMpfSxjcmVhdGVEZWxlZ2F0ZTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzW2FdKXt2YXIgYz0idmFyIGZuPWZ1bmN0aW9uIF8lMSglMil7JTMuYmFzZT0lMy4lMS5hbmNlc3Rvcjt2YXIgbT0lMy5iYXNlPydiYXNlJzonJTEnO3JldHVybiAlM1ttXSglNCl9Ijt2YXIgZD0iYWJjZGVmZ2hpaiIuc3BsaXQoIiIpLnNsaWNlKC1iKTtldmFsKGZvcm1hdChjLGEsZCxkWzBdLGQuc2xpY2UoMSkpKTt0aGlzW2FdPWZufX19KTt2YXIgQmluZGluZz1JbnRlcmZhY2UuZXh0ZW5kKG51bGwse2V4dGVuZDpmdW5jdGlvbihkLGEpe2lmKGEmJmEuYmluZCE9RnVuY3Rpb24uYmluZCl7dmFyIGM9YS5iaW5kO2RlbGV0ZSBhLmJpbmR9DQp2YXIgYj10aGlzLmJhc2UoZCxhKTtiLmJpbmQ9dGhpcy5iaW5kO2lmKGMpZXh0ZW5kKGIsImJpbmQiLGMpO3JldHVybiBifSxiaW5kOmZ1bmN0aW9uKGIpe3JldHVybiBleHRlbmQoYix0aGlzLnByb3RvdHlwZSl9fSk7dmFyIE5vZGU9QmluZGluZy5leHRlbmQoeyJAIShlbGVtZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSI6e2NvbXBhcmVEb2N1bWVudFBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7aWYoVHJhdmVyc2FsLmNvbnRhaW5zKGEsYikpe3JldHVybiA0fDE2fWVsc2UgaWYoVHJhdmVyc2FsLmNvbnRhaW5zKGIsYSkpe3JldHVybiAyfDh9dmFyIGM9XzM0KGEpO3ZhciBkPV8zNChiKTtpZihjPGQpe3JldHVybiA0fWVsc2UgaWYoYz5kKXtyZXR1cm4gMn1yZXR1cm4gMH19fSk7dmFyIF8zND1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc291cmNlSW5kZXg/ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc291cmNlSW5kZXh9OmZ1bmN0aW9uKGEpe3ZhciBiPTA7d2hpbGUoYSl7Yj1UcmF2ZXJzYWwuZ2V0Tm9kZUluZGV4KGEpKyIuIitiO2E9YS5wYXJlbnROb2RlfXJldHVybiBifTt2YXIgRG9jdW1lbnQ9Tm9kZS5leHRlbmQobnVsbCx7YmluZDpmdW5jdGlvbihiKXtleHRlbmQoYiwiY3JlYXRlRWxlbWVudCIsZnVuY3Rpb24oYSl7cmV0dXJuIERPTS5iaW5kKHRoaXMuYmFzZShhKSl9KTtBYnN0cmFjdFZpZXcuYmluZChiLmRlZmF1bHRWaWV3KTtpZihiIT13aW5kb3cuZG9jdW1lbnQpbmV3IERPTUNvbnRlbnRMb2FkZWRFdmVudChiKTtyZXR1cm4gdGhpcy5iYXNlKGIpfSwiQCEoZG9jdW1lbnQuZGVmYXVsdFZpZXcpIjp7YmluZDpmdW5jdGlvbihhKXthLmRlZmF1bHRWaWV3PVRyYXZlcnNhbC5nZXREZWZhdWx0VmlldyhhKTtyZXR1cm4gdGhpcy5iYXNlKGEpfX19KTt2YXIgXzM1PS9eKGhyZWZ8c3JjfHR5cGV8dmFsdWUpJC87dmFyIF8zNj17ImNsYXNzIjoiY2xhc3NOYW1lIiwiZm9yIjoiaHRtbEZvciJ9O3ZhciBFbGVtZW50PU5vZGUuZXh0ZW5kKHsiQE1TSUUuK3dpbiI6e2dldEF0dHJpYnV0ZTpmdW5jdGlvbihhLGIsYyl7aWYoYS5jbGFzc05hbWU9PT11bmRlZmluZWQpe3JldHVybiB0aGlzLmJhc2UoYSxiKX12YXIgZD1fMzcoYSxiKTtpZihkJiZkLnNwZWNpZmllZCl7aWYoXzM1LnRlc3QoYikpe3JldHVybiB0aGlzLmJhc2UoYSxiLDIpfWVsc2UgaWYoYj09InN0eWxlIil7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dH1lbHNle3JldHVybiBkLm5vZGVWYWx1ZX19cmV0dXJuIG51bGx9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihhLGIsYyl7aWYoYS5jbGFzc05hbWU9PT11bmRlZmluZWQpe3RoaXMuYmFzZShhLGIsYyl9ZWxzZSBpZihiPT0ic3R5bGUiKXthLnN0eWxlLmNzc1RleHQ9Y31lbHNle3RoaXMuYmFzZShhLF8zNltiXXx8YixTdHJpbmcoYykpfX19LCJAIShlbGVtZW50Lmhhc0F0dHJpYnV0ZSkiOntoYXNBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoYSxiKSE9bnVsbH19fSk7ZXh0ZW5kKEVsZW1lbnQucHJvdG90eXBlLCJjbG9uZU5vZGUiLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYmFzZShhfHxmYWxzZSk7Yi5iYXNlMklEPXVuZGVmaW5lZDtyZXR1cm4gYn0pO2lmKF8zMil7dmFyIG5hbWVzPSJjb2xTcGFuLHJvd1NwYW4sdkFsaWduLGRhdGVUaW1lLGFjY2Vzc0tleSx0YWJJbmRleCxlbmNUeXBlLG1heExlbmd0aCxyZWFkT25seSxsb25nRGVzYyI7ZXh0ZW5kKF8zNixBcnJheTIuY29tYmluZShuYW1lcy50b0xvd2VyQ2FzZSgpLnNwbGl0KCIsIiksbmFtZXMuc3BsaXQoIiwiKSkpO3ZhciBfMzc9XzMzP2Z1bmN0aW9uKGEsYil7cmV0dXJuIGEuYXR0cmlidXRlc1tiXXx8YS5hdHRyaWJ1dGVzW18zNltiLnRvTG93ZXJDYXNlKCldXX06ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGVOb2RlKGIpfX12YXIgVEVYVD1fMzI/ImlubmVyVGV4dCI6InRleHRDb250ZW50Ijt2YXIgVHJhdmVyc2FsPU1vZHVsZS5leHRlbmQoe2dldERlZmF1bHRWaWV3OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldERvY3VtZW50KGEpLmRlZmF1bHRWaWV3fSxnZXROZXh0RWxlbWVudFNpYmxpbmc6ZnVuY3Rpb24oYSl7d2hpbGUoYSYmKGE9YS5uZXh0U2libGluZykmJiF0aGlzLmlzRWxlbWVudChhKSljb250aW51ZTtyZXR1cm4gYX0sZ2V0Tm9kZUluZGV4OmZ1bmN0aW9uKGEpe3ZhciBiPTA7d2hpbGUoYSYmKGE9YS5wcmV2aW91c1NpYmxpbmcpKWIrKztyZXR1cm4gYn0sZ2V0T3duZXJEb2N1bWVudDpmdW5jdGlvbihhKXtyZXR1cm4gYS5vd25lckRvY3VtZW50fSxnZXRQcmV2aW91c0VsZW1lbnRTaWJsaW5nOmZ1bmN0aW9uKGEpe3doaWxlKGEmJihhPWEucHJldmlvdXNTaWJsaW5nKSYmIXRoaXMuaXNFbGVtZW50KGEpKWNvbnRpbnVlO3JldHVybiBhfSxnZXRUZXh0Q29udGVudDpmdW5jdGlvbihhKXtyZXR1cm4gYVtURVhUXX0saXNFbXB0eTpmdW5jdGlvbihhKXthPWEuZmlyc3RDaGlsZDt3aGlsZShhKXtpZihhLm5vZGVUeXBlPT0zfHx0aGlzLmlzRWxlbWVudChhKSlyZXR1cm4gZmFsc2U7YT1hLm5leHRTaWJsaW5nfXJldHVybiB0cnVlfSxzZXRUZXh0Q29udGVudDpmdW5jdGlvbihhLGIpe3JldHVybiBhW1RFWFRdPWJ9LCJATVNJRSI6e2dldERlZmF1bHRWaWV3OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldERvY3VtZW50KGEpLnBhcmVudFdpbmRvd30sIkBNU0lFNSI6e2dldE93bmVyRG9jdW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEub3duZXJEb2N1bWVudHx8YS5kb2N1bWVudH19fX0se2NvbnRhaW5zOmZ1bmN0aW9uKGEsYil7d2hpbGUoYiYmKGI9Yi5wYXJlbnROb2RlKSYmYSE9Yiljb250aW51ZTtyZXR1cm4hIWJ9LGdldERvY3VtZW50OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRG9jdW1lbnQoYSk/YTp0aGlzLmdldE93bmVyRG9jdW1lbnQoYSl9LGlzRG9jdW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuISEoYSYmYS5kb2N1bWVudEVsZW1lbnQpfSxpc0VsZW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuISEoYSYmYS5ub2RlVHlwZT09MSl9LCJAKGVsZW1lbnQuY29udGFpbnMpIjp7Y29udGFpbnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9YiYmKHRoaXMuaXNEb2N1bWVudChhKT9hPT10aGlzLmdldE93bmVyRG9jdW1lbnQoYik6YS5jb250YWlucyhiKSl9fSwiQE1TSUU1Ijp7aXNFbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVybiEhKGEmJmEubm9kZVR5cGU9PTEmJmEudGFnTmFtZSE9IiEiKX19fSk7dmFyIEFic3RyYWN0Vmlldz1CaW5kaW5nLmV4dGVuZCgpO3ZhciBFdmVudD1CaW5kaW5nLmV4dGVuZCh7IkAhKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSI6e2luaXRFdmVudDpmdW5jdGlvbihhLGIsYyxkKXthLnR5cGU9YjthLmJ1YmJsZXM9YzthLmNhbmNlbGFibGU9ZDthLnRpbWVTdGFtcD1uZXcgRGF0ZSgpLnZhbHVlT2YoKX0sIkBNU0lFIjp7aW5pdEV2ZW50OmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuYmFzZShhLGIsYyxkKTthLmNhbmNlbEJ1YmJsZT0hYS5idWJibGVzfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbihhKXtpZihhLmNhbmNlbGFibGUhPT1mYWxzZSl7YS5yZXR1cm5WYWx1ZT1mYWxzZX19LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbihhKXthLmNhbmNlbEJ1YmJsZT10cnVlfX19fSx7IkAhKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSI6eyJATVNJRSI6eyJATWFjIjp7YmluZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iYXNlKGV4dGVuZChjb3B5KGEpLHtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2lmKHRoaXMuY2FuY2VsYWJsZSE9PWZhbHNlKXt0aGlzLnJldHVyblZhbHVlPWZhbHNlfX19KSl9fSwiQFdpbmRvd3MiOntiaW5kOmZ1bmN0aW9uKGEpe2lmKCFhLnRpbWVTdGFtcCl7YS5idWJibGVzPSEhXzM4W2EudHlwZV07YS5jYW5jZWxhYmxlPSEhXzM5W2EudHlwZV07YS50aW1lU3RhbXA9bmV3IERhdGUoKS52YWx1ZU9mKCl9aWYoIWEudGFyZ2V0KXthLnRhcmdldD1hLnNyY0VsZW1lbnR9YS5yZWxhdGVkVGFyZ2V0PWFbKGEudHlwZT09Im1vdXNlb3V0Ij8idG8iOiJmcm9tIikrIkVsZW1lbnQiXTtyZXR1cm4gdGhpcy5iYXNlKGEpfX19fX0pO2lmKF8zMil7dmFyIF8zOD0iYWJvcnQsZXJyb3Isc2VsZWN0LGNoYW5nZSxyZXNpemUsc2Nyb2xsIjt2YXIgXzM5PSJjbGljayxtb3VzZWRvd24sbW91c2V1cCxtb3VzZW92ZXIsbW91c2Vtb3ZlLG1vdXNlb3V0LGtleWRvd24sa2V5dXAsc3VibWl0LHJlc2V0IjtfMzg9QXJyYXkyLmNvbWJpbmUoKF8zOCsiLCIrXzM5KS5zcGxpdCgiLCIpKTtfMzk9QXJyYXkyLmNvbWJpbmUoXzM5LnNwbGl0KCIsIikpfXZhciBFdmVudFRhcmdldD1JbnRlcmZhY2UuZXh0ZW5kKHsiQCEoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKSI6e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YXNzaWduSUQoYSk7dmFyIGY9Yy5fMzF8fGFzc2lnbklEKGMpO3ZhciBnPV80MFtlXTtpZighZylnPV80MFtlXT17fTt2YXIgaD1nW2JdO3ZhciBpPWFbIm9uIitiXTtpZighaCl7aD1nW2JdPXt9O2lmKGkpaFswXT1pfWhbZl09YztpZihpIT09dW5kZWZpbmVkKXthWyJvbiIrYl09ZGVsZWdhdGUoXzQwLmhhbmRsZUV2ZW50KX19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gXzQwLmhhbmRsZUV2ZW50KGEsYil9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9XzQwW2EuYmFzZTJJRF07aWYoZSYmZVtiXSl7ZGVsZXRlIGVbYl1bYy5iYXNlMklEXX19LCJATVNJRS4rd2luIjp7YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyxkKXtpZih0eXBlb2YgYz09ImZ1bmN0aW9uIil7Yz1iaW5kKGMsYSl9dGhpcy5iYXNlKGEsYixjLGQpfSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEsYil7Yi50YXJnZXQ9YTt0cnl7cmV0dXJuIGEuZmlyZUV2ZW50KGIudHlwZSxiKX1jYXRjaChlcnJvcil7cmV0dXJuIHRoaXMuYmFzZShhLGIpfX19fX0pO3ZhciBfNDA9bmV3IEJhc2Uoe2hhbmRsZUV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9dHJ1ZTt2YXIgZD1fNDBbYS5iYXNlMklEXTtpZihkKXtiPUV2ZW50LmJpbmQoYik7dmFyIGU9ZFtiLnR5cGVdO2Zvcih2YXIgaSBpbiBlKXt2YXIgbGlzdGVuZXI9ZVtpXTtpZihsaXN0ZW5lci5oYW5kbGVFdmVudCl7dmFyIHJlc3VsdD1saXN0ZW5lci5oYW5kbGVFdmVudChiKX1lbHNle3Jlc3VsdD1saXN0ZW5lci5jYWxsKGEsYil9aWYocmVzdWx0PT09ZmFsc2V8fGIucmV0dXJuVmFsdWU9PT1mYWxzZSljPWZhbHNlfX1yZXR1cm4gY30sIkBNU0lFIjp7aGFuZGxlRXZlbnQ6ZnVuY3Rpb24oYSxiKXtpZihhLkluZmluaXR5KXthPWEuZG9jdW1lbnQucGFyZW50V2luZG93O2lmKCFiKWI9YS5ldmVudH1yZXR1cm4gdGhpcy5iYXNlKGEsYnx8VHJhdmVyc2FsLmdldERlZmF1bHRWaWV3KGEpLmV2ZW50KX19fSk7dmFyIERvY3VtZW50RXZlbnQ9SW50ZXJmYWNlLmV4dGVuZCh7IkAhKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSI6e2NyZWF0ZUV2ZW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIEV2ZW50LmJpbmQoe30pfSwiQChkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCkiOntjcmVhdGVFdmVudDpmdW5jdGlvbihhLGIpe3JldHVybiBFdmVudC5iaW5kKGEuY3JlYXRlRXZlbnRPYmplY3QoKSl9fX0sIkAoZG9jdW1lbnQuY3JlYXRlRXZlbnQpIjp7IkAhKGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudHMnKSkiOntjcmVhdGVFdmVudDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmJhc2UoYSxiPT0iRXZlbnRzIj8iVUlFdmVudHMiOmIpfX19fSk7dmFyIERPTUNvbnRlbnRMb2FkZWRFdmVudD1CYXNlLmV4dGVuZCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oYil7dmFyIGM9ZmFsc2U7dGhpcy5maXJlPWZ1bmN0aW9uKCl7aWYoIWMpe2M9dHJ1ZTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9RG9jdW1lbnRFdmVudC5jcmVhdGVFdmVudChiLCJFdmVudHMiKTtFdmVudC5pbml0RXZlbnQoYSwiRE9NQ29udGVudExvYWRlZCIsZmFsc2UsZmFsc2UpO0V2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoYixhKX0sMSl9fTtFdmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKGIsIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7Yz10cnVlfSxmYWxzZSk7RXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihUcmF2ZXJzYWwuZ2V0RGVmYXVsdFZpZXcoYiksImxvYWQiLHRoaXMuZmlyZSxmYWxzZSl9LCJAKGF0dGFjaEV2ZW50KSI6e2NvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dGhpcy5iYXNlKGRvY3VtZW50KTtUcmF2ZXJzYWwuZ2V0RGVmYXVsdFZpZXcoZG9jdW1lbnQpLmF0dGFjaEV2ZW50KCJvbmxvYWQiLHRoaXMuZmlyZSl9fSwiQE1TSUUuK3dpbiI6e2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3RoaXMuYmFzZShhKTtpZihhLnJlYWR5U3RhdGUhPSJjb21wbGV0ZSIpe3ZhciBiPXRoaXM7YS53cml0ZSgiPHNjcmlwdCBpZD1fX3JlYWR5IGRlZmVyIHNyYz0vLzo+PFwvc2NyaXB0PiIpO2EuYWxsLl9fcmVhZHkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYodGhpcy5yZWFkeVN0YXRlPT0iY29tcGxldGUiKXt0aGlzLnJlbW92ZU5vZGUoKTtiLmZpcmUoKX19fX19LCJAS0hUTUwiOntjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt0aGlzLmJhc2UoYSk7aWYoYS5yZWFkeVN0YXRlIT0iY29tcGxldGUiKXt2YXIgYj10aGlzO3ZhciBjPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aWYoL2xvYWRlZHxjb21wbGV0ZS8udGVzdChhLnJlYWR5U3RhdGUpKXtjbGVhckludGVydmFsKGMpO2IuZmlyZSgpfX0sMTAwKX19fX0pO25ldyBET01Db250ZW50TG9hZGVkRXZlbnQoZG9jdW1lbnQpO0RvY3VtZW50LmltcGxlbWVudChEb2N1bWVudEV2ZW50KTtEb2N1bWVudC5pbXBsZW1lbnQoRXZlbnRUYXJnZXQpO0VsZW1lbnQuaW1wbGVtZW50KEV2ZW50VGFyZ2V0KTt2YXIgXzQxPS9eXGQrKHB4KT8kL2k7dmFyIF80Mj0vKHdpZHRofGhlaWdodHx0b3B8Ym90dG9tfGxlZnR8cmlnaHR8Zm9udFNpemUpJC87dmFyIF80Mz0vXihjb2xvcnxiYWNrZ3JvdW5kQ29sb3IpJC87dmFyIFZpZXdDU1M9SW50ZXJmYWNlLmV4dGVuZCh7IkAhKGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIjp7IkBNU0lFIjp7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9Yy5jdXJyZW50U3R5bGU7dmFyIGY9e2dldFByb3BlcnR5VmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbVmlld0NTUy50b0NhbWVsQ2FzZShhKV19fTtmb3IodmFyIGkgaW4gZSl7aWYoXzQyLnRlc3QoaSkpe2ZbaV09XzQ0KGMsZltpXSkrInB4In1lbHNlIGlmKF80My50ZXN0KGkpKXtmW2ldPV80NShjLGk9PSJjb2xvciI/IkZvcmVDb2xvciI6IkJhY2tDb2xvciIpfWVsc2V7ZltpXT1lW2ldfX1yZXR1cm4gZn19fX0se3RvQ2FtZWxDYXNlOmZ1bmN0aW9uKGMpe3JldHVybiBjLnJlcGxhY2UoL1wtKFthLXpdKS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX0pfX0pO2Z1bmN0aW9uIF80NChhLGIpe2lmKF80MS50ZXN0KGIpKXJldHVybiBwYXJzZUludChiKTt2YXIgYz1hLnN0eWxlLmxlZnQ7dmFyIGQ9YS5ydW50aW1lU3R5bGUubGVmdDthLnJ1bnRpbWVTdHlsZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQ7YS5zdHlsZS5sZWZ0PWJ8fDA7Yj1hLnN0eWxlLnBpeGVsTGVmdDthLnN0eWxlLmxlZnQ9YzthLnJ1bnRpbWVTdHlsZS5sZWZ0PWQ7cmV0dXJuIGJ9O2Z1bmN0aW9uIF80NShhLGIpe3ZhciBjPWEuZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtjLm1vdmVUb0VsZW1lbnRUZXh0KGEpO3ZhciBkPWMucXVlcnlDb21tYW5kVmFsdWUoYik7cmV0dXJuIGZvcm1hdCgicmdiKCUxLCUyLCUzKSIsZCYweGZmLChkJjB4ZmYwMCk+PjgsKGQmMHhmZjAwMDApPj4xNil9O0Fic3RyYWN0Vmlldy5pbXBsZW1lbnQoVmlld0NTUyk7dmFyIE5vZGVTZWxlY3Rvcj1JbnRlcmZhY2UuZXh0ZW5kKHsiQCEoZWxlbWVudC5xdWVyeVNlbGVjdG9yKSI6e3F1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFNlbGVjdG9yKGIpLmV4ZWMoYSwxKX0scXVlcnlTZWxlY3RvckFsbDpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgU2VsZWN0b3IoYikuZXhlYyhhKX19fSk7ZXh0ZW5kKE5vZGVTZWxlY3Rvci5wcm90b3R5cGUse3F1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIERPTS5iaW5kKHRoaXMuYmFzZShhKSl9LHF1ZXJ5U2VsZWN0b3JBbGw6ZnVuY3Rpb24oYil7cmV0dXJuIGV4dGVuZCh0aGlzLmJhc2UoYiksIml0ZW0iLGZ1bmN0aW9uKGEpe3JldHVybiBET00uYmluZCh0aGlzLmJhc2UoYSkpfSl9fSk7dmFyIERvY3VtZW50U2VsZWN0b3I9Tm9kZVNlbGVjdG9yLmV4dGVuZCgpO3ZhciBFbGVtZW50U2VsZWN0b3I9Tm9kZVNlbGVjdG9yLmV4dGVuZCh7IkAhKGVsZW1lbnQubWF0Y2hlc1NlbGVjdG9yKSI6e21hdGNoZXNTZWxlY3RvcjpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgU2VsZWN0b3IoYikudGVzdChhKX19fSk7dmFyIFN0YXRpY05vZGVMaXN0PUJhc2UuZXh0ZW5kKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihiKXtiPWJ8fFtdO3RoaXMubGVuZ3RoPWIubGVuZ3RoO3RoaXMuaXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gYlthXX19LGxlbmd0aDowLGZvckVhY2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7YS5jYWxsKGIsdGhpcy5pdGVtKGkpLGksdGhpcyl9fSxpdGVtOlVuZGVmaW5lZCwiQChYUGF0aFJlc3VsdCkiOntjb25zdHJ1Y3RvcjpmdW5jdGlvbihiKXtpZihiJiZiLnNuYXBzaG90SXRlbSl7dGhpcy5sZW5ndGg9Yi5zbmFwc2hvdExlbmd0aDt0aGlzLml0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGIuc25hcHNob3RJdGVtKGEpfX1lbHNlIHRoaXMuYmFzZShiKX19fSk7U3RhdGljTm9kZUxpc3QuaW1wbGVtZW50KEVudW1lcmFibGUpO3ZhciBDU1NQYXJzZXI9UmVnR3JwLmV4dGVuZCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dGhpcy5iYXNlKGEpO3RoaXMuY2FjaGU9e307dGhpcy5zb3J0ZXI9bmV3IFJlZ0dycDt0aGlzLnNvcnRlci5hZGQoLzpub3RcKFteKV0qXCkvLFJlZ0dycC5JR05PUkUpO3RoaXMuc29ydGVyLmFkZCgvKFsgPl0oXCp8W1x3LV0rKSkoW146ID4rfl0qKSg6XHcrLWNoaWxkKFwoW14pXStcKSk/KShbXjogPit+XSopLywiJDEkMyQ2JDQiKX0sY2FjaGU6bnVsbCxpZ25vcmVDYXNlOnRydWUsZXNjYXBlOmZ1bmN0aW9uKGIpe3ZhciBjPS8nL2c7dmFyIGQ9dGhpcy5fNDY9W107cmV0dXJuIHRoaXMub3B0aW1pc2UodGhpcy5mb3JtYXQoU3RyaW5nKGIpLnJlcGxhY2UoQ1NTUGFyc2VyLkVTQ0FQRSxmdW5jdGlvbihhKXtkLnB1c2goYS5zbGljZSgxLC0xKS5yZXBsYWNlKGMsIlxcJyIpKTtyZXR1cm4iXHgwMSIrZC5sZW5ndGh9KSkpfSxmb3JtYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShDU1NQYXJzZXIuV0hJVEVTUEFDRSwiJDEiKS5yZXBsYWNlKENTU1BhcnNlci5JTVBMSUVEX1NQQUNFLCIkMSAkMiIpLnJlcGxhY2UoQ1NTUGFyc2VyLklNUExJRURfQVNURVJJU0ssIiQxKiQyIil9LG9wdGltaXNlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNvcnRlci5leGVjKGEucmVwbGFjZShDU1NQYXJzZXIuV0lMRF9DQVJELCI+KiAiKSl9LHBhcnNlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNhY2hlW2FdfHwodGhpcy5jYWNoZVthXT10aGlzLnVuZXNjYXBlKHRoaXMuZXhlYyh0aGlzLmVzY2FwZShhKSkpKX0sdW5lc2NhcGU6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5fNDY7cmV0dXJuIGMucmVwbGFjZSgvXHgwMShcZCspL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gZFtiLTFdfSl9fSx7RVNDQVBFOi8nKFxcLnxbXidcXF0pKid8IihcXC58W14iXFxdKSoiL2csSU1QTElFRF9BU1RFUklTSzovKFtccz4rfixdfFteKF1cK3xeKShbIy46QF0pL2csSU1QTElFRF9TUEFDRTovKF58LCkoW15ccz4rfl0pL2csV0hJVEVTUEFDRTovXHMqKFtccz4rfigpLF18XnwkKVxzKi9nLFdJTERfQ0FSRDovXHNcKlxzL2csXzQ3OmZ1bmN0aW9uKGMsZCxlLGYsZyxoLGksail7Zj0vbGFzdC9pLnRlc3QoYyk/ZisiKzEtIjoiIjtpZighaXNOYU4oZCkpZD0iMG4rIitkO2Vsc2UgaWYoZD09ImV2ZW4iKWQ9IjJuIjtlbHNlIGlmKGQ9PSJvZGQiKWQ9IjJuKzEiO2Q9ZC5zcGxpdCgvblwrPy8pO3ZhciBhPWRbMF0/KGRbMF09PSItIik/LTE6cGFyc2VJbnQoZFswXSk6MTt2YXIgYj1wYXJzZUludChkWzFdKXx8MDt2YXIgaz1hPDA7aWYoayl7YT0tYTtpZihhPT0xKWIrK312YXIgbD1mb3JtYXQoYT09MD8iJTMlNyIrKGYrYik6IiglNCUzLSUyKSU2JTElNzAlNSU0JTM+PSUyIixhLGIsZSxmLGgsaSxqKTtpZihrKWw9ZysiKCIrbCsiKSI7cmV0dXJuIGx9fSk7dmFyIFhQYXRoUGFyc2VyPUNTU1BhcnNlci5leHRlbmQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dGhpcy5iYXNlKFhQYXRoUGFyc2VyLnJ1bGVzKTt0aGlzLnNvcnRlci5wdXRBdCgxLCIkMSQ0JDMkNiIpfSxlc2NhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYmFzZShhKS5yZXBsYWNlKC8sL2csIlx4MDIiKX0sdW5lc2NhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYmFzZShhLnJlcGxhY2UoL1xbc2VsZjo6XCpcXS9nLCIiKS5yZXBsYWNlKC8oXnxceDAyKVwvL2csIiQxLi8iKS5yZXBsYWNlKC9ceDAyL2csIiB8ICIpKX0sIkBvcGVyYSI6e3VuZXNjYXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmJhc2UoYS5yZXBsYWNlKC9sYXN0XChcKS9nLCJjb3VudChwcmVjZWRpbmctc2libGluZzo6KikrY291bnQoZm9sbG93aW5nLXNpYmxpbmc6OiopKzEiKSl9fX0se2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnZhbHVlcy5hdHRyaWJ1dGVzWyIiXT0iW0AkMV0iO2ZvckVhY2godGhpcy50eXBlcyxmdW5jdGlvbihhLGIpe2ZvckVhY2godGhpcy52YWx1ZXNbYl0sYSx0aGlzLnJ1bGVzKX0sdGhpcyl9LG9wdGltaXNlZDp7cHNldWRvQ2xhc3Nlczp7ImZpcnN0LWNoaWxkIjoiWzFdIiwibGFzdC1jaGlsZCI6IltsYXN0KCldIiwib25seS1jaGlsZCI6IltsYXN0KCk9MV0ifX0scnVsZXM6ZXh0ZW5kKHt9LHsiQCFLSFRNTCI6eyIoXnxcXHgwMikgKFxcKnxbXFx3LV0rKSMoW1xcdy1dKykiOiIkMWlkKCckMycpW3NlbGY6OiQyXSIsIihbID5dKShcXCp8W1xcdy1dKyk6KFtcXHctXSstY2hpbGQoXFwoKFteKV0rKVxcKSk/KSI6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPShiPT0iICIpPyIvLyoiOiIvKiI7aWYoL15udGgvaS50ZXN0KGQpKXtnKz1fNDcoZCxmLCJwb3NpdGlvbigpIil9ZWxzZXtnKz1YUGF0aFBhcnNlci5vcHRpbWlzZWQucHNldWRvQ2xhc3Nlc1tkXX1yZXR1cm4gZysiW3NlbGY6OiIrYysiXSJ9fX0pLHR5cGVzOntpZGVudGlmaWVyczpmdW5jdGlvbihhLGIpe3RoaXNbcmVzY2FwZShiKSsiKFtcXHctXSspIl09YX0sY29tYmluYXRvcnM6ZnVuY3Rpb24oYSxiKXt0aGlzW3Jlc2NhcGUoYikrIihcXCp8W1xcdy1dKykiXT1hfSxhdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7dGhpc1siXFxbKFtcXHctXSspXFxzKiIrcmVzY2FwZShiKSsiXFxzKihbXlxcXV0qKVxcXSJdPWF9LHBzZXVkb0NsYXNzZXM6ZnVuY3Rpb24oYSxiKXt0aGlzWyI6IitiLnJlcGxhY2UoL1woXCkkLywiXFwoKFteKV0rKVxcKSIpXT1hfX0sdmFsdWVzOntpZGVudGlmaWVyczp7IiMiOiJbQGlkPSckMSddWzFdIiwiLiI6Iltjb250YWlucyhjb25jYXQoJyAnLEBjbGFzcywnICcpLCcgJDEgJyldIn0sY29tYmluYXRvcnM6eyIgIjoiL2Rlc2NlbmRhbnQ6OiQxIiwiPiI6Ii9jaGlsZDo6JDEiLCIrIjoiL2ZvbGxvd2luZy1zaWJsaW5nOjoqWzFdW3NlbGY6OiQxXSIsIn4iOiIvZm9sbG93aW5nLXNpYmxpbmc6OiQxIn0sYXR0cmlidXRlczp7Iio9IjoiW2NvbnRhaW5zKEAkMSwnJDInKV0iLCJePSI6IltzdGFydHMtd2l0aChAJDEsJyQyJyldIiwiJD0iOiJbc3Vic3RyaW5nKEAkMSxzdHJpbmctbGVuZ3RoKEAkMSktc3RyaW5nLWxlbmd0aCgnJDInKSsxKT0nJDInXSIsIn49IjoiW2NvbnRhaW5zKGNvbmNhdCgnICcsQCQxLCcgJyksJyAkMiAnKV0iLCJ8PSI6Iltjb250YWlucyhjb25jYXQoJy0nLEAkMSwnLScpLCctJDItJyldIiwiIT0iOiJbbm90KEAkMT0nJDInKV0iLCI9IjoiW0AkMT0nJDInXSJ9LHBzZXVkb0NsYXNzZXM6eyJlbXB0eSI6Iltub3QoY2hpbGQ6OiopIGFuZCBub3QodGV4dCgpKV0iLCJmaXJzdC1jaGlsZCI6Iltub3QocHJlY2VkaW5nLXNpYmxpbmc6OiopXSIsImxhc3QtY2hpbGQiOiJbbm90KGZvbGxvd2luZy1zaWJsaW5nOjoqKV0iLCJub3QoKSI6XzQ4LCJudGgtY2hpbGQoKSI6XzQ3LCJudGgtbGFzdC1jaGlsZCgpIjpfNDcsIm9ubHktY2hpbGQiOiJbbm90KHByZWNlZGluZy1zaWJsaW5nOjoqKSBhbmQgbm90KGZvbGxvd2luZy1zaWJsaW5nOjoqKV0iLCJyb290IjoiW25vdChwYXJlbnQ6OiopXSJ9fSwiQG9wZXJhIjp7aW5pdDpmdW5jdGlvbigpe3RoaXMub3B0aW1pc2VkLnBzZXVkb0NsYXNzZXNbImxhc3QtY2hpbGQiXT10aGlzLnZhbHVlcy5wc2V1ZG9DbGFzc2VzWyJsYXN0LWNoaWxkIl07dGhpcy5vcHRpbWlzZWQucHNldWRvQ2xhc3Nlc1sib25seS1jaGlsZCJdPXRoaXMudmFsdWVzLnBzZXVkb0NsYXNzZXNbIm9ubHktY2hpbGQiXTt0aGlzLmJhc2UoKX19fSk7dmFyIF80OT1uZXcgWFBhdGhQYXJzZXI7ZnVuY3Rpb24gXzQ4KGEsYil7cmV0dXJuIltub3QoIitfNDkuZXhlYyh0cmltKGIpKS5yZXBsYWNlKC9cWzFcXS9nLCIiKS5yZXBsYWNlKC9eKFwqfFtcdy1dKykvLCJbc2VsZjo6JDFdIikucmVwbGFjZSgvXF1cWy9nLCIgYW5kICIpLnNsaWNlKDEsLTEpKyIpXSJ9O2Z1bmN0aW9uIF80NyhhLGIsYyl7cmV0dXJuIlsiK0NTU1BhcnNlci5fNDcoYSxiLGN8fCJjb3VudChwcmVjZWRpbmctc2libGluZzo6KikrMSIsImxhc3QoKSIsIm5vdCIsIiBhbmQgIiwiIG1vZCAiLCI9IikrIl0ifTt2YXIgXzUwPSI6KGNoZWNrZWR8ZGlzYWJsZWR8ZW5hYmxlZHxjb250YWlucyl8XigjW1xcdy1dK1xccyopP1xcdyskIjtpZihkZXRlY3QoIktIVE1MIikpe2lmKGRldGVjdCgiV2ViS2l0NSIpKXtfNTArPSJ8bnRoXFwtfCwifWVsc2V7XzUwPSIuIn19XzUwPW5ldyBSZWdFeHAoXzUwKTt2YXIgXzUxO3ZhciBTZWxlY3Rvcj1CYXNlLmV4dGVuZCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dGhpcy50b1N0cmluZz1LKHRyaW0oYSkpfSxleGVjOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFNlbGVjdG9yLnBhcnNlKHRoaXMpKGEsYil9LHRlc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFNlbGVjdG9yKHRoaXMrIlstYmFzZTItdGVzdF0iKTthLnNldEF0dHJpYnV0ZSgiLWJhc2UyLXRlc3QiLHRydWUpO3ZhciBjPWIuZXhlYyhUcmF2ZXJzYWwuZ2V0T3duZXJEb2N1bWVudChhKSx0cnVlKTthLnJlbW92ZUF0dHJpYnV0ZSgiLWJhc2UyLXRlc3QiKTtyZXR1cm4gYz09YX0sdG9YUGF0aDpmdW5jdGlvbigpe3JldHVybiBTZWxlY3Rvci50b1hQYXRoKHRoaXMpfSwiQChYUGF0aFJlc3VsdCkiOntleGVjOmZ1bmN0aW9uKGEsYil7aWYoXzUwLnRlc3QodGhpcykpe3JldHVybiB0aGlzLmJhc2UoYSxiKX12YXIgYz1UcmF2ZXJzYWwuZ2V0RG9jdW1lbnQoYSk7dmFyIGQ9Yj85Ojc7dmFyIGU9Yy5ldmFsdWF0ZSh0aGlzLnRvWFBhdGgoKSxhLG51bGwsZCxudWxsKTtyZXR1cm4gYj9lLnNpbmdsZU5vZGVWYWx1ZTplfX0sIkBNU0lFIjp7ZXhlYzpmdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBhLnNlbGVjdE5vZGVzIT0idW5kZWZpbmVkIiYmIV81MC50ZXN0KHRoaXMpKXt2YXIgYz1iPyJzZWxlY3RTaW5nbGVOb2RlIjoic2VsZWN0Tm9kZXMiO3JldHVybiBhW2NdKHRoaXMudG9YUGF0aCgpKX1yZXR1cm4gdGhpcy5iYXNlKGEsYil9fSwiQCh0cnVlKSI6e2V4ZWM6ZnVuY3Rpb24oYSxiKXt0cnl7dmFyIGM9dGhpcy5iYXNlKGF8fGRvY3VtZW50LGIpfWNhdGNoKGVycm9yKXt0aHJvdyBuZXcgU3ludGF4RXJyb3IoZm9ybWF0KCInJTEnIGlzIG5vdCBhIHZhbGlkIENTUyBzZWxlY3Rvci4iLHRoaXMpKTt9cmV0dXJuIGI/YzpuZXcgU3RhdGljTm9kZUxpc3QoYyl9fX0se3RvWFBhdGg6ZnVuY3Rpb24oYSl7aWYoIV81MSlfNTE9bmV3IFhQYXRoUGFyc2VyO3JldHVybiBfNTEucGFyc2UoYSl9fSk7bmV3IGZ1bmN0aW9uKF8pe3ZhciBfNTI9eyI9IjoiJTE9PSclMiciLCIhPSI6IiUxIT0nJTInIiwifj0iOi8oXnwgKSUxKCB8JCkvLCJ8PSI6L14lMSgtfCQpLywiXj0iOi9eJTEvLCIkPSI6LyUxJC8sIio9IjovJTEvfTtfNTJbIiJdPSIlMSE9bnVsbCI7dmFyIF81Mz17ImNoZWNrZWQiOiJlJTEuY2hlY2tlZCIsImNvbnRhaW5zIjoiZSUxW1RFWFRdLmluZGV4T2YoJyUyJykhPS0xIiwiZGlzYWJsZWQiOiJlJTEuZGlzYWJsZWQiLCJlbXB0eSI6IlRyYXZlcnNhbC5pc0VtcHR5KGUlMSkiLCJlbmFibGVkIjoiZSUxLmRpc2FibGVkPT09ZmFsc2UiLCJmaXJzdC1jaGlsZCI6IiFUcmF2ZXJzYWwuZ2V0UHJldmlvdXNFbGVtZW50U2libGluZyhlJTEpIiwibGFzdC1jaGlsZCI6IiFUcmF2ZXJzYWwuZ2V0TmV4dEVsZW1lbnRTaWJsaW5nKGUlMSkiLCJvbmx5LWNoaWxkIjoiIVRyYXZlcnNhbC5nZXRQcmV2aW91c0VsZW1lbnRTaWJsaW5nKGUlMSkmJiFUcmF2ZXJzYWwuZ2V0TmV4dEVsZW1lbnRTaWJsaW5nKGUlMSkiLCJyb290IjoiZSUxPT1UcmF2ZXJzYWwuZ2V0RG9jdW1lbnQoZSUxKS5kb2N1bWVudEVsZW1lbnQifTt2YXIgXzU0PWRldGVjdCgiKGVsZW1lbnQuc291cmNlSW5kZXgpIik7dmFyIF81NT0idmFyIHAlMj0wLGklMixlJTIsbiUyPWUlMS4iO3ZhciBfNTY9XzU0PyJlJTEuc291cmNlSW5kZXgiOiJhc3NpZ25JRChlJTEpIjt2YXIgXzU3PSJ2YXIgZz0iK181NisiO2lmKCFwW2ddKXtwW2ddPTE7Ijt2YXIgXzU4PSJyW3IubGVuZ3RoXT1lJTE7aWYocylyZXR1cm4gZSUxOyI7dmFyIF81OT0ici5zb3J0KHNvcnRlcik7Ijt2YXIgXzYwPSJmbj1mdW5jdGlvbihlMCxzKXtpbmRleGVkKys7dmFyIHI9W10scD17fSxyZWc9WyUxXSwiKyJkPVRyYXZlcnNhbC5nZXREb2N1bWVudChlMCksYz1kLmJvZHk/J3RvVXBwZXJDYXNlJzondG9TdHJpbmcnOyI7dmFyIGJ5SWQ9XzMyP2Z1bmN0aW9uKGEsYil7dmFyIGM9YS5hbGxbYl18fG51bGw7aWYoIWN8fGMuaWQ9PWIpcmV0dXJuIGM7Zm9yKHZhciBpPTA7aTxjLmxlbmd0aDtpKyspe2lmKGNbaV0uaWQ9PWIpcmV0dXJuIGNbaV19cmV0dXJuIG51bGx9OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZ2V0RWxlbWVudEJ5SWQoYil9O3ZhciBpbmRleGVkPTE7ZnVuY3Rpb24gcmVnaXN0ZXIoYSl7aWYoYS5yb3dzKXthLmIyX2xlbmd0aD1hLnJvd3MubGVuZ3RoO2EuYjJfbG9va3VwPSJyb3dJbmRleCJ9ZWxzZSBpZihhLmNlbGxzKXthLmIyX2xlbmd0aD1hLmNlbGxzLmxlbmd0aDthLmIyX2xvb2t1cD0iY2VsbEluZGV4In1lbHNlIGlmKGEuYjJfaW5kZXhlZCE9aW5kZXhlZCl7dmFyIGI9MDt2YXIgYz1hLmZpcnN0Q2hpbGQ7d2hpbGUoYyl7aWYoYy5ub2RlVHlwZT09MSYmYy5ub2RlTmFtZSE9IiEiKXtjLmIyX2luZGV4PSsrYn1jPWMubmV4dFNpYmxpbmd9YS5iMl9sZW5ndGg9YjthLmIyX2xvb2t1cD0iYjJfaW5kZXgifWEuYjJfaW5kZXhlZD1pbmRleGVkO3JldHVybiBhfTt2YXIgc29ydGVyPV81ND9mdW5jdGlvbihhLGIpe3JldHVybiBhLnNvdXJjZUluZGV4LWIuc291cmNlSW5kZXh9Ok5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb247dmFyIGZuO3ZhciByZWc7dmFyIF82MTt2YXIgXzYyO3ZhciBfNjM7dmFyIF82NDt2YXIgXzY1PXt9O3ZhciBwYXJzZXI9bmV3IENTU1BhcnNlcih7Il4gXFwqOnJvb3QiOmZ1bmN0aW9uKGEpe182Mj1mYWxzZTt2YXIgYj0iZSUyPWQuZG9jdW1lbnRFbGVtZW50O2lmKFRyYXZlcnNhbC5jb250YWlucyhlJTEsZSUyKSl7IjtyZXR1cm4gZm9ybWF0KGIsXzYxKyssXzYxKX0sIiAoXFwqfFtcXHctXSspIyhbXFx3LV0rKSI6ZnVuY3Rpb24oYSxiLGMpe182Mj1mYWxzZTt2YXIgZD0idmFyIGUlMj1ieUlkKGQsJyU0Jyk7aWYoZSUyJiYiO2lmKGIhPSIqIilkKz0iZSUyLm5vZGVOYW1lPT0nJTMnW2NdKCkmJiI7ZCs9IlRyYXZlcnNhbC5jb250YWlucyhlJTEsZSUyKSl7IjtpZihfNjMpZCs9Zm9ybWF0KCJpJTE9biUxLmxlbmd0aDsiLF82Myk7cmV0dXJuIGZvcm1hdChkLF82MSsrLF82MSxiLGMpfSwiIChcXCp8W1xcdy1dKykiOmZ1bmN0aW9uKGEsYil7XzY0Kys7XzYyPWI9PSIqIjt2YXIgYz1fNTU7Yys9KF82MiYmXzMzKT8iYWxsIjoiZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyUzJykiO2MrPSI7Zm9yKGklMj0wOyhlJTI9biUyW2klMl0pO2klMisrKXsiO3JldHVybiBmb3JtYXQoYyxfNjErKyxfNjM9XzYxLGIpfSwiPihcXCp8W1xcdy1dKykiOmZ1bmN0aW9uKGEsYil7dmFyIGM9XzMyJiZfNjM7XzYyPWI9PSIqIjt2YXIgZD1fNTU7ZCs9Yz8iY2hpbGRyZW4iOiJjaGlsZE5vZGVzIjtpZighXzYyJiZjKWQrPSIudGFncygnJTMnKSI7ZCs9Ijtmb3IoaSUyPTA7KGUlMj1uJTJbaSUyXSk7aSUyKyspeyI7aWYoXzYyKXtkKz0iaWYoZSUyLm5vZGVUeXBlPT0xKXsiO182Mj1fMzN9ZWxzZXtpZighYylkKz0iaWYoZSUyLm5vZGVOYW1lPT0nJTMnW2NdKCkpeyJ9cmV0dXJuIGZvcm1hdChkLF82MSsrLF82Mz1fNjEsYil9LCJcXCsoXFwqfFtcXHctXSspIjpmdW5jdGlvbihhLGIpe3ZhciBjPSIiO2lmKF82MiYmXzMyKWMrPSJpZihlJTEudGFnTmFtZSE9JyEnKXsiO182Mj1mYWxzZTtjKz0iZSUxPVRyYXZlcnNhbC5nZXROZXh0RWxlbWVudFNpYmxpbmcoZSUxKTtpZihlJTEiO2lmKGIhPSIqIiljKz0iJiZlJTEubm9kZU5hbWU9PSclMidbY10oKSI7Yys9Iil7IjtyZXR1cm4gZm9ybWF0KGMsXzYxLGIpfSwifihcXCp8W1xcdy1dKykiOmZ1bmN0aW9uKGEsYil7dmFyIGM9IiI7aWYoXzYyJiZfMzIpYys9ImlmKGUlMS50YWdOYW1lIT0nIScpeyI7XzYyPWZhbHNlO182ND0yO2MrPSJ3aGlsZShlJTE9ZSUxLm5leHRTaWJsaW5nKXtpZihlJTEuYjJfYWRqYWNlbnQ9PWluZGV4ZWQpYnJlYWs7aWYoIjtpZihiPT0iKiIpe2MrPSJlJTEubm9kZVR5cGU9PTEiO2lmKF8zMyljKz0iJiZlJTEudGFnTmFtZSE9JyEnIn1lbHNlIGMrPSJlJTEubm9kZU5hbWU9PSclMidbY10oKSI7Yys9Iil7ZSUxLmIyX2FkamFjZW50PWluZGV4ZWQ7IjtyZXR1cm4gZm9ybWF0KGMsXzYxLGIpfSwiIyhbXFx3LV0rKSI6ZnVuY3Rpb24oYSxiKXtfNjI9ZmFsc2U7dmFyIGM9ImlmKGUlMS5pZD09JyUyJyl7IjtpZihfNjMpYys9Zm9ybWF0KCJpJTE9biUxLmxlbmd0aDsiLF82Myk7cmV0dXJuIGZvcm1hdChjLF82MSxiKX0sIlxcLihbXFx3LV0rKSI6ZnVuY3Rpb24oYSxiKXtfNjI9ZmFsc2U7cmVnLnB1c2gobmV3IFJlZ0V4cCgiKF58XFxzKSIrcmVzY2FwZShiKSsiKFxcc3wkKSIpKTtyZXR1cm4gZm9ybWF0KCJpZihlJTEuY2xhc3NOYW1lJiZyZWdbJTJdLnRlc3QoZSUxLmNsYXNzTmFtZSkpeyIsXzYxLHJlZy5sZW5ndGgtMSl9LCI6bm90XFwoKFxcKnxbXFx3LV0rKT8oW14pXSopXFwpIjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9KGImJmIhPSIqIik/Zm9ybWF0KCJpZihlJTEubm9kZU5hbWU9PSclMidbY10oKSl7IixfNjEsYik6IiI7ZCs9cGFyc2VyLmV4ZWMoYyk7cmV0dXJuImlmKCEiK2Quc2xpY2UoMiwtMSkucmVwbGFjZSgvXClce2lmXCgvZywiJiYiKSsiKXsifSwiOm50aCgtbGFzdCk/LWNoaWxkXFwoKFteKV0rKVxcKSI6ZnVuY3Rpb24oYSxiLGMpe182Mj1mYWxzZTtiPWZvcm1hdCgiZSUxLnBhcmVudE5vZGUuYjJfbGVuZ3RoIixfNjEpO3ZhciBkPSJpZihwJTEhPT1lJTEucGFyZW50Tm9kZSlwJTE9cmVnaXN0ZXIoZSUxLnBhcmVudE5vZGUpOyI7ZCs9InZhciBpPWUlMVtwJTEuYjJfbG9va3VwXTtpZigiO3JldHVybiBmb3JtYXQoZCxfNjEpK0NTU1BhcnNlci5fNDcoYSxjLCJpIixiLCIhIiwiJiYiLCIlIiwiPT0iKSsiKXsifSwiOihbXFx3LV0rKShcXCgoW14pXSspXFwpKT8iOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiJpZigiK2Zvcm1hdChfNTNbYl18fCJ0aHJvdyIsXzYxLGR8fCIiKSsiKXsifSwiXFxbKFtcXHctXSspXFxzKihbXj1dPz0pP1xccyooW15cXF1dKilcXF0iOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPV8zNltiXXx8YjtpZihjKXt2YXIgZj0iZSUxLmdldEF0dHJpYnV0ZSgnJTInLDIpIjtpZighXzM1LnRlc3QoYikpe2Y9ImUlMS4lM3x8IitmfWI9Zm9ybWF0KCIoIitmKyIpIixfNjEsYixlKX1lbHNle2I9Zm9ybWF0KCJFbGVtZW50LmdldEF0dHJpYnV0ZShlJTEsJyUyJykiLF82MSxiKX12YXIgZz1fNTJbY3x8IiJdO2lmKGluc3RhbmNlT2YoZyxSZWdFeHApKXtyZWcucHVzaChuZXcgUmVnRXhwKGZvcm1hdChnLnNvdXJjZSxyZXNjYXBlKHBhcnNlci51bmVzY2FwZShkKSkpKSk7Zz0icmVnWyUyXS50ZXN0KCUxKSI7ZD1yZWcubGVuZ3RoLTF9cmV0dXJuImlmKCIrZm9ybWF0KGcsYixkKSsiKXsifX0pO1NlbGVjdG9yLnBhcnNlPWZ1bmN0aW9uKGEpe2lmKCFfNjVbYV0pe3JlZz1bXTtmbj0iIjt2YXIgYj1wYXJzZXIuZXNjYXBlKGEpLnNwbGl0KCIsIik7Zm9yKHZhciBpPTA7aTxiLmxlbmd0aDtpKyspe182Mj1fNjE9XzYzPTA7XzY0PWIubGVuZ3RoPjE/MjowO3ZhciBjPXBhcnNlci5leGVjKGJbaV0pfHwidGhyb3c7IjtpZihfNjImJl8zMil7Yys9Zm9ybWF0KCJpZihlJTEudGFnTmFtZSE9JyEnKXsiLF82MSl9dmFyIGQ9KF82ND4xKT9fNTc6IiI7Yys9Zm9ybWF0KGQrXzU4LF82MSk7Yys9QXJyYXkobWF0Y2goYywvXHsvZykubGVuZ3RoKzEpLmpvaW4oIn0iKTtmbis9Y31pZihiLmxlbmd0aD4xKWZuKz1fNTk7ZXZhbChmb3JtYXQoXzYwLHJlZykrcGFyc2VyLnVuZXNjYXBlKGZuKSsicmV0dXJuIHM/bnVsbDpyfSIpO182NVthXT1mbn1yZXR1cm4gXzY1W2FdfX07RG9jdW1lbnQuaW1wbGVtZW50KERvY3VtZW50U2VsZWN0b3IpO0VsZW1lbnQuaW1wbGVtZW50KEVsZW1lbnRTZWxlY3Rvcik7dmFyIEhUTUxEb2N1bWVudD1Eb2N1bWVudC5leHRlbmQobnVsbCx7IkAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09PXVuZGVmaW5lZCkiOntiaW5kOmZ1bmN0aW9uKGIpe2IuYWN0aXZlRWxlbWVudD1udWxsO0V2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoYiwiZm9jdXMiLGZ1bmN0aW9uKGEpe2IuYWN0aXZlRWxlbWVudD1hLnRhcmdldH0sZmFsc2UpO3JldHVybiB0aGlzLmJhc2UoYil9fX0pO3ZhciBIVE1MRWxlbWVudD1FbGVtZW50LmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5oYXNDbGFzcyhhLGIpKXthLmNsYXNzTmFtZSs9KGEuY2xhc3NOYW1lPyIgIjoiIikrYn19LGhhc0NsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IFJlZ0V4cCgiKF58XFxzKSIrYisiKFxcc3wkKSIpO3JldHVybiBjLnRlc3QoYS5jbGFzc05hbWUpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBSZWdFeHAoIihefFxccykiK2IrIihcXHN8JCkiLCJnIik7YS5jbGFzc05hbWU9YS5jbGFzc05hbWUucmVwbGFjZShjLCIkMiIpfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe2lmKHRoaXMuaGFzQ2xhc3MoYSxiKSl7dGhpcy5yZW1vdmVDbGFzcyhhLGIpfWVsc2V7dGhpcy5hZGRDbGFzcyhhLGIpfX19LHtiaW5kaW5nczp7fSx0YWdzOiIqIixleHRlbmQ6ZnVuY3Rpb24oKXt2YXIgYj1iYXNlKHRoaXMsYXJndW1lbnRzKTt2YXIgYz0oYi50YWdzfHwiIikudG9VcHBlckNhc2UoKS5zcGxpdCgiLCIpO2ZvckVhY2goYyxmdW5jdGlvbihhKXtIVE1MRWxlbWVudC5iaW5kaW5nc1thXT1ifSk7cmV0dXJuIGJ9LCJAIShlbGVtZW50Lm93bmVyRG9jdW1lbnQpIjp7YmluZDpmdW5jdGlvbihhKXthLm93bmVyRG9jdW1lbnQ9VHJhdmVyc2FsLmdldE93bmVyRG9jdW1lbnQoYSk7cmV0dXJuIHRoaXMuYmFzZShhKX19fSk7ZXZhbCh0aGlzLmV4cG9ydHMpfTtuZXcgZnVuY3Rpb24oXyl7dmFyIEpTQj1uZXcgYmFzZTIuUGFja2FnZSh0aGlzLHtuYW1lOiJKU0IiLHZlcnNpb246IjAuNyIsaW1wb3J0czoiRE9NIixleHBvcnRzOiJCZWhhdmlvciwgUnVsZSwgUnVsZUxpc3QifSk7ZXZhbCh0aGlzLmltcG9ydHMpO3ZhciBCZWhhdmlvcj1BYnN0cmFjdC5leHRlbmQoKTt2YXIgQ2FsbD1CYXNlLmV4dGVuZCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5yZWxlYXNlPWZ1bmN0aW9uKCl7Yi5hcHBseShhLGMpfTt0aGlzLnJhbms9ZHx8KDEwMCtDYWxsLmxpc3QubGVuZ3RoKX19LHtsaXN0OltdLGRlZmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoQ2FsbC5saXN0KXtDYWxsLmxpc3QucHVzaChuZXcgQ2FsbCh0aGlzLGEsYXJndW1lbnRzLGIpKX1lbHNle2EuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19LGluaXQ6ZnVuY3Rpb24oKXtFdmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe2lmKENhbGwubGlzdCl7RE9NLmJpbmQoZG9jdW1lbnQpO0NhbGwubGlzdC5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEucmFuay1iLnJhbmt9KTtpbnZva2UoQ2FsbC5saXN0LCJyZWxlYXNlIik7ZGVsZXRlIENhbGwubGlzdDtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9RG9jdW1lbnRFdmVudC5jcmVhdGVFdmVudChkb2N1bWVudCwiRXZlbnRzIik7RXZlbnQuaW5pdEV2ZW50KGEsInJlYWR5IixmYWxzZSxmYWxzZSk7RXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChkb2N1bWVudCxhKX0sMSl9fSxmYWxzZSl9fSk7dmFyIF82Nj0vXm9uW2Etel0rJC87dmFyIFJ1bGU9QmFzZS5leHRlbmQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsZil7ZT1uZXcgU2VsZWN0b3IoZSk7aWYoQmVoYXZpb3IuYW5jZXN0b3JPZihmKSl7Zj1mLnByb3RvdHlwZX12YXIgZz17fSxoPXt9LGk9Zi5zdHlsZSxqPXt9O2ZvckVhY2goZixmdW5jdGlvbihhLGIpe2lmKGIuY2hhckF0KDApPT0iQCIpe2lmKGRldGVjdChiLnNsaWNlKDEpKSl7Zm9yRWFjaChhLGFyZ3VtZW50cy5jYWxsZWUpfX1lbHNlIGlmKHR5cGVvZiBhPT0iZnVuY3Rpb24iJiZfNjYudGVzdChiKSl7aFtiLnNsaWNlKDIpXT1hfWVsc2UgaWYoYiE9InN0eWxlIil7Z1tiXT1hfX0pO2Z1bmN0aW9uIGFkZEJlaGF2aW9yKGEpe3ZhciBiPWFzc2lnbklEKGEpO2lmKCFqW2JdKXtqW2JdPXRydWU7RE9NLmJpbmQoYSk7ZXh0ZW5kKGEsZyk7ZXh0ZW5kKGEuc3R5bGUsaSk7Zm9yKHZhciBjIGluIGgpe3ZhciB0YXJnZXQ9YTt2YXIgZD1oW2NdO2lmKGMuaW5kZXhPZigiZG9jdW1lbnQiKT09MCl7dGFyZ2V0PWRvY3VtZW50O2M9Yy5zbGljZSg4KTtkPWJpbmQoZCxhKX10YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihjLGQsZmFsc2UpfX19O3RoaXMucmVmcmVzaD1DYWxsLmRlZmVyKGZ1bmN0aW9uKCl7ZS5leGVjKGRvY3VtZW50KS5mb3JFYWNoKGFkZEJlaGF2aW9yKX0pO3RoaXMudG9TdHJpbmc9SyhTdHJpbmcoZSkpO3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOlVuZGVmaW5lZH0pO3ZhciBSdWxlTGlzdD1Db2xsZWN0aW9uLmV4dGVuZCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dGhpcy5iYXNlKGEpO3RoaXMuZ2xvYmFsaXplKCl9LGdsb2JhbGl6ZTpDYWxsLmRlZmVyKGZ1bmN0aW9uKCl7dmFyIGU9L1teXHMsXSsvZzt2YXIgZj0vXiNbXHctXSskLztmb3JFYWNoKHRoaXMsZnVuY3Rpb24oYyxkKXtmb3JFYWNoKG1hdGNoKGQsZSksZnVuY3Rpb24oYSl7aWYoZi50ZXN0KGEpKXt2YXIgYj1WaWV3Q1NTLnRvQ2FtZWxDYXNlKGEuc2xpY2UoMSkpO3dpbmRvd1tiXT1Eb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRvY3VtZW50LGEpfX0pfSl9LDEwKSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoInJlZnJlc2giKX19LHtJdGVtOlJ1bGV9KTtldmFsKHRoaXMuZXhwb3J0cyl9O2V2YWwoYmFzZTIubmFtZXNwYWNlKTt2YXIgREVGQVVMVD0iQDAiO3ZhciBJR05PUkU9UmVnR3JwLklHTk9SRTt2YXIgQ29sb3JpemVyPVJlZ0dycC5leHRlbmQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGMsZCxlKXt0aGlzLmV4dGVuZChlKTt0aGlzLnBhdHRlcm5zPWN8fHt9O3ZhciBmPXt9LGk7Zm9yRWFjaChjLGZ1bmN0aW9uKGEsYil7ZltiXT1kW2JdfHxERUZBVUxUfSk7Zm9yRWFjaChkLGZ1bmN0aW9uKGEsYil7ZltiXT1kW2JdfSk7dGhpcy5iYXNlKGYpfSxwYXR0ZXJuczpudWxsLHRhYlN0b3A6NCx1cmxzOnRydWUsY29weTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYmFzZSgpO2EucGF0dGVybnM9Y29weSh0aGlzLnBhdHRlcm5zKTtyZXR1cm4gYX0sZXhlYzpmdW5jdGlvbihhLGIpe2E9dGhpcy5iYXNlKHRoaXMuZXNjYXBlKGEpKTtpZighYil7YT10aGlzLl82NyhhKTtpZih0aGlzLnVybHMpYT1Db2xvcml6ZXIudXJscy5leGVjKGEpfXJldHVybiB0aGlzLnVuZXNjYXBlKGEpfSxlc2NhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKC88L2csIlx4MDEiKS5yZXBsYWNlKC8mL2csIlx4MDIiKX0scHV0OmZ1bmN0aW9uKGMsZCl7aWYoIWluc3RhbmNlT2YoYyxSZWdHcnAuSXRlbSkpe2lmKHR5cGVvZiBkPT0ic3RyaW5nIil7ZD1kLnJlcGxhY2UoL0AoXGQpLyxmdW5jdGlvbihhLGIpe3JldHVybiBmb3JtYXQoQ29sb3JpemVyLkZPUk1BVCxjLGIpfSl9Yz10aGlzLnBhdHRlcm5zW2NdfHxDb2xvcml6ZXIucGF0dGVybnNbY118fGM7aWYoaW5zdGFuY2VPZihjLFJlZ0V4cCkpYz1jLnNvdXJjZTtjPXRoaXMuZXNjYXBlKGMpfXJldHVybiB0aGlzLmJhc2UoYyxkKX0sdW5lc2NhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXHgwMS9nLCImbHQ7IikucmVwbGFjZSgvXHgwMi9nLCImYW1wOyIpfSxfNjc6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy50YWJTdG9wO2lmKGQ+MCl7dmFyIGU9QXJyYXkoZCsxKS5qb2luKCIgIik7cmV0dXJuIGMucmVwbGFjZShDb2xvcml6ZXIuVEFCUyxmdW5jdGlvbihhKXthPWEucmVwbGFjZShDb2xvcml6ZXIuVEFCLGUpO2lmKGQ+MSl7dmFyIGI9KGEubGVuZ3RoLTEpJWQ7aWYoYilhPWEuc2xpY2UoMCwtYil9cmV0dXJuIGEucmVwbGFjZSgvIC9nLCImbmJzcDsiKX0pfXJldHVybiBjfSwiQE1TSUUiOntfNjc6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYmFzZShhKS5yZXBsYWNlKC9ccj9cbi9nLCI8YnI+Iil9fX0se3ZlcnNpb246IjAuOCIsRk9STUFUOic8c3BhbiBjbGFzcz0iJTEiPiQlMjwvc3Bhbj4nLERFRkFVTFQ6REVGQVVMVCxJR05PUkU6SUdOT1JFLFRBQjovXHQvZyxUQUJTOi9cbihbXHQgXHhhMF0rKS9nLGluaXQ6ZnVuY3Rpb24oKXtmb3JFYWNoKHRoaXMucGF0dGVybnMsZnVuY3Rpb24oYyxkLGUpe2lmKGluc3RhbmNlT2YoYyxBcnJheSkpe2VbZF09cmVkdWNlKGMsZnVuY3Rpb24oYSxiKXthLmFkZChlW2JdKTtyZXR1cm4gYX0sbmV3IFJlZ0dycCl9fSk7dGhpcy51cmxzPXRoaXMucGF0dGVybnMudXJscy5jb3B5KCk7dGhpcy51cmxzLnB1dEF0KDAsJzxhIGhyZWY9Im1haWx0bzokMCI+JDA8L2E+Jyk7dGhpcy51cmxzLnB1dEF0KDEsJzxhIGhyZWY9IiQwIj4kMDwvYT4nKX0sYWRkU2NoZW1lOmZ1bmN0aW9uKGEsYixjLGQpe3RoaXNbYV09bmV3IHRoaXMoYixjLGQpfSxwYXR0ZXJuczp7YmxvY2tfY29tbWVudDovXC9cKlteKl0qXCorKFteXC9dW14qXSpcKispKlwvLyxlbWFpbDovKFtcdy4rLV0rQFtcdy4tXStcLlx3KykvLGxpbmVfY29tbWVudDovXC9cL1teXHJcbl0qLyxudW1iZXI6L1xiXC0/KDB8WzEtOV1cZCopKFwuXGQrKT8oW2VFXVstK10/XGQrKT9cYi8sc3RyaW5nMTovJyhcXC58W14nXFxdKSonLyxzdHJpbmcyOi8iKFxcLnxbXiJcXF0pKiIvLHVybDovKGh0dHA6XC9cLytbXHdcL1wtJSYjPS4sPyskXSspLyxjb21tZW50OlsiYmxvY2tfY29tbWVudCIsImxpbmVfY29tbWVudCJdLHN0cmluZzpbInN0cmluZzEiLCJzdHJpbmcyIl0sdXJsczpbImVtYWlsIiwidXJsIl19LHVybHM6bnVsbH0pO2Jhc2UyLmFkZFBhY2thZ2UoImNvZGUiKTtiYXNlMi5jb2RlLmFkZE5hbWUoIkNvbG9yaXplciIsQ29sb3JpemVyKTt3aXRoKGJhc2UyLmNvZGUuQ29sb3JpemVyKWFkZFNjaGVtZSgieG1sIix7YXR0cmlidXRlOi8oXHcrKT0oIlteIl0qInwnW14nXSonKS8sY2RhdGE6LzwhXFtDREFUQVxbKFteXF1dfFxdW15cXV18XF1cXVtePl0pKlxdXF0+Lyxjb21tZW50Oi88IVxzKigtLShbXi1dfFtcclxuXXwtW14tXSkqLS1ccyopPi8sZW50aXR5Oi8mIz9cdys7LywicHJvY2Vzc2luZy1pbnN0cnVjdGlvbiI6LzxcP1tcdy1dK1tePl0rPi8sdGFnOi8oPFwvPykoW1x3Oi1dKykvLHRleHQ6L1s+O11bXjw+Jl0qL30se2NkYXRhOklHTk9SRSx0YWc6IiQxQDIiLGF0dHJpYnV0ZTonQDE9PHNwYW4gY2xhc3M9ImF0dHJpYnV0ZSB2YWx1ZSI+JDI8L3NwYW4+Jyx0ZXh0OklHTk9SRX0se3RhYlN0b3A6MX0pO3dpdGgoYmFzZTIpY29kZS5Db2xvcml6ZXIuYWRkU2NoZW1lKCJodG1sIix7Y29uZGl0aW9uYWw6LzwhKC0tKT9cW1teXF1dKlxdPnw8IVxbZW5kaWZcXSgtLSk/Pi8sZG9jdHlwZTovPCEoRE9DVFlQRXxkb2N0eXBlKVtePl0rPi8saW5saW5lOi88KHNjcmlwdHxzdHlsZSkoW14+XSopPigoXFwufFteXFxdKSopPFwvXDE+L30se2lubGluZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gZm9ybWF0KHRoaXMuSU5MSU5FLGIsdGhpcy5leGVjKGMsdHJ1ZSksZCl9fSx7SU5MSU5FOicmbHQ7PHNwYW4gY2xhc3M9InRhZyI+JTE8L3NwYW4+JTImZ3Q7JTMmbHQ7LzxzcGFuIGNsYXNzPSJ0YWciPiUxPC9zcGFuPiZndDsnLHRhYlN0b3A6MX0pO3dpdGgoYmFzZTIuY29kZS5Db2xvcml6ZXIpaHRtbC5tZXJnZSh4bWwpO3dpdGgoYmFzZTIuY29kZS5Db2xvcml6ZXIpYWRkU2NoZW1lKCJjc3MiLHthdF9ydWxlOi9AW1x3XHNdKy8sYnJhY2tldGVkOi9cKFteJ1x4MjIpXSpcKS8sY29tbWVudDpwYXR0ZXJucy5ibG9ja19jb21tZW50LHByb3BlcnR5Oi8oXHdbXHctXSpccyopOihbXjt9XSspLyxzcGVjaWFsOi8oXC1bXHctXSpccyopOi8sc2VsZWN0b3I6LyhbXHctOlxbLiNdW157fTtdKilcey99LHticmFja2V0ZWQ6SUdOT1JFLHNlbGVjdG9yOiJAMXsiLHNwZWNpYWw6IkAxOiIscHJvcGVydHk6J0AxOjxzcGFuIGNsYXNzPSJwcm9wZXJ0eSB2YWx1ZSI+JDI8L3NwYW4+J30pO3dpdGgoYmFzZTIuY29kZS5Db2xvcml6ZXIpYWRkU2NoZW1lKCJqYXZhc2NyaXB0Iix7Y29uZGl0aW9uYWw6L1wvXCpAaWZccypcKFteXCldKlwpfFwvXCpAW1xzXHddKnxAXCpcL3xcL1wvQFx3K3xAZWxzZVtcc1x3XSovLGdsb2JhbDovXGIoY2xlYXJJbnRlcnZhbHxjbGVhclRpbWVvdXR8Y29uc3RydWN0b3J8ZG9jdW1lbnR8ZXNjYXBlfGhhc093blByb3BlcnR5fEluZmluaXR5fGlzTmFOfE5hTnxwYXJzZUZsb2F0fHBhcnNlSW50fHByb3RvdHlwZXxzZXRJbnRlcnZhbHxzZXRUaW1lb3V0fHRvU3RyaW5nfHVuZXNjYXBlfHZhbHVlT2Z8d2luZG93KVxiLyxrZXl3b3JkOi9cYigmJnxcfFx8fGFyZ3VtZW50c3xicmVha3xjYXNlfGNvbnRpbnVlfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZmFsc2V8Zm9yfGZ1bmN0aW9ufGlmfGlufGluc3RhbmNlb2Z8bmV3fG51bGx8cmV0dXJufHN3aXRjaHx0aGlzfHRydWV8dHlwZW9mfHZhcnx2b2lkfHdoaWxlfHdpdGh8dW5kZWZpbmVkKVxiLyxyZWdleHA6LyhbXFsoXF49LHt9OjsmfCEqP11ccyopKFwvKFxcXC98W15cLypdKShcXC58W15cL1xuXFxdKSpcL1ttZ2ldKikvLHNwZWNpYWw6L1xiKGFzc2VydFx3KnxhbGVydHxjYXRjaHxjb25maXJtfGNvbnNvbGV8ZGVidWd8ZGVidWdnZXJ8ZXZhbHxmaW5hbGx5fHByb21wdHx0aHJvd3x0cnkpXGIvfSx7Y29tbWVudDpERUZBVUxULHN0cmluZzpERUZBVUxULHJlZ2V4cDoiJDFAMiIsbnVtYmVyOkRFRkFVTFR9KTt3aXRoKGJhc2UyKXdpdGgoY29kZSlDb2xvcml6ZXJbImh0bWwtbXVsdGkiXT1Db2xvcml6ZXIuaHRtbC51bmlvbih7aW5saW5lOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWI9PSJzdHlsZSI/ImNzcyI6ImphdmFzY3JpcHQiO2Q9Q29sb3JpemVyW2VdLmV4ZWMoZCx0cnVlKTtkPWZvcm1hdCgnPHNwYW4gY2xhc3M9IiUxIj4lMjwvc3Bhbj4nLGUsZCk7cmV0dXJuIGZvcm1hdCh0aGlzLklOTElORSxiLHRoaXMuZXhlYyhjLHRydWUpLGQpfX0pO3dpdGgoYmFzZTIuY29kZS5Db2xvcml6ZXIuamF2YXNjcmlwdCl7YWRkKCJcXGIoIisoYmFzZTIuZXhwb3J0cysiLGJhc2UsYmFzZTIsbWVyZ2UsdW5pb24saW1wbGVtZW50LEFycmF5MixEYXRlMixTdHJpbmcyIikubWF0Y2goL1teXHMsXSsvZykuam9pbigifCIpKyIpXFxiIiwnPHNwYW4gY2xhc3M9ImJhc2UyIj4kMDwvc3Bhbj4nKTtpbnNlcnRBdCgwLC8oIkBbXiJdKyIpOi8sJzxzcGFuIGNsYXNzPSJzcGVjaWFsIj4kMTwvc3Bhbj46Jyk7dGFiU3RvcD0yfWV2YWwoYmFzZTIubmFtZXNwYWNlKTtldmFsKERPTS5uYW1lc3BhY2UpO2V2YWwoSlNCLm5hbWVzcGFjZSk7dmFyIGJpbmRpbmdzPW5ldyBSdWxlTGlzdDtiaW5kaW5ncy5hZGQoInByZSIse29uZG9jdW1lbnRyZWFkeTpmdW5jdGlvbigpe2lmKHRoaXMuaGFzQ2xhc3MoImpzIikpe3RoaXMuYWRkQ2xhc3MoImphdmFzY3JpcHQiKX12YXIgYT10aGlzLmNsYXNzTmFtZS5zcGxpdCgvXHMrLyk7Zm9yKHZhciBpPTA7aTxhLmxlbmd0aDtpKyspe3ZhciBiPWFbaV07dmFyIGM9Q29sb3JpemVyW2JdO2lmKGMgaW5zdGFuY2VvZiBDb2xvcml6ZXIpe3ZhciBkPVRyYXZlcnNhbC5nZXRUZXh0Q29udGVudCh0aGlzKTt0aGlzLmlubmVySFRNTD1jLmV4ZWMoZCk7dGhpcy5hZGRDbGFzcygiaGlnaGxpZ2h0Iik7aWYoYj09Imh0bWwtbXVsdGkiKXRoaXMuYWRkQ2xhc3MoImh0bWwiKTticmVha319fX0pO2Z1bmN0aW9uIHVwZGF0ZUZsYWcoKXt0aGlzLm5leHRTaWJsaW5nLnN0eWxlLmNvbG9yPXRoaXMudmFsdWU/IiM4OThFNzkiOiIjQTAzMzMzIn07YmluZGluZ3MuYWRkKCJpbnB1dC5yZXF1aXJlZCx0ZXh0YXJlYS5yZXF1aXJlZCIse29uZG9jdW1lbnRyZWFkeTp1cGRhdGVGbGFnLG9uZG9jdW1lbnRtb3VzZXVwOnVwZGF0ZUZsYWcsb25kb2N1bWVudGtleXVwOnVwZGF0ZUZsYWd9KTsNCg=="></script>
    <script type="text/javascript" src="data:application/x-javascript;base64,DQp2YXIgV29yZHMgPSBDb2xsZWN0aW9uLmV4dGVuZCh7DQoJY29uc3RydWN0b3I6IGZ1bmN0aW9uKHNjcmlwdCkgew0KCQl0aGlzLmJhc2UoKTsNCgkJZm9yRWFjaCAoc2NyaXB0Lm1hdGNoKFdPUkRTKSwgdGhpcy5hZGQsIHRoaXMpOw0KCQl0aGlzLmVuY29kZSgpOw0KCX0sDQoJDQoJYWRkOiBmdW5jdGlvbih3b3JkKSB7DQoJCWlmICghdGhpcy5oYXMod29yZCkpIHRoaXMuYmFzZSh3b3JkKTsNCgkJd29yZCA9IHRoaXMuZ2V0KHdvcmQpOw0KCQl3b3JkLmNvdW50Kys7DQoJCXJldHVybiB3b3JkOw0KCX0sDQoJDQoJZW5jb2RlOiBmdW5jdGlvbigpIHsNCgkJLy8gc29ydCBieSBmcmVxdWVuY3kNCgkJdGhpcy5zb3J0KGZ1bmN0aW9uKHdvcmQxLCB3b3JkMikgew0KCQkJcmV0dXJuIHdvcmQyLmNvdW50IC0gd29yZDEuY291bnQ7DQoJCX0pOw0KCQkNCgkJZXZhbCgidmFyIGE9NjIsZT0iICsgUGFja2VyLkVOQ09ERTYyKTsNCgkJdmFyIGVuY29kZSA9IGU7CQkNCgkJdmFyIGVuY29kZWQgPSBuZXcgQ29sbGVjdGlvbjsgLy8gYSBkaWN0aW9uYXJ5IG9mIGJhc2U2MiAtPiBiYXNlMTANCgkJdmFyIGNvdW50ID0gdGhpcy5zaXplKCk7DQoJCWZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykgew0KCQkJZW5jb2RlZC5wdXQoZW5jb2RlKGkpLCBpKTsNCgkJfQ0KCQkNCgkJdmFyIGVtcHR5ID0gZnVuY3Rpb24oKSB7cmV0dXJuICIifTsNCgkJdmFyIGluZGV4ID0gMDsNCgkJZm9yRWFjaCAodGhpcywgZnVuY3Rpb24od29yZCkgew0KCQkJaWYgKGVuY29kZWQuaGFzKHdvcmQpKSB7DQoJCQkJd29yZC5pbmRleCA9IGVuY29kZWQuZ2V0KHdvcmQpOw0KCQkJCXdvcmQudG9TdHJpbmcgPSBlbXB0eTsNCgkJCX0gZWxzZSB7DQoJCQkJd2hpbGUgKHRoaXMuaGFzKGVuY29kZShpbmRleCkpKSBpbmRleCsrOw0KCQkJCXdvcmQuaW5kZXggPSBpbmRleCsrOw0KCQkJfQ0KCQkJd29yZC5lbmNvZGVkID0gZW5jb2RlKHdvcmQuaW5kZXgpOw0KCQl9LCB0aGlzKTsNCgkJDQoJCS8vIHNvcnQgYnkgZW5jb2RpbmcNCgkJdGhpcy5zb3J0KGZ1bmN0aW9uKHdvcmQxLCB3b3JkMikgew0KCQkJcmV0dXJuIHdvcmQxLmluZGV4IC0gd29yZDIuaW5kZXg7DQoJCX0pOw0KCX0sDQoJDQoJdG9TdHJpbmc6IGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gdGhpcy5nZXRWYWx1ZXMoKS5qb2luKCJ8Iik7DQoJfQ0KfSwgew0KCUl0ZW06IHsNCgkJY29uc3RydWN0b3I6IGZ1bmN0aW9uKHdvcmQpIHsNCgkJCXRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtyZXR1cm4gd29yZH07DQoJCX0sDQoJCQ0KCQljb3VudDogMCwNCgkJZW5jb2RlZDogIiIsDQoJCWluZGV4OiAtMQ0KCX0NCn0pOw0K"></script>
    <script type="text/javascript" src="data:application/x-javascript;base64,77u/DQoNCmZ1bmN0aW9uIGpzX2JlYXV0aWZ5KGpzX3NvdXJjZV90ZXh0LCBpbmRlbnRfc2l6ZSwgaW5kZW50X2NoYXJhY3RlciwgaW5kZW50X2xldmVsKQ0Kew0KDQogICAgdmFyIGlucHV0LCBvdXRwdXQsIHRva2VuX3RleHQsIGxhc3RfdHlwZSwgbGFzdF90ZXh0LCBsYXN0X3dvcmQsIGN1cnJlbnRfbW9kZSwgbW9kZXMsIGluZGVudF9zdHJpbmc7DQogICAgdmFyIHdoaXRlc3BhY2UsIHdvcmRjaGFyLCBwdW5jdCwgcGFyc2VyX3BvcywgbGluZV9zdGFydGVycywgaW5fY2FzZTsNCiAgICB2YXIgcHJlZml4LCB0b2tlbl90eXBlLCBkb19ibG9ja19qdXN0X2Nsb3NlZCwgdmFyX2xpbmUsIHZhcl9saW5lX3RhaW50ZWQ7DQoNCg0KDQogICAgZnVuY3Rpb24gdHJpbV9vdXRwdXQoKQ0KICAgIHsNCiAgICAgICAgd2hpbGUgKG91dHB1dC5sZW5ndGggJiYgKG91dHB1dFtvdXRwdXQubGVuZ3RoIC0gMV0gPT09ICcgJyB8fCBvdXRwdXRbb3V0cHV0Lmxlbmd0aCAtIDFdID09PSBpbmRlbnRfc3RyaW5nKSkgew0KICAgICAgICAgICAgb3V0cHV0LnBvcCgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcHJpbnRfbmV3bGluZShpZ25vcmVfcmVwZWF0ZWQpDQogICAgew0KICAgICAgICBpZ25vcmVfcmVwZWF0ZWQgPSB0eXBlb2YgaWdub3JlX3JlcGVhdGVkID09PSAndW5kZWZpbmVkJyA/IHRydWU6IGlnbm9yZV9yZXBlYXRlZDsNCiAgICAgICAgDQogICAgICAgIHRyaW1fb3V0cHV0KCk7DQoNCiAgICAgICAgaWYgKCFvdXRwdXQubGVuZ3RoKSB7DQogICAgICAgICAgICByZXR1cm47IC8vIG5vIG5ld2xpbmUgb24gc3RhcnQgb2YgZmlsZQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKG91dHB1dFtvdXRwdXQubGVuZ3RoIC0gMV0gIT09ICJcbiIgfHwgIWlnbm9yZV9yZXBlYXRlZCkgew0KICAgICAgICAgICAgb3V0cHV0LnB1c2goIlxuIik7DQogICAgICAgIH0NCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRlbnRfbGV2ZWw7IGkrKykgew0KICAgICAgICAgICAgb3V0cHV0LnB1c2goaW5kZW50X3N0cmluZyk7DQogICAgICAgIH0NCiAgICB9DQoNCg0KDQogICAgZnVuY3Rpb24gcHJpbnRfc3BhY2UoKQ0KICAgIHsNCiAgICAgICAgdmFyIGxhc3Rfb3V0cHV0ID0gb3V0cHV0Lmxlbmd0aCA/IG91dHB1dFtvdXRwdXQubGVuZ3RoIC0gMV0gOiAnICc7DQogICAgICAgIGlmIChsYXN0X291dHB1dCAhPT0gJyAnICYmIGxhc3Rfb3V0cHV0ICE9PSAnXG4nICYmIGxhc3Rfb3V0cHV0ICE9PSBpbmRlbnRfc3RyaW5nKSB7IC8vIHByZXZlbnQgb2NjYXNzaW9uYWwgZHVwbGljYXRlIHNwYWNlDQogICAgICAgICAgICBvdXRwdXQucHVzaCgnICcpOw0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICBmdW5jdGlvbiBwcmludF90b2tlbigpDQogICAgew0KICAgICAgICBvdXRwdXQucHVzaCh0b2tlbl90ZXh0KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBpbmRlbnQoKQ0KICAgIHsNCiAgICAgICAgaW5kZW50X2xldmVsKys7DQogICAgfQ0KDQoNCiAgICBmdW5jdGlvbiB1bmluZGVudCgpDQogICAgew0KICAgICAgICBpZiAoaW5kZW50X2xldmVsKSB7DQogICAgICAgICAgICBpbmRlbnRfbGV2ZWwtLTsNCiAgICAgICAgfQ0KICAgIH0NCg0KDQogICAgZnVuY3Rpb24gcmVtb3ZlX2luZGVudCgpDQogICAgew0KICAgICAgICBpZiAob3V0cHV0Lmxlbmd0aCAmJiBvdXRwdXRbb3V0cHV0Lmxlbmd0aCAtIDFdID09PSBpbmRlbnRfc3RyaW5nKSB7DQogICAgICAgICAgICBvdXRwdXQucG9wKCk7DQogICAgICAgIH0NCiAgICB9DQoNCg0KICAgIGZ1bmN0aW9uIHNldF9tb2RlKG1vZGUpDQogICAgew0KICAgICAgICBtb2Rlcy5wdXNoKGN1cnJlbnRfbW9kZSk7DQogICAgICAgIGN1cnJlbnRfbW9kZSA9IG1vZGU7DQogICAgfQ0KDQoNCiAgICBmdW5jdGlvbiByZXN0b3JlX21vZGUoKQ0KICAgIHsNCiAgICAgICAgZG9fYmxvY2tfanVzdF9jbG9zZWQgPSBjdXJyZW50X21vZGUgPT09ICdET19CTE9DSyc7DQogICAgICAgIGN1cnJlbnRfbW9kZSA9IG1vZGVzLnBvcCgpOw0KICAgIH0NCg0KDQogICAgZnVuY3Rpb24gaW5fYXJyYXkod2hhdCwgYXJyKQ0KICAgIHsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmIChhcnJbaV0gPT09IHdoYXQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KDQoNCg0KICAgIGZ1bmN0aW9uIGdldF9uZXh0X3Rva2VuKCkNCiAgICB7DQogICAgICAgIHZhciBuX25ld2xpbmVzID0gMDsNCiAgICAgICAgdmFyIGMgPSAnJzsNCg0KICAgICAgICBkbyB7DQogICAgICAgICAgICBpZiAocGFyc2VyX3BvcyA+PSBpbnB1dC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gWycnLCAnVEtfRU9GJ107DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjID0gaW5wdXQuY2hhckF0KHBhcnNlcl9wb3MpOw0KDQogICAgICAgICAgICBwYXJzZXJfcG9zICs9IDE7DQogICAgICAgICAgICBpZiAoYyA9PT0gIlxuIikgew0KICAgICAgICAgICAgICAgIG5fbmV3bGluZXMgKz0gMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB3aGlsZSAoaW5fYXJyYXkoYywgd2hpdGVzcGFjZSkpOw0KDQogICAgICAgIGlmIChuX25ld2xpbmVzID4gMSkgew0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyOyBpKyspIHsNCiAgICAgICAgICAgICAgICBwcmludF9uZXdsaW5lKGkgPT09IDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHZhciB3YW50ZWRfbmV3bGluZSA9IChuX25ld2xpbmVzID09PSAxKTsNCg0KDQogICAgICAgIGlmIChpbl9hcnJheShjLCB3b3JkY2hhcikpIHsNCiAgICAgICAgICAgIGlmIChwYXJzZXJfcG9zIDwgaW5wdXQubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgd2hpbGUgKGluX2FycmF5KGlucHV0LmNoYXJBdChwYXJzZXJfcG9zKSwgd29yZGNoYXIpKSB7DQogICAgICAgICAgICAgICAgICAgIGMgKz0gaW5wdXQuY2hhckF0KHBhcnNlcl9wb3MpOw0KICAgICAgICAgICAgICAgICAgICBwYXJzZXJfcG9zICs9IDE7DQogICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZXJfcG9zID09PSBpbnB1dC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBzbWFsbCBhbmQgc3VycHJpc2luZ2x5IHVudWdseSBoYWNrIGZvciAxRS0xMCByZXByZXNlbnRhdGlvbg0KICAgICAgICAgICAgaWYgKHBhcnNlcl9wb3MgIT09IGlucHV0Lmxlbmd0aCAmJiBjLm1hdGNoKC9eWzAtOV0rW0VlXSQvKSAmJiBpbnB1dC5jaGFyQXQocGFyc2VyX3BvcykgPT09ICctJykgew0KICAgICAgICAgICAgICAgIHBhcnNlcl9wb3MgKz0gMTsNCg0KICAgICAgICAgICAgICAgIHZhciB0ID0gZ2V0X25leHRfdG9rZW4ocGFyc2VyX3Bvcyk7DQogICAgICAgICAgICAgICAgYyArPSAnLScgKyB0WzBdOw0KICAgICAgICAgICAgICAgIHJldHVybiBbYywgJ1RLX1dPUkQnXTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGMgPT09ICdpbicpIHsgLy8gaGFjayBmb3IgJ2luJyBvcGVyYXRvcg0KICAgICAgICAgICAgICAgIHJldHVybiBbYywgJ1RLX09QRVJBVE9SJ107DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gW2MsICdUS19XT1JEJ107DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmIChjID09PSAnKCcgfHwgYyA9PT0gJ1snKSB7DQogICAgICAgICAgICByZXR1cm4gW2MsICdUS19TVEFSVF9FWFBSJ107DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoYyA9PT0gJyknIHx8IGMgPT09ICddJykgew0KICAgICAgICAgICAgcmV0dXJuIFtjLCAnVEtfRU5EX0VYUFInXTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChjID09PSAneycpIHsNCiAgICAgICAgICAgIHJldHVybiBbYywgJ1RLX1NUQVJUX0JMT0NLJ107DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoYyA9PT0gJ30nKSB7DQogICAgICAgICAgICByZXR1cm4gW2MsICdUS19FTkRfQkxPQ0snXTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChjID09PSAnOycpIHsNCiAgICAgICAgICAgIHJldHVybiBbYywgJ1RLX0VORF9DT01NQU5EJ107DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoYyA9PT0gJy8nKSB7DQogICAgICAgICAgICB2YXIgY29tbWVudCA9ICcnOw0KICAgICAgICAgICAgLy8gcGVlayBmb3IgY29tbWVudCAvKiAuLi4gKi8NCiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQXQocGFyc2VyX3BvcykgPT09ICcqJykgew0KICAgICAgICAgICAgICAgIHBhcnNlcl9wb3MgKz0gMTsNCiAgICAgICAgICAgICAgICBpZiAocGFyc2VyX3BvcyA8IGlucHV0Lmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICB3aGlsZSAoISAoaW5wdXQuY2hhckF0KHBhcnNlcl9wb3MpID09PSAnKicgJiYgaW5wdXQuY2hhckF0KHBhcnNlcl9wb3MgKyAxKSAmJiBpbnB1dC5jaGFyQXQocGFyc2VyX3BvcyArIDEpID09PSAnLycpICYmIHBhcnNlcl9wb3MgPCBpbnB1dC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgKz0gaW5wdXQuY2hhckF0KHBhcnNlcl9wb3MpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VyX3BvcyArPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlcl9wb3MgPj0gaW5wdXQubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcGFyc2VyX3BvcyArPSAyOw0KICAgICAgICAgICAgICAgIHJldHVybiBbJy8qJyArIGNvbW1lbnQgKyAnKi8nLCAnVEtfQkxPQ0tfQ09NTUVOVCddOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gcGVlayBmb3IgY29tbWVudCAvLyAuLi4NCiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQXQocGFyc2VyX3BvcykgPT09ICcvJykgew0KICAgICAgICAgICAgICAgIGNvbW1lbnQgPSBjOw0KICAgICAgICAgICAgICAgIHdoaWxlIChpbnB1dC5jaGFyQXQocGFyc2VyX3BvcykgIT09ICJceDBkIiAmJiBpbnB1dC5jaGFyQXQocGFyc2VyX3BvcykgIT09ICJceDBhIikgew0KICAgICAgICAgICAgICAgICAgICBjb21tZW50ICs9IGlucHV0LmNoYXJBdChwYXJzZXJfcG9zKTsNCiAgICAgICAgICAgICAgICAgICAgcGFyc2VyX3BvcyArPSAxOw0KICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VyX3BvcyA+PSBpbnB1dC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHBhcnNlcl9wb3MgKz0gMTsNCiAgICAgICAgICAgICAgICBpZiAod2FudGVkX25ld2xpbmUpIHsNCiAgICAgICAgICAgICAgICAgICAgcHJpbnRfbmV3bGluZSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gW2NvbW1lbnQsICdUS19DT01NRU5UJ107DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChjID09PSAiJyIgfHwgLy8gc3RyaW5nDQogICAgICAgIGMgPT09ICciJyB8fCAvLyBzdHJpbmcNCiAgICAgICAgKGMgPT09ICcvJyAmJg0KICAgICAgICAoKGxhc3RfdHlwZSA9PT0gJ1RLX1dPUkQnICYmIGxhc3RfdGV4dCA9PT0gJ3JldHVybicpIHx8IChsYXN0X3R5cGUgPT09ICdUS19TVEFSVF9FWFBSJyB8fCBsYXN0X3R5cGUgPT09ICdUS19FTkRfQkxPQ0snIHx8IGxhc3RfdHlwZSA9PT0gJ1RLX09QRVJBVE9SJyB8fCBsYXN0X3R5cGUgPT09ICdUS19FT0YnIHx8IGxhc3RfdHlwZSA9PT0gJ1RLX0VORF9DT01NQU5EJykpKSkgeyAvLyByZWdleHANCiAgICAgICAgICAgIHZhciBzZXAgPSBjOw0KICAgICAgICAgICAgdmFyIGVzYyA9IGZhbHNlOw0KICAgICAgICAgICAgYyA9ICcnOw0KDQogICAgICAgICAgICBpZiAocGFyc2VyX3BvcyA8IGlucHV0Lmxlbmd0aCkgew0KDQogICAgICAgICAgICAgICAgd2hpbGUgKGVzYyB8fCBpbnB1dC5jaGFyQXQocGFyc2VyX3BvcykgIT09IHNlcCkgew0KICAgICAgICAgICAgICAgICAgICBjICs9IGlucHV0LmNoYXJBdChwYXJzZXJfcG9zKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFlc2MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVzYyA9IGlucHV0LmNoYXJBdChwYXJzZXJfcG9zKSA9PT0gJ1xcJzsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVzYyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHBhcnNlcl9wb3MgKz0gMTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlcl9wb3MgPj0gaW5wdXQubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBwYXJzZXJfcG9zICs9IDE7DQogICAgICAgICAgICBpZiAobGFzdF90eXBlID09PSAnVEtfRU5EX0NPTU1BTkQnKSB7DQogICAgICAgICAgICAgICAgcHJpbnRfbmV3bGluZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIFtzZXAgKyBjICsgc2VwLCAnVEtfU1RSSU5HJ107DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoaW5fYXJyYXkoYywgcHVuY3QpKSB7DQogICAgICAgICAgICB3aGlsZSAocGFyc2VyX3BvcyA8IGlucHV0Lmxlbmd0aCAmJiBpbl9hcnJheShjICsgaW5wdXQuY2hhckF0KHBhcnNlcl9wb3MpLCBwdW5jdCkpIHsNCiAgICAgICAgICAgICAgICBjICs9IGlucHV0LmNoYXJBdChwYXJzZXJfcG9zKTsNCiAgICAgICAgICAgICAgICBwYXJzZXJfcG9zICs9IDE7DQogICAgICAgICAgICAgICAgaWYgKHBhcnNlcl9wb3MgPj0gaW5wdXQubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBbYywgJ1RLX09QRVJBVE9SJ107DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gW2MsICdUS19VTktOT1dOJ107DQogICAgfQ0KDQoNCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KICAgIGluZGVudF9jaGFyYWN0ZXIgPSBpbmRlbnRfY2hhcmFjdGVyIHx8ICcgJzsNCiAgICBpbmRlbnRfc2l6ZSA9IGluZGVudF9zaXplIHx8IDQ7DQoNCiAgICBpbmRlbnRfc3RyaW5nID0gJyc7DQogICAgd2hpbGUgKGluZGVudF9zaXplLS0pIHsNCiAgICAgICAgaW5kZW50X3N0cmluZyArPSBpbmRlbnRfY2hhcmFjdGVyOw0KICAgIH0NCg0KICAgIGlucHV0ID0ganNfc291cmNlX3RleHQ7DQoNCiAgICBsYXN0X3dvcmQgPSAnJzsgLy8gbGFzdCAnVEtfV09SRCcgcGFzc2VkDQogICAgbGFzdF90eXBlID0gJ1RLX1NUQVJUX0VYUFInOyAvLyBsYXN0IHRva2VuIHR5cGUNCiAgICBsYXN0X3RleHQgPSAnJzsgLy8gbGFzdCB0b2tlbiB0ZXh0DQogICAgb3V0cHV0ID0gW107DQoNCiAgICBkb19ibG9ja19qdXN0X2Nsb3NlZCA9IGZhbHNlOw0KICAgIHZhcl9saW5lID0gZmFsc2U7DQogICAgdmFyX2xpbmVfdGFpbnRlZCA9IGZhbHNlOw0KDQogICAgd2hpdGVzcGFjZSA9ICJcblxyXHQgIi5zcGxpdCgnJyk7DQogICAgd29yZGNoYXIgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODlfJCcuc3BsaXQoJycpOw0KICAgIHB1bmN0ID0gJysgLSAqIC8gJSAmICsrIC0tID0gKz0gLT0gKj0gLz0gJT0gPT0gPT09ICE9ICE9PSA+IDwgPj0gPD0gPj4gPDwgPj4+ID4+Pj0gPj49IDw8PSAmJiAmPSB8IHx8ICEgISEgLCA6ID8gXiBePSB8PScuc3BsaXQoJyAnKTsNCg0KICAgIC8vIHdvcmRzIHdoaWNoIHNob3VsZCBhbHdheXMgc3RhcnQgb24gbmV3IGxpbmUuDQogICAgbGluZV9zdGFydGVycyA9ICdjb250aW51ZSx0cnksdGhyb3cscmV0dXJuLHZhcixpZixzd2l0Y2gsY2FzZSxkZWZhdWx0LGZvcix3aGlsZSxicmVhayxmdW5jdGlvbicuc3BsaXQoJywnKTsNCg0KICAgIC8vIHN0YXRlcyBzaG93aW5nIGlmIHdlIGFyZSBjdXJyZW50bHkgaW4gZXhwcmVzc2lvbiAoaS5lLiAiaWYiIGNhc2UpIC0gJ0VYUFJFU1NJT04nLCBvciBpbiB1c3VhbCBibG9jayAobGlrZSwgcHJvY2VkdXJlKSwgJ0JMT0NLJy4NCiAgICAvLyBzb21lIGZvcm1hdHRpbmcgZGVwZW5kcyBvbiB0aGF0Lg0KICAgIGN1cnJlbnRfbW9kZSA9ICdCTE9DSyc7DQogICAgbW9kZXMgPSBbY3VycmVudF9tb2RlXTsNCg0KICAgIGluZGVudF9sZXZlbCA9IGluZGVudF9sZXZlbCB8fCAwOw0KICAgIHBhcnNlcl9wb3MgPSAwOyAvLyBwYXJzZXIgcG9zaXRpb24NCiAgICBpbl9jYXNlID0gZmFsc2U7IC8vIGZsYWcgZm9yIHBhcnNlciB0aGF0IGNhc2UvZGVmYXVsdCBoYXMgYmVlbiBwcm9jZXNzZWQsIGFuZCBuZXh0IGNvbG9uIG5lZWRzIHNwZWNpYWwgYXR0ZW50aW9uDQogICAgd2hpbGUgKHRydWUpIHsNCiAgICAgICAgdmFyIHQgPSBnZXRfbmV4dF90b2tlbihwYXJzZXJfcG9zKTsNCiAgICAgICAgdG9rZW5fdGV4dCA9IHRbMF07DQogICAgICAgIHRva2VuX3R5cGUgPSB0WzFdOw0KICAgICAgICBpZiAodG9rZW5fdHlwZSA9PT0gJ1RLX0VPRicpIHsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQoNCiAgICAgICAgc3dpdGNoICh0b2tlbl90eXBlKSB7DQoNCiAgICAgICAgY2FzZSAnVEtfU1RBUlRfRVhQUic6DQogICAgICAgICAgICB2YXJfbGluZSA9IGZhbHNlOw0KICAgICAgICAgICAgc2V0X21vZGUoJ0VYUFJFU1NJT04nKTsNCiAgICAgICAgICAgIGlmIChsYXN0X3R5cGUgPT09ICdUS19FTkRfRVhQUicgfHwgbGFzdF90eXBlID09PSAnVEtfU1RBUlRfRVhQUicpIHsNCiAgICAgICAgICAgICAgICAvLyBkbyBub3RoaW5nIG9uICgoIGFuZCApKCBhbmQgXVsgYW5kIF0oIC4uDQogICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RfdHlwZSAhPT0gJ1RLX1dPUkQnICYmIGxhc3RfdHlwZSAhPT0gJ1RLX09QRVJBVE9SJykgew0KICAgICAgICAgICAgICAgIHByaW50X3NwYWNlKCk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGluX2FycmF5KGxhc3Rfd29yZCwgbGluZV9zdGFydGVycykgJiYgbGFzdF93b3JkICE9PSAnZnVuY3Rpb24nKSB7DQogICAgICAgICAgICAgICAgcHJpbnRfc3BhY2UoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHByaW50X3Rva2VuKCk7DQogICAgICAgICAgICBicmVhazsNCg0KICAgICAgICBjYXNlICdUS19FTkRfRVhQUic6DQogICAgICAgICAgICBwcmludF90b2tlbigpOw0KICAgICAgICAgICAgcmVzdG9yZV9tb2RlKCk7DQogICAgICAgICAgICBicmVhazsNCg0KICAgICAgICBjYXNlICdUS19TVEFSVF9CTE9DSyc6DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChsYXN0X3dvcmQgPT09ICdkbycpIHsNCiAgICAgICAgICAgICAgICBzZXRfbW9kZSgnRE9fQkxPQ0snKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgc2V0X21vZGUoJ0JMT0NLJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAobGFzdF90eXBlICE9PSAnVEtfT1BFUkFUT1InICYmIGxhc3RfdHlwZSAhPT0gJ1RLX1NUQVJUX0VYUFInKSB7DQogICAgICAgICAgICAgICAgaWYgKGxhc3RfdHlwZSA9PT0gJ1RLX1NUQVJUX0JMT0NLJykgew0KICAgICAgICAgICAgICAgICAgICBwcmludF9uZXdsaW5lKCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcHJpbnRfc3BhY2UoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBwcmludF90b2tlbigpOw0KICAgICAgICAgICAgaW5kZW50KCk7DQogICAgICAgICAgICBicmVhazsNCg0KICAgICAgICBjYXNlICdUS19FTkRfQkxPQ0snOg0KICAgICAgICAgICAgaWYgKGxhc3RfdHlwZSA9PT0gJ1RLX1NUQVJUX0JMT0NLJykgew0KICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcNCiAgICAgICAgICAgICAgICB0cmltX291dHB1dCgpOw0KICAgICAgICAgICAgICAgIHVuaW5kZW50KCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHVuaW5kZW50KCk7DQogICAgICAgICAgICAgICAgcHJpbnRfbmV3bGluZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcHJpbnRfdG9rZW4oKTsNCiAgICAgICAgICAgIHJlc3RvcmVfbW9kZSgpOw0KICAgICAgICAgICAgYnJlYWs7DQoNCiAgICAgICAgY2FzZSAnVEtfV09SRCc6DQoNCiAgICAgICAgICAgIGlmIChkb19ibG9ja19qdXN0X2Nsb3NlZCkgew0KICAgICAgICAgICAgICAgIHByaW50X3NwYWNlKCk7DQogICAgICAgICAgICAgICAgcHJpbnRfdG9rZW4oKTsNCiAgICAgICAgICAgICAgICBwcmludF9zcGFjZSgpOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAodG9rZW5fdGV4dCA9PT0gJ2Nhc2UnIHx8IHRva2VuX3RleHQgPT09ICdkZWZhdWx0Jykgew0KICAgICAgICAgICAgICAgIGlmIChsYXN0X3RleHQgPT09ICc6Jykgew0KICAgICAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggY2FzZXMgZm9sbG93aW5nIG9uZSBhbm90aGVyDQogICAgICAgICAgICAgICAgICAgIHJlbW92ZV9pbmRlbnQoKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAvLyBjYXNlIHN0YXRlbWVudCBzdGFydHMgaW4gdGhlIHNhbWUgbGluZSB3aGVyZSBzd2l0Y2gNCiAgICAgICAgICAgICAgICAgICAgdW5pbmRlbnQoKTsNCiAgICAgICAgICAgICAgICAgICAgcHJpbnRfbmV3bGluZSgpOw0KICAgICAgICAgICAgICAgICAgICBpbmRlbnQoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcHJpbnRfdG9rZW4oKTsNCiAgICAgICAgICAgICAgICBpbl9jYXNlID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICBwcmVmaXggPSAnTk9ORSc7DQogICAgICAgICAgICBpZiAobGFzdF90eXBlID09PSAnVEtfRU5EX0JMT0NLJykgew0KICAgICAgICAgICAgICAgIGlmICghaW5fYXJyYXkodG9rZW5fdGV4dC50b0xvd2VyQ2FzZSgpLCBbJ2Vsc2UnLCAnY2F0Y2gnLCAnZmluYWxseSddKSkgew0KICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSAnTkVXTElORSc7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcHJlZml4ID0gJ1NQQUNFJzsNCiAgICAgICAgICAgICAgICAgICAgcHJpbnRfc3BhY2UoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RfdHlwZSA9PT0gJ1RLX0VORF9DT01NQU5EJyAmJiAoY3VycmVudF9tb2RlID09PSAnQkxPQ0snIHx8IGN1cnJlbnRfbW9kZSA9PT0gJ0RPX0JMT0NLJykpIHsNCiAgICAgICAgICAgICAgICBwcmVmaXggPSAnTkVXTElORSc7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RfdHlwZSA9PT0gJ1RLX0VORF9DT01NQU5EJyAmJiBjdXJyZW50X21vZGUgPT09ICdFWFBSRVNTSU9OJykgew0KICAgICAgICAgICAgICAgIHByZWZpeCA9ICdTUEFDRSc7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RfdHlwZSA9PT0gJ1RLX1dPUkQnKSB7DQogICAgICAgICAgICAgICAgcHJlZml4ID0gJ1NQQUNFJzsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdF90eXBlID09PSAnVEtfU1RBUlRfQkxPQ0snKSB7DQogICAgICAgICAgICAgICAgcHJlZml4ID0gJ05FV0xJTkUnOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChsYXN0X3R5cGUgPT09ICdUS19FTkRfRVhQUicpIHsNCiAgICAgICAgICAgICAgICBwcmludF9zcGFjZSgpOw0KICAgICAgICAgICAgICAgIHByZWZpeCA9ICdORVdMSU5FJzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGxhc3RfdHlwZSAhPT0gJ1RLX0VORF9CTE9DSycgJiYgaW5fYXJyYXkodG9rZW5fdGV4dC50b0xvd2VyQ2FzZSgpLCBbJ2Vsc2UnLCAnY2F0Y2gnLCAnZmluYWxseSddKSkgew0KICAgICAgICAgICAgICAgIHByaW50X25ld2xpbmUoKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5fYXJyYXkodG9rZW5fdGV4dCwgbGluZV9zdGFydGVycykgfHwgcHJlZml4ID09PSAnTkVXTElORScpIHsNCiAgICAgICAgICAgICAgICBpZiAobGFzdF90ZXh0ID09PSAnZWxzZScpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBmb3JjZSBuZXdsaW5lIG9uIGVsc2UgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgcHJpbnRfc3BhY2UoKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChsYXN0X3R5cGUgPT09ICdUS19TVEFSVF9FWFBSJyB8fCBsYXN0X3RleHQgPT09ICc9JykgJiYgdG9rZW5fdGV4dCA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICAgICAgICAgICAgICAvLyBubyBuZWVkIHRvIGZvcmNlIG5ld2xpbmUgb24gJ2Z1bmN0aW9uJzogKGZ1bmN0aW9uDQogICAgICAgICAgICAgICAgICAgIC8vIERPTk9USElORw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdF90eXBlID09PSAnVEtfV09SRCcgJiYgKGxhc3RfdGV4dCA9PT0gJ3JldHVybicgfHwgbGFzdF90ZXh0ID09PSAndGhyb3cnKSkgew0KICAgICAgICAgICAgICAgICAgICAvLyBubyBuZXdsaW5lIGJldHdlZW4gJ3JldHVybiBubm4nDQogICAgICAgICAgICAgICAgICAgIHByaW50X3NwYWNlKCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXN0X3R5cGUgIT09ICdUS19FTkRfRVhQUicpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKChsYXN0X3R5cGUgIT09ICdUS19TVEFSVF9FWFBSJyB8fCB0b2tlbl90ZXh0ICE9PSAndmFyJykgJiYgbGFzdF90ZXh0ICE9PSAnOicpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gZm9yY2UgbmV3bGluZSBvbiAndmFyJzogZm9yICh2YXIgeCA9IDAuLi4pDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5fdGV4dCA9PT0gJ2lmJyAmJiBsYXN0X3R5cGUgPT09ICdUS19XT1JEJyAmJiBsYXN0X3dvcmQgPT09ICdlbHNlJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIG5ld2xpbmUgZm9yIH0gZWxzZSBpZiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnRfc3BhY2UoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnRfbmV3bGluZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGluX2FycmF5KHRva2VuX3RleHQsIGxpbmVfc3RhcnRlcnMpICYmIGxhc3RfdGV4dCAhPT0gJyknKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludF9uZXdsaW5lKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKHByZWZpeCA9PT0gJ1NQQUNFJykgew0KICAgICAgICAgICAgICAgIHByaW50X3NwYWNlKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBwcmludF90b2tlbigpOw0KICAgICAgICAgICAgbGFzdF93b3JkID0gdG9rZW5fdGV4dDsNCg0KICAgICAgICAgICAgaWYgKHRva2VuX3RleHQgPT09ICd2YXInKSB7DQogICAgICAgICAgICAgICAgdmFyX2xpbmUgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHZhcl9saW5lX3RhaW50ZWQgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgYnJlYWs7DQoNCiAgICAgICAgY2FzZSAnVEtfRU5EX0NPTU1BTkQnOg0KDQogICAgICAgICAgICBwcmludF90b2tlbigpOw0KICAgICAgICAgICAgdmFyX2xpbmUgPSBmYWxzZTsNCiAgICAgICAgICAgIGJyZWFrOw0KDQogICAgICAgIGNhc2UgJ1RLX1NUUklORyc6DQoNCiAgICAgICAgICAgIGlmIChsYXN0X3R5cGUgPT09ICdUS19TVEFSVF9CTE9DSycgfHwgbGFzdF90eXBlID09PSAnVEtfRU5EX0JMT0NLJykgew0KICAgICAgICAgICAgICAgIHByaW50X25ld2xpbmUoKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdF90eXBlID09PSAnVEtfV09SRCcpIHsNCiAgICAgICAgICAgICAgICBwcmludF9zcGFjZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcHJpbnRfdG9rZW4oKTsNCiAgICAgICAgICAgIGJyZWFrOw0KDQogICAgICAgIGNhc2UgJ1RLX09QRVJBVE9SJzoNCg0KICAgICAgICAgICAgdmFyIHN0YXJ0X2RlbGltID0gdHJ1ZTsNCiAgICAgICAgICAgIHZhciBlbmRfZGVsaW0gPSB0cnVlOw0KICAgICAgICAgICAgaWYgKHZhcl9saW5lICYmIHRva2VuX3RleHQgIT09ICcsJykgew0KICAgICAgICAgICAgICAgIHZhcl9saW5lX3RhaW50ZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIGlmICh0b2tlbl90ZXh0ID09PSAnOicpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyX2xpbmUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmICh0b2tlbl90ZXh0ID09PSAnOicgJiYgaW5fY2FzZSkgew0KICAgICAgICAgICAgICAgIHByaW50X3Rva2VuKCk7IC8vIGNvbG9uIHJlYWxseSBhc2tzIGZvciBzZXBhcmF0ZSB0cmVhdG1lbnQNCiAgICAgICAgICAgICAgICBwcmludF9uZXdsaW5lKCk7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGluX2Nhc2UgPSBmYWxzZTsNCg0KICAgICAgICAgICAgaWYgKHRva2VuX3RleHQgPT09ICcsJykgew0KICAgICAgICAgICAgICAgIGlmICh2YXJfbGluZSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAodmFyX2xpbmVfdGFpbnRlZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnRfdG9rZW4oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50X25ld2xpbmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhcl9saW5lX3RhaW50ZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50X3Rva2VuKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludF9zcGFjZSgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXN0X3R5cGUgPT09ICdUS19FTkRfQkxPQ0snKSB7DQogICAgICAgICAgICAgICAgICAgIHByaW50X3Rva2VuKCk7DQogICAgICAgICAgICAgICAgICAgIHByaW50X25ld2xpbmUoKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudF9tb2RlID09PSAnQkxPQ0snKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludF90b2tlbigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnRfbmV3bGluZSgpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gRVhQUiBvZCBET19CTE9DSw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnRfdG9rZW4oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50X3NwYWNlKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuX3RleHQgPT09ICctLScgfHwgdG9rZW5fdGV4dCA9PT0gJysrJykgeyAvLyB1bmFyeSBvcGVyYXRvcnMgc3BlY2lhbCBjYXNlDQogICAgICAgICAgICAgICAgaWYgKGxhc3RfdGV4dCA9PT0gJzsnKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIHNwYWNlIGZvciAoOzsgKytpKQ0KICAgICAgICAgICAgICAgICAgICBzdGFydF9kZWxpbSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIGVuZF9kZWxpbSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RlbGltID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIGVuZF9kZWxpbSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW5fdGV4dCA9PT0gJyEnICYmIGxhc3RfdHlwZSA9PT0gJ1RLX1NUQVJUX0VYUFInKSB7DQogICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGhhbmRsaW5nOiBpZiAoIWEpDQogICAgICAgICAgICAgICAgc3RhcnRfZGVsaW0gPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBlbmRfZGVsaW0gPSBmYWxzZTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdF90eXBlID09PSAnVEtfT1BFUkFUT1InKSB7DQogICAgICAgICAgICAgICAgc3RhcnRfZGVsaW0gPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBlbmRfZGVsaW0gPSBmYWxzZTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdF90eXBlID09PSAnVEtfRU5EX0VYUFInKSB7DQogICAgICAgICAgICAgICAgc3RhcnRfZGVsaW0gPSB0cnVlOw0KICAgICAgICAgICAgICAgIGVuZF9kZWxpbSA9IHRydWU7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuX3RleHQgPT09ICcuJykgew0KICAgICAgICAgICAgICAgIC8vIGRlY2ltYWwgZGlnaXRzIG9yIG9iamVjdC5wcm9wZXJ0eQ0KICAgICAgICAgICAgICAgIHN0YXJ0X2RlbGltID0gZmFsc2U7DQogICAgICAgICAgICAgICAgZW5kX2RlbGltID0gZmFsc2U7DQoNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW5fdGV4dCA9PT0gJzonKSB7DQogICAgICAgICAgICAgICAgLy8geno6IHh4DQogICAgICAgICAgICAgICAgLy8gY2FuJ3QgZGlmZmVyZW50aWF0ZSB0ZXJuYXJ5IG9wLCBzbyBmb3Igbm93IGl0J3MgYSA/IGI6IGM7IHdpdGhvdXQgc3BhY2UgYmVmb3JlIGNvbG9uDQogICAgICAgICAgICAgICAgaWYgKGxhc3RfdGV4dC5tYXRjaCgvXlxkKyQvKSkgew0KICAgICAgICAgICAgICAgICAgICAvLyBhIGxpdHRsZSBoZWxwIGZvciB0ZXJuYXJ5IGEgPyAxIDogMDsNCiAgICAgICAgICAgICAgICAgICAgc3RhcnRfZGVsaW0gPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RlbGltID0gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHN0YXJ0X2RlbGltKSB7DQogICAgICAgICAgICAgICAgcHJpbnRfc3BhY2UoKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcHJpbnRfdG9rZW4oKTsNCg0KICAgICAgICAgICAgaWYgKGVuZF9kZWxpbSkgew0KICAgICAgICAgICAgICAgIHByaW50X3NwYWNlKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBicmVhazsNCg0KICAgICAgICBjYXNlICdUS19CTE9DS19DT01NRU5UJzoNCg0KICAgICAgICAgICAgcHJpbnRfbmV3bGluZSgpOw0KICAgICAgICAgICAgcHJpbnRfdG9rZW4oKTsNCiAgICAgICAgICAgIHByaW50X25ld2xpbmUoKTsNCiAgICAgICAgICAgIGJyZWFrOw0KDQogICAgICAgIGNhc2UgJ1RLX0NPTU1FTlQnOg0KDQogICAgICAgICAgICAvLyBwcmludF9uZXdsaW5lKCk7DQogICAgICAgICAgICBwcmludF9zcGFjZSgpOw0KICAgICAgICAgICAgcHJpbnRfdG9rZW4oKTsNCiAgICAgICAgICAgIHByaW50X25ld2xpbmUoKTsNCiAgICAgICAgICAgIGJyZWFrOw0KDQogICAgICAgIGNhc2UgJ1RLX1VOS05PV04nOg0KICAgICAgICAgICAgcHJpbnRfdG9rZW4oKTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQoNCiAgICAgICAgbGFzdF90eXBlID0gdG9rZW5fdHlwZTsNCiAgICAgICAgbGFzdF90ZXh0ID0gdG9rZW5fdGV4dDsNCiAgICB9DQoNCiAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpOw0KDQp9DQo="></script>
    <script type="text/javascript" src="data:application/x-javascript;base64,ZXZhbChiYXNlMi5uYW1lc3BhY2UpOw0KZXZhbChKYXZhU2NyaXB0Lm5hbWVzcGFjZSk7DQoNCnZhciBJR05PUkUgPSBSZWdHcnAuSUdOT1JFOw0KdmFyIFJFTU9WRSA9ICIiOw0KdmFyIFNQQUNFID0gIiAiOw0KdmFyIFdPUkRTID0gL1x3Ky9nOw0KDQp2YXIgUGFja2VyID0gQmFzZS5leHRlbmQoew0KCW1pbmlmeTogZnVuY3Rpb24oc2NyaXB0KSB7DQoJCXNjcmlwdCA9IHNjcmlwdC5yZXBsYWNlKFBhY2tlci5DT05USU5VRSwgIiIpOw0KCQlzY3JpcHQgPSBQYWNrZXIuZGF0YS5leGVjKHNjcmlwdCk7DQoJCXNjcmlwdCA9IFBhY2tlci53aGl0ZXNwYWNlLmV4ZWMoc2NyaXB0KTsNCgkJc2NyaXB0ID0gUGFja2VyLmNsZWFuLmV4ZWMoc2NyaXB0KTsNCgkJcmV0dXJuIHNjcmlwdDsNCgl9LA0KCQ0KCXBhY2s6IGZ1bmN0aW9uKHNjcmlwdCwgYmFzZTYyLCBzaHJpbmspIHsNCgkJc2NyaXB0ID0gdGhpcy5taW5pZnkoc2NyaXB0ICsgIlxuIik7DQoJCWlmIChzaHJpbmspIHNjcmlwdCA9IHRoaXMuX3Nocmlua1ZhcmlhYmxlcyhzY3JpcHQpOw0KCQlpZiAoYmFzZTYyKSBzY3JpcHQgPSB0aGlzLl9iYXNlNjJFbmNvZGUoc2NyaXB0KTsJDQoJCXJldHVybiBzY3JpcHQ7DQoJfSwNCgkNCglfYmFzZTYyRW5jb2RlOiBmdW5jdGlvbihzY3JpcHQpIHsNCgkJdmFyIHdvcmRzID0gbmV3IFdvcmRzKHNjcmlwdCk7DQoJCXZhciBlbmNvZGUgPSBmdW5jdGlvbih3b3JkKSB7DQoJCQlyZXR1cm4gd29yZHMuZ2V0KHdvcmQpLmVuY29kZWQ7DQoJCX07DQoJCQ0KCQkvKiBidWlsZCB0aGUgcGFja2VkIHNjcmlwdCAqLw0KCQkNCgkJdmFyIHAgPSB0aGlzLl9lc2NhcGUoc2NyaXB0LnJlcGxhY2UoV09SRFMsIGVuY29kZSkpOwkJDQoJCXZhciBhID0gTWF0aC5taW4oTWF0aC5tYXgod29yZHMuc2l6ZSgpLCAyKSwgNjIpOw0KCQl2YXIgYyA9IHdvcmRzLnNpemUoKTsNCgkJdmFyIGsgPSB3b3JkczsNCgkJdmFyIGUgPSBQYWNrZXJbIkVOQ09ERSIgKyAoYSA+IDEwID8gYSA+IDM2ID8gNjIgOiAzNiA6IDEwKV07DQoJCXZhciByID0gYSA+IDEwID8gImUoYykiIDogImMiOw0KCQkNCgkJLy8gdGhlIHdob2xlIHRoaW5nDQoJCXJldHVybiBmb3JtYXQoUGFja2VyLlVOUEFDSywgcCxhLGMsayxlLHIpOw0KCX0sDQoJDQoJX2VzY2FwZTogZnVuY3Rpb24oc2NyaXB0KSB7DQoJCS8vIHNpbmdsZSBxdW90ZXMgd3JhcCB0aGUgZmluYWwgc3RyaW5nIHNvIGVzY2FwZSB0aGVtDQoJCS8vIGFsc28gZXNjYXBlIG5ldyBsaW5lcyByZXF1aXJlZCBieSBjb25kaXRpb25hbCBjb21tZW50cw0KCQlyZXR1cm4gc2NyaXB0LnJlcGxhY2UoLyhbXFwnXSkvZywgIlxcJDEiKS5yZXBsYWNlKC9bXHJcbl0rL2csICJcXG4iKTsNCgl9LA0KCQ0KCV9zaHJpbmtWYXJpYWJsZXM6IGZ1bmN0aW9uKHNjcmlwdCkgew0KCQkvLyBXaW5kb3dzIFNjcmlwdGluZyBIb3N0IGNhbm5vdCBkbyByZWdleHAudGVzdCgpIG9uIGdsb2JhbCByZWdleHBzLg0KCQl2YXIgZ2xvYmFsID0gZnVuY3Rpb24ocmVnZXhwKSB7DQoJCQkvLyBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYSBnbG9iYWwgdmVyc2lvbiBvZiB0aGUgcGFzc2VkIHJlZ2V4cC4NCgkJCXJldHVybiBuZXcgUmVnRXhwKHJlZ2V4cC5zb3VyY2UsICJnIik7DQoJCX07DQoJCQ0KCQl2YXIgZGF0YSA9IFtdOyAvLyBlbmNvZGVkIHN0cmluZ3MgYW5kIHJlZ3VsYXIgZXhwcmVzc2lvbnMNCgkJdmFyIFJFR0VYUCA9IC9eW14nIl1cLy87DQoJCXZhciBzdG9yZSA9IGZ1bmN0aW9uKHN0cmluZykgew0KCQkJdmFyIHJlcGxhY2VtZW50ID0gIiMiICsgZGF0YS5sZW5ndGg7DQoJCQlpZiAoUkVHRVhQLnRlc3Qoc3RyaW5nKSkgew0KCQkJCXJlcGxhY2VtZW50ID0gc3RyaW5nLmNoYXJBdCgwKSArIHJlcGxhY2VtZW50Ow0KCQkJCXN0cmluZyA9IHN0cmluZy5zbGljZSgxKTsNCgkJCX0NCgkJCWRhdGEucHVzaChzdHJpbmcpOw0KCQkJcmV0dXJuIHJlcGxhY2VtZW50Ow0KCQl9Ow0KCQkNCgkJLy8gQmFzZTUyIGVuY29kaW5nIChhLVopDQoJCXZhciBlbmNvZGU1MiA9IGZ1bmN0aW9uKGMpIHsNCgkJCXJldHVybiAoYyA8IDUyID8gJycgOiBhcmd1bWVudHMuY2FsbGVlKHBhcnNlSW50KGMgLyA1MikpKSArDQoJCQkJKChjID0gYyAlIDUyKSA+IDI1ID8gU3RyaW5nLmZyb21DaGFyQ29kZShjICsgMzkpIDogU3RyaW5nLmZyb21DaGFyQ29kZShjICsgOTcpKTsNCgkJfTsNCgkJCQkNCgkJLy8gaWRlbnRpZnkgYmxvY2tzLCBwYXJ0aWN1bGFybHkgaWRlbnRpZnkgZnVuY3Rpb24gYmxvY2tzICh3aGljaCBkZWZpbmUgc2NvcGUpDQoJCXZhciBCTE9DSyA9IC8oZnVuY3Rpb25ccypbXHckXSpccypcKFxzKihbXlwpXSopXHMqXClccyopPyhceyhbXnt9XSopXH0pLzsNCgkJdmFyIFZBUl8gPSAvdmFyXHMrL2c7DQoJCXZhciBWQVJfTkFNRSA9IC92YXJccytbXHckXSsvZzsNCgkJdmFyIENPTU1BID0gL1xzKixccyovOw0KCQl2YXIgYmxvY2tzID0gW107IC8vIHN0b3JlIHByb2dyYW0gYmxvY2tzIChhbnl0aGluZyBiZXR3ZWVuIGJyYWNlcyB7fSkNCgkJLy8gZW5jb2RlciBmb3IgcHJvZ3JhbSBibG9ja3MNCgkJdmFyIGVuY29kZSA9IGZ1bmN0aW9uKGJsb2NrLCBmdW5jLCBhcmdzKSB7DQoJCQlpZiAoZnVuYykgeyAvLyB0aGUgYmxvY2sgaXMgYSBmdW5jdGlvbiBibG9jaw0KCQkJDQoJCQkJLy8gZGVjb2RlIHRoZSBmdW5jdGlvbiBibG9jayAoVEhJUyBJUyBUSEUgSU1QT1JUQU5UIEJJVCkNCgkJCQkvLyBXZSBhcmUgcmV0cmlldmluZyBhbGwgc3ViLWJsb2NrcyBhbmQgd2lsbCByZS1wYXJzZSB0aGVtIGluIGxpZ2h0DQoJCQkJLy8gb2YgbmV3bHkgc2hydW5rIHZhcmlhYmxlcw0KCQkJCWJsb2NrID0gZGVjb2RlKGJsb2NrKTsNCgkJCQkNCgkJCQkvLyBjcmVhdGUgdGhlIGxpc3Qgb2YgdmFyaWFibGUgYW5kIGFyZ3VtZW50IG5hbWVzIA0KCQkJCXZhciB2YXJzID0gbWF0Y2goYmxvY2ssIFZBUl9OQU1FKS5qb2luKCIsIikucmVwbGFjZShWQVJfLCAiIik7DQoJCQkJdmFyIGlkcyA9IEFycmF5Mi5jb21iaW5lKGFyZ3Muc3BsaXQoQ09NTUEpLmNvbmNhdCh2YXJzLnNwbGl0KENPTU1BKSkpOw0KCQkJCQ0KCQkJCS8vIHByb2Nlc3MgZWFjaCBpZGVudGlmaWVyDQoJCQkJdmFyIGNvdW50ID0gMCwgc2hvcnRJZDsNCgkJCQlmb3JFYWNoIChpZHMsIGZ1bmN0aW9uKGlkKSB7DQoJCQkJCWlkID0gdHJpbShpZCk7DQoJCQkJCWlmIChpZCAmJiBpZC5sZW5ndGggPiAxKSB7IC8vID4gMSBjaGFyDQoJCQkJCQlpZCA9IHJlc2NhcGUoaWQpOw0KCQkJCQkJLy8gZmluZCB0aGUgbmV4dCBmcmVlIHNob3J0IG5hbWUgKGNoZWNrIGV2ZXJ5dGhpbmcgaW4gdGhlIGN1cnJlbnQgc2NvcGUpDQoJCQkJCQlkbyBzaG9ydElkID0gZW5jb2RlNTIoY291bnQrKyk7DQoJCQkJCQl3aGlsZSAobmV3IFJlZ0V4cCgiW15cXHckLl0iICsgc2hvcnRJZCArICJbXlxcdyQ6XSIpLnRlc3QoYmxvY2spKTsNCgkJCQkJCS8vIHJlcGxhY2UgdGhlIGxvbmcgbmFtZSB3aXRoIHRoZSBzaG9ydCBuYW1lDQoJCQkJCQl2YXIgcmVnID0gbmV3IFJlZ0V4cCgiKFteXFx3JC5dKSIgKyBpZCArICIoW15cXHckOl0pIik7DQoJCQkJCQl3aGlsZSAocmVnLnRlc3QoYmxvY2spKSBibG9jayA9IGJsb2NrLnJlcGxhY2UoZ2xvYmFsKHJlZyksICIkMSIgKyBzaG9ydElkICsgIiQyIik7DQoJCQkJCQl2YXIgcmVnID0gbmV3IFJlZ0V4cCgiKFteeyxcXHckLl0pIiArIGlkICsgIjoiLCAiZyIpOw0KCQkJCQkJYmxvY2sgPSBibG9jay5yZXBsYWNlKHJlZywgIiQxIiArIHNob3J0SWQgKyAiOiIpOw0KCQkJCQl9DQoJCQkJfSk7DQoJCQl9DQoJCQl2YXIgcmVwbGFjZW1lbnQgPSAifiIgKyBibG9ja3MubGVuZ3RoICsgIn4iOw0KCQkJYmxvY2tzLnB1c2goYmxvY2spOw0KCQkJcmV0dXJuIHJlcGxhY2VtZW50Ow0KCQl9Ow0KCQkNCgkJLy8gZGVjb2RlciBmb3IgcHJvZ3JhbSBibG9ja3MNCgkJdmFyIEVOQ09ERUQgPSAvfihcZCspfi87DQoJCXZhciBkZWNvZGUgPSBmdW5jdGlvbihzY3JpcHQpIHsNCgkJCXdoaWxlIChFTkNPREVELnRlc3Qoc2NyaXB0KSkgew0KCQkJCXNjcmlwdCA9IHNjcmlwdC5yZXBsYWNlKGdsb2JhbChFTkNPREVEKSwgZnVuY3Rpb24obWF0Y2gsIGluZGV4KSB7DQoJCQkJCXJldHVybiBibG9ja3NbaW5kZXhdOw0KCQkJCX0pOw0KCQkJfQ0KCQkJcmV0dXJuIHNjcmlwdDsNCgkJfTsNCgkJDQoJCS8vIGVuY29kZSBzdHJpbmdzIGFuZCByZWd1bGFyIGV4cHJlc3Npb25zDQoJCXNjcmlwdCA9IFBhY2tlci5kYXRhLmV4ZWMoc2NyaXB0LCBzdG9yZSk7DQoJCQ0KCQkvLyByZW1vdmUgY2xvc3VyZXMgKHRoaXMgaXMgZm9yIGJhc2UyIG5hbWVzcGFjZXMgb25seSkNCgkJc2NyaXB0ID0gc2NyaXB0LnJlcGxhY2UoL25ldyBmdW5jdGlvblwoX1wpXHMqXHsvZywgIns7IzsiKTsNCgkJDQoJCS8vIGVuY29kZSBibG9ja3MsIGFzIHdlIGVuY29kZSB3ZSByZXBsYWNlIHZhcmlhYmxlIGFuZCBhcmd1bWVudCBuYW1lcw0KCQl3aGlsZSAoQkxPQ0sudGVzdChzY3JpcHQpKSB7DQoJCQlzY3JpcHQgPSBzY3JpcHQucmVwbGFjZShnbG9iYWwoQkxPQ0spLCBlbmNvZGUpOw0KCQl9DQoJCQ0KCQkvLyBwdXQgdGhlIGJsb2NrcyBiYWNrDQoJCXNjcmlwdCA9IGRlY29kZShzY3JpcHQpOw0KCQkNCgkJLy8gcHV0IGJhY2sgdGhlIGNsb3N1cmUgKGZvciBiYXNlMiBuYW1lc3BhY2VzIG9ubHkpDQoJCXNjcmlwdCA9IHNjcmlwdC5yZXBsYWNlKC9cezsjOy9nLCAibmV3IGZ1bmN0aW9uKF8peyIpOw0KCQkNCgkJLy8gcHV0IHN0cmluZ3MgYW5kIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYmFjaw0KCQlzY3JpcHQgPSBzY3JpcHQucmVwbGFjZSgvIyhcZCspL2csIGZ1bmN0aW9uKG1hdGNoLCBpbmRleCkgewkJDQoJCQlyZXR1cm4gZGF0YVtpbmRleF07DQoJCX0pOw0KCQkNCgkJcmV0dXJuIHNjcmlwdDsNCgl9DQp9LCB7DQoJQ09OVElOVUU6IC9cXFxyP1xuL2csDQoJDQoJRU5DT0RFMTA6ICJTdHJpbmciLA0KCUVOQ09ERTM2OiAiZnVuY3Rpb24oYyl7cmV0dXJuIGMudG9TdHJpbmcoYSl9IiwNCglFTkNPREU2MjogImZ1bmN0aW9uKGMpe3JldHVybihjPGE/Jyc6ZShwYXJzZUludChjL2EpKSkrKChjPWMlYSk+MzU/U3RyaW5nLmZyb21DaGFyQ29kZShjKzI5KTpjLnRvU3RyaW5nKDM2KSl9IiwNCgkNCglVTlBBQ0s6ICJldmFsKGZ1bmN0aW9uKHAsYSxjLGssZSxyKXtlPSU1O2lmKCEnJy5yZXBsYWNlKC9eLyxTdHJpbmcpKXt3aGlsZShjLS0pclslNl09a1tjXSIgKw0KCSAgICAgICAgInx8JTY7az1bZnVuY3Rpb24oZSl7cmV0dXJuIHJbZV19XTtlPWZ1bmN0aW9uKCl7cmV0dXJuJ1xcXFx3Kyd9O2M9MX07d2hpbGUoYy0tKWlmKGtbY10pcD1wLiIgKw0KCQkJInJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXGInK2UoYykrJ1xcXFxiJywnZycpLGtbY10pO3JldHVybiBwfSgnJTEnLCUyLCUzLCclNCcuc3BsaXQoJ3wnKSwwLHt9KSkiLA0KCQ0KCWluaXQ6IGZ1bmN0aW9uKCkgew0KCQl0aGlzLmRhdGEgPSByZWR1Y2UodGhpcy5kYXRhLCBmdW5jdGlvbihkYXRhLCByZXBsYWNlbWVudCwgZXhwcmVzc2lvbikgew0KCQkJZGF0YS5wdXQodGhpcy5qYXZhc2NyaXB0LmV4ZWMoZXhwcmVzc2lvbiksIHJlcGxhY2VtZW50KTsNCgkJCXJldHVybiBkYXRhOw0KCQl9LCBuZXcgUmVnR3JwLCB0aGlzKTsNCgkJdGhpcy5jbGVhbiA9IHRoaXMuZGF0YS51bmlvbih0aGlzLmNsZWFuKTsNCgkJdGhpcy53aGl0ZXNwYWNlID0gdGhpcy5kYXRhLnVuaW9uKHRoaXMud2hpdGVzcGFjZSk7DQoJfSwNCgkNCgljbGVhbjogew0KCQkiXFwoXFxzKjtcXHMqO1xccypcXCkiOiAiKDs7KSIsIC8vIGZvciAoOzspIGxvb3BzDQoJCSJ0aHJvd1tefTtdK1t9O10iOiBJR05PUkUsIC8vIGEgc2FmYXJpIDEuMyBidWcNCgkJIjsrXFxzKihbfTtdKSI6ICIkMSINCgl9LA0KCQ0KCWRhdGE6IHsNCgkJLy8gc3RyaW5ncw0KCQkiU1RSSU5HMSI6IElHTk9SRSwNCgkJJ1NUUklORzInOiBJR05PUkUsDQoJCSJDT05ESVRJT05BTCI6IElHTk9SRSwgLy8gY29uZGl0aW9uYWwgY29tbWVudHMNCgkJIihDT01NRU5UMSlcXG5cXHMqKFJFR0VYUCk/IjogIlxuJDMiLA0KCQkiKENPTU1FTlQyKVxccyooUkVHRVhQKT8iOiAiICQzIiwNCgkJIihbXFxbKFxcXj0se306OyZ8ISo/XSlcXHMqKFJFR0VYUCkiOiAiJDEkMiINCgl9LA0KCQ0KCWphdmFzY3JpcHQ6IG5ldyBSZWdHcnAoew0KCQlDT01NRU5UMTogICAgLyhcL1wvfDs7OylbXlxuXSovLnNvdXJjZSwNCgkJQ09NTUVOVDI6ICAgIC9cL1wqW14qXSpcKisoW15cL11bXipdKlwqKykqXC8vLnNvdXJjZSwNCgkJQ09ORElUSU9OQUw6IC9cL1wqQHxAXCpcL3xcL1wvQFteXG5dKlxuLy5zb3VyY2UsDQoJCVJFR0VYUDogICAgICAvXC8oXFxbXC9cXF18W14qXC9dKShcXC58W15cL1xuXFxdKSpcL1tnaW1dKi8uc291cmNlLA0KCQlTVFJJTkcxOiAgICAgLycoXFwufFteJ1xcXSkqJy8uc291cmNlLA0KCQlTVFJJTkcyOiAgICAgLyIoXFwufFteIlxcXSkqIi8uc291cmNlDQoJfSksDQoJDQoJd2hpdGVzcGFjZTogew0KCQkiKFxcZClcXHMrKFxcLlxccypbYS16XFwkX1xcWyhdKSI6ICIkMSAkMiIsIA0KCQkiKFsrLV0pXFxzKyhbKy1dKSI6ICIkMSAkMiIsIC8vIGMgPSBhKysgK2I7DQoJCSJcXGJcXHMrXFwkXFxzK1xcYiI6ICIgJCAiLCAvLyB2YXIgJCBpbg0KCQkiXFwkXFxzK1xcYiI6ICIkICIsIC8vIG9iamVjdCQgaW4NCgkJIlxcYlxccytcXCQiOiAiICQiLCAvLyByZXR1cm4gJG9iamVjdA0KCQkiXFxiXFxzK1xcYiI6IFNQQUNFLA0KCQkiXFxzKyI6IFJFTU9WRQ0KCX0NCn0pOw0KCQkJCSANClN0cmluZy5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmluZGV4T2YoYyk+LTE7fTtmdW5jdGlvbiBqc21pbihjb21tZW50LGlucHV0LGxldmVsKXtpZihpbnB1dD09PXVuZGVmaW5lZCl7aW5wdXQ9Y29tbWVudDtjb21tZW50PScnO2xldmVsPTI7fWVsc2UgaWYobGV2ZWw9PT11bmRlZmluZWR8fGxldmVsPDF8fGxldmVsPjMpe2xldmVsPTI7fWlmKGNvbW1lbnQubGVuZ3RoPjApe2NvbW1lbnQrPSdcbic7fXZhciBhPScnLGI9JycsRU9GPS0xLExFVFRFUlM9J0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonLERJR0lUUz0nMDEyMzQ1Njc4OScsQUxOVU09TEVUVEVSUytESUdJVFMrJ18kXFwnLHRoZUxvb2thaGVhZD1FT0Y7ZnVuY3Rpb24gaXNBbHBoYW51bShjKXtyZXR1cm4gYyE9RU9GJiYoQUxOVU0uaGFzKGMpfHxjLmNoYXJDb2RlQXQoMCk+MTI2KTt9ZnVuY3Rpb24gZ2V0KCl7dmFyIGM9dGhlTG9va2FoZWFkO2lmKGdldC5pPT1nZXQubCl7cmV0dXJuIEVPRjt9dGhlTG9va2FoZWFkPUVPRjtpZihjPT1FT0Ype2M9aW5wdXQuY2hhckF0KGdldC5pKTsrK2dldC5pO31pZihjPj0nICd8fGM9PSdcbicpe3JldHVybiBjO31pZihjPT0nXHInKXtyZXR1cm4nXG4nO31yZXR1cm4nICc7fWdldC5pPTA7Z2V0Lmw9aW5wdXQubGVuZ3RoO2Z1bmN0aW9uIHBlZWsoKXt0aGVMb29rYWhlYWQ9Z2V0KCk7cmV0dXJuIHRoZUxvb2thaGVhZDt9ZnVuY3Rpb24gbmV4dCgpe3ZhciBjPWdldCgpO2lmKGM9PScvJyl7c3dpdGNoKHBlZWsoKSl7Y2FzZScvJzpmb3IoOzspe2M9Z2V0KCk7aWYoYzw9J1xuJyl7cmV0dXJuIGM7fX1icmVhaztjYXNlJyonOmdldCgpO2Zvcig7Oyl7c3dpdGNoKGdldCgpKXtjYXNlJyonOmlmKHBlZWsoKT09Jy8nKXtnZXQoKTtyZXR1cm4nICc7fWJyZWFrO2Nhc2UgRU9GOnRocm93J0Vycm9yOiBVbnRlcm1pbmF0ZWQgY29tbWVudC4nO319YnJlYWs7ZGVmYXVsdDpyZXR1cm4gYzt9fXJldHVybiBjO31mdW5jdGlvbiBhY3Rpb24oZCl7dmFyIHI9W107aWYoZD09MSl7ci5wdXNoKGEpO31pZihkPDMpe2E9YjtpZihhPT0nXCcnfHxhPT0nIicpe2Zvcig7Oyl7ci5wdXNoKGEpO2E9Z2V0KCk7aWYoYT09Yil7YnJlYWs7fWlmKGE8PSdcbicpe3Rocm93J0Vycm9yOiB1bnRlcm1pbmF0ZWQgc3RyaW5nIGxpdGVyYWw6ICcrYTt9aWYoYT09J1xcJyl7ci5wdXNoKGEpO2E9Z2V0KCk7fX19fWI9bmV4dCgpO2lmKGI9PScvJyYmJygsPTpbISZ8Jy5oYXMoYSkpe3IucHVzaChhKTtyLnB1c2goYik7Zm9yKDs7KXthPWdldCgpO2lmKGE9PScvJyl7YnJlYWs7fWVsc2UgaWYoYT09J1xcJyl7ci5wdXNoKGEpO2E9Z2V0KCk7fWVsc2UgaWYoYTw9J1xuJyl7dGhyb3cnRXJyb3I6IHVudGVybWluYXRlZCBSZWd1bGFyIEV4cHJlc3Npb24gbGl0ZXJhbCc7fXIucHVzaChhKTt9Yj1uZXh0KCk7fXJldHVybiByLmpvaW4oJycpO31mdW5jdGlvbiBtKCl7dmFyIHI9W107YT0nXG4nO3IucHVzaChhY3Rpb24oMykpO3doaWxlKGEhPUVPRil7c3dpdGNoKGEpe2Nhc2UnICc6aWYoaXNBbHBoYW51bShiKSl7ci5wdXNoKGFjdGlvbigxKSk7fWVsc2V7ci5wdXNoKGFjdGlvbigyKSk7fWJyZWFrO2Nhc2UnXG4nOnN3aXRjaChiKXtjYXNlJ3snOmNhc2UnWyc6Y2FzZScoJzpjYXNlJysnOmNhc2UnLSc6ci5wdXNoKGFjdGlvbigxKSk7YnJlYWs7Y2FzZScgJzpyLnB1c2goYWN0aW9uKDMpKTticmVhaztkZWZhdWx0OmlmKGlzQWxwaGFudW0oYikpe3IucHVzaChhY3Rpb24oMSkpO31lbHNle2lmKGxldmVsPT0xJiZiIT0nXG4nKXtyLnB1c2goYWN0aW9uKDEpKTt9ZWxzZXtyLnB1c2goYWN0aW9uKDIpKTt9fX1icmVhaztkZWZhdWx0OnN3aXRjaChiKXtjYXNlJyAnOmlmKGlzQWxwaGFudW0oYSkpe3IucHVzaChhY3Rpb24oMSkpO2JyZWFrO31yLnB1c2goYWN0aW9uKDMpKTticmVhaztjYXNlJ1xuJzppZihsZXZlbD09MSYmYSE9J1xuJyl7ci5wdXNoKGFjdGlvbigxKSk7fWVsc2V7c3dpdGNoKGEpe2Nhc2UnfSc6Y2FzZSddJzpjYXNlJyknOmNhc2UnKyc6Y2FzZSctJzpjYXNlJyInOmNhc2UnXCcnOmlmKGxldmVsPT0zKXtyLnB1c2goYWN0aW9uKDMpKTt9ZWxzZXtyLnB1c2goYWN0aW9uKDEpKTt9YnJlYWs7ZGVmYXVsdDppZihpc0FscGhhbnVtKGEpKXtyLnB1c2goYWN0aW9uKDEpKTt9ZWxzZXtyLnB1c2goYWN0aW9uKDMpKTt9fX1icmVhaztkZWZhdWx0OnIucHVzaChhY3Rpb24oMSkpO2JyZWFrO319fXJldHVybiByLmpvaW4oJycpO31qc21pbi5vbGRTaXplPWlucHV0Lmxlbmd0aDtyZXQ9bShpbnB1dCk7anNtaW4ubmV3U2l6ZT1yZXQubGVuZ3RoO3JldHVybiBjb21tZW50K3JldDt9DQo="></script>
    <script type="text/javascript">
        $(document).ready(function(){$("#content").val("");$("#btn").click(function(){var packer=new Packer;var c=$("#content").val();if(c.length<=0||c=="請輸入內容"){$("#content").val("請輸入內容");}else{var v=packer.pack(c,true,true);$("#content").val(v);}});$('.btn1').live('mouseover',function(){$(this).addClass("cur1");}).live('mouseout',function(){$(this).removeClass("cur1");});$("#btnDecode").click(function(){var c=$("#content").val();if(c.length<=0||c=="請輸入內容"){$("#content").val("請輸入內容");}else{var r=eval(c.slice(4));r=r.replace(/^\s+/,'');if(r&&r.charAt(0)==='<'){r=style_html(r,4,' ',80);}else{r=js_beautify(r,4,' ');}
        $("#content").val(r);}});$("#btnJSFormat").click(function(){var r=$("#content").val();r=r.replace(/^\s+/,'');if(r&&r.charAt(0)==='<'){r=style_html(r,4,' ',80);}else{r=js_beautify(r,4,' ');}
        $("#content").val(r);});$("#btnJSYS").click(function(){var c=$("#content").val();if(c.length<=0||c=="請輸入內容"){$("#content").val("請輸入內容");}else{var v=jsmin("",c,2);$("#content").val(v);alert("原來大小"+jsmin.oldSize+" 壓縮後大小："+jsmin.newSize+"  壓縮率為："+(Math.round(jsmin.newSize/jsmin.oldSize*1000)/10)+'%');}});$("#btnCSSFormat").click(function(){CSS('format');});$("#btnCSSYS").click(function(){CSS('pack');});});<!--
        var lCSSCoder={format:function(s){s=s.replace(/\s*([\{\}\:\;\,])\s*/g,"$1");s=s.replace(/;\s*;/g,";");s=s.replace(/\,[\s\.\#\d]*{/g,"{");s=s.replace(/([^\s])\{([^\s])/g,"$1 {\n\t$2");s=s.replace(/([^\s])\}([^\n]*)/g,"$1\n}\n$2");s=s.replace(/([^\s]);([^\s\}])/g,"$1;\n\t$2");return s;},pack:function(s){s=s.replace(/\/\*(.|\n)*?\*\//g,"");s=s.replace(/\s*([\{\}\:\;\,])\s*/g,"$1");s=s.replace(/\,[\s\.\#\d]*\{/g,"{");s=s.replace(/;\s*;/g,";");s=s.match(/^\s*(\S+(\s+\S+)*)\s*$/);return(s==null)?"":s[1];}};function CSS(s){var r=$("#content").val();r=lCSSCoder[s](r);$("#content").val(r);}
    </script>
</head>
<body>
    <div id="code">
        <h3>JS混淆/解混淆、JS格式化/壓縮、CSS格式化/壓縮</h3>
        <textarea id="content">
</textarea><br>
        <input id="btn" value="混淆" class="btn1" type="button">
        <input id="btnDecode" value="解混淆" class="btn1" type="button">
        <input id="btnJSFormat" value="JS格式化" class="btn1" type="button">
        <input id="btnJSYS" value="JS壓縮" class="btn1" type="button">
        <input id="btnCSSFormat" value="CSS格式化" class="btn1" type="button">
        <input id="btnCSSYS" value="CSS壓縮" class="btn1" type="button">
    </div>
    <div style="text-align:center;clear:both">
    </div>
</body>
</html>